var vendor_lib=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n},function(e,t,n){(function(o,r){var i,s,a;
/**@license
 *       __ _____                     ________                              __
 *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 *           \/              /____/                              version 1.7.0
 *
 * This file is part of jQuery Terminal. http://terminal.jcubic.pl
 *
 * Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 * Released under the MIT license
 *
 * Contains:
 *
 * Storage plugin Distributed under the MIT License
 * Copyright (c) 2010 Dave Schindler
 *
 * jQuery Timers licenced with the WTFPL
 * <http://jquery.offput.ca/timers/>
 *
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 *
 * jQuery Caret
 * Copyright (c) 2009, Gideon Sireling
 * 3 clause BSD License
 *
 * sprintf.js
 * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 * licensed under 3 clause BSD license
 *
 * Date: Tue, 12 Sep 2017 07:04:06 +0000
 */
/**@license
 *       __ _____                     ________                              __
 *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 *           \/              /____/                              version 1.7.0
 *
 * This file is part of jQuery Terminal. http://terminal.jcubic.pl
 *
 * Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 * Released under the MIT license
 *
 * Contains:
 *
 * Storage plugin Distributed under the MIT License
 * Copyright (c) 2010 Dave Schindler
 *
 * jQuery Timers licenced with the WTFPL
 * <http://jquery.offput.ca/timers/>
 *
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 *
 * jQuery Caret
 * Copyright (c) 2009, Gideon Sireling
 * 3 clause BSD License
 *
 * sprintf.js
 * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 * licensed under 3 clause BSD license
 *
 * Date: Tue, 12 Sep 2017 07:04:06 +0000
 */
!function(e){var t=function(){return t.cache.hasOwnProperty(arguments[0])||(t.cache[arguments[0]]=t.parse(arguments[0])),t.format.call(null,t.cache[arguments[0]],arguments)};t.format=function(e,r){var i,s,a,l,c,u,f,h=1,p=e.length,d="",m=[];for(s=0;s<p;s++)if("string"===(d=n(e[s])))m.push(e[s]);else if("array"===d){if((l=e[s])[2])for(i=r[h],a=0;a<l[2].length;a++){if(!i.hasOwnProperty(l[2][a]))throw t('[sprintf] property "%s" does not exist',l[2][a]);i=i[l[2][a]]}else i=l[1]?r[l[1]]:r[h++];if(/[^s]/.test(l[8])&&"number"!==n(i))throw t("[sprintf] expecting number but found %s",n(i));switch(l[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=l[7]?i.toExponential(l[7]):i.toExponential();break;case"f":i=l[7]?parseFloat(i).toFixed(l[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&l[7]?i.substring(0,l[7]):i;break;case"u":i>>>=0;break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(l[8])&&l[3]&&i>=0?" +"+i:i,u=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",f=l[6]-String(i).length,c=l[6]?o(u,f):"",m.push(l[5]?i+c:c+i)}return m.join("")},t.cache={},t.parse=function(e){for(var t=e,n=[],o=[],r=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))o.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))o.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){r|=1;var i=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(i.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))i.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";i.push(a[1])}n[2]=i}else r|=2;if(3===r)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";o.push(n)}t=t.substring(n[0].length)}return o};function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function o(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}e.sprintf=t,e.vsprintf=function(e,n,o){return(o=n.slice(0)).splice(0,0,e),t.apply(null,o)}}(void 0!==o?o:window),s=[n(6)],void 0===(a="function"==typeof(i=function(e,t){"use strict";function n(){var t=e.Callbacks(),n=!1;this.resolve=function(){t.fire(),n=!0},this.add=function(e){n?e():t.add(e)}}e.omap=function(t,n){var o={};return e.each(t,function(e,r){o[e]=n.call(t,e,r)}),o};var o={clone_object:function(t){var n={};if("object"==typeof t){if(e.isArray(t))return this.clone_array(t);if(null===t)return t;for(var o in t)e.isArray(t[o])?n[o]=this.clone_array(t[o]):"object"==typeof t[o]?n[o]=this.clone_object(t[o]):n[o]=t[o]}return n},clone_array:function(t){if(!e.isFunction(Array.prototype.map))throw new Error("Your browser don't support ES5 array map use es5-shim");return t.slice(0).map(function(e){return"object"==typeof e?this.clone_object(e):e}.bind(this))}},i=function(e){return o.clone_object(e)},s=function(){var e=window.localStorage;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}}();function a(e,t){var n,o,r;if((n=new Date).setTime(n.getTime()+31536e6),o="; expires="+n.toGMTString(),"string"==typeof e&&"string"==typeof t)return document.cookie=e+"="+t+o+"; path=/",!0;if("object"==typeof e&&void 0===t){for(r in e)e.hasOwnProperty(r)&&(document.cookie=r+"="+e[r]+o+"; path=/");return!0}return!1}e.extend({Storage:{set:s?function(e,t){var n;if("string"==typeof e&&"string"==typeof t)return localStorage[e]=t,!0;if("object"==typeof e&&void 0===t){for(n in e)e.hasOwnProperty(n)&&(localStorage[n]=e[n]);return!0}return!1}:a,get:s?function(e){return localStorage[e]}:function(e){var t,n,o,r;for(t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(r=n[o];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},remove:s?function(e){return delete localStorage[e]}:function(e){return a(e,"")}}});var l=e;l.fn.extend({everyTime:function(e,t,n,o,r){return this.each(function(){l.timer.add(this,e,t,n,o,r)})},oneTime:function(e,t,n){return this.each(function(){l.timer.add(this,e,t,n,1)})},stopTime:function(e,t){return this.each(function(){l.timer.remove(this,e,t)})}}),l.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===t||null===e)return null;var n=this.regex.exec(l.trim(e.toString()));return n[2]?parseInt(n[1],10)*(this.powers[n[2]]||1):e},add:function(e,t,n,o,r,i){var s=0;if(l.isFunction(n)&&(r||(r=o),o=n,n=t),!("number"!=typeof(t=l.timer.timeParse(t))||isNaN(t)||t<=0)){r&&r.constructor!==Number&&(i=!!r,r=0),r=r||0,i=i||!1,e.$timers||(e.$timers={}),e.$timers[n]||(e.$timers[n]={}),o.$timerID=o.$timerID||this.guid++;var a=function(){i&&a.inProgress||(a.inProgress=!0,(++s>r&&0!==r||!1===o.call(e,s))&&l.timer.remove(e,n,o),a.inProgress=!1)};a.$timerID=o.$timerID,e.$timers[n][o.$timerID]||(e.$timers[n][o.$timerID]=window.setInterval(a,t)),this.global[n]||(this.global[n]=[]),this.global[n].push(e)}},remove:function(e,t,n){var o,r=e.$timers;if(r){if(t){if(r[t]){if(n)n.$timerID&&(window.clearInterval(r[t][n.$timerID]),delete r[t][n.$timerID]);else for(var i in r[t])r[t].hasOwnProperty(i)&&(window.clearInterval(r[t][i]),delete r[t][i]);for(o in r[t])if(r[t].hasOwnProperty(o))break;o||(o=null,delete r[t])}}else for(var s in r)r.hasOwnProperty(s)&&this.remove(e,s,n);for(o in r)if(r.hasOwnProperty(o))break;o||(e.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&l(window).one("unload",function(){var e=l.timer.global;for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],o=n.length;--o;)l.timer.remove(n[o],t)}),function(e){if(String.prototype.split.toString().match(/\[native/)){var t,n=String.prototype.split,o=void 0===/()??/.exec("")[1];t=function(e,t,r){if("[object RegExp]"!==Object.prototype.toString.call(t))return n.call(e,t,r);var i,s,a,l,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),f=0;for(t=new RegExp(t.source,u+"g"),e+="",o||(i=new RegExp("^"+t.source+"$(?!\\s)",u)),r=void 0===r?-1>>>0:r>>>0;(s=t.exec(e))&&!((a=s.index+s[0].length)>f&&(c.push(e.slice(f,s.index)),!o&&s.length>1&&s[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)}),s.length>1&&s.index<e.length&&Array.prototype.push.apply(c,s.slice(1)),l=s[0].length,f=a,c.length>=r));)t.lastIndex===s.index&&t.lastIndex++;return f===e.length?!l&&t.test("")||c.push(""):c.push(e.slice(f)),c.length>r?c.slice(0,r):c},String.prototype.split=function(e,n){return t(this,e,n)}}}(),e.fn.caret=function(e){var t=this[0],n="true"===t.contentEditable;if(0===arguments.length){if(window.getSelection){if(n){t.focus();var o=window.getSelection().getRangeAt(0),r=o.cloneRange();return r.selectNodeContents(t),r.setEnd(o.endContainer,o.endOffset),r.toString().length}return t.selectionStart}if(document.selection){if(t.focus(),n){var o=document.selection.createRange(),r=document.body.createTextRange();return r.moveToElementText(t),r.setEndPoint("EndToEnd",o),r.text.length}var e=0,i=t.createTextRange(),r=document.selection.createRange().duplicate(),s=r.getBookmark();for(i.moveToBookmark(s);0!==i.moveStart("character",-1);)e++;return e}return 0}if(-1===e&&(e=this[n?"text":"val"]().length),window.getSelection)n?(t.focus(),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e);else if(document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(t),i.moveStart("character",e),i.collapse(!0),i.select()}return n||t.focus(),e};var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function u(e){e.attr({role:"presentation","aria-hidden":"true"})}function f(){var t=[].slice.call(arguments),n=0;e.extend(this,{get:function(){return t},index:function(){return n},rotate:function(e){if(!e){var o=t.filter(function(e){return void 0!==e});if(!o.length)return}return 1===t.length?t[0]:(n===t.length-1?n=0:++n,void 0!==t[n]?t[n]:this.rotate(!0))},length:function(){return t.length},remove:function(e){delete t[e]},set:function(e){for(var o=t.length;o--;)if(t[o]===e)return void(n=o);this.append(e),n=t.length-1},front:function(){if(t.length){for(var e=n,o=!1;!t[e];)if(++e>t.length){if(o)break;e=0,o=!0}return t[e]}},map:function(e){return t.filter(Boolean).map(e)},forEach:function(e){t.filter(Boolean).forEach(e)},append:function(e){t.push(e)}})}function h(t){var n=t instanceof Array?t:t?[t]:[];e.extend(this,{data:function(){return n},map:function(t){return e.map(n,t)},size:function(){return n.length},pop:function(){if(0===n.length)return null;var e=n[n.length-1];return n=n.slice(0,n.length-1),e},push:function(e){return n=n.concat([e]),e},top:function(){return n.length>0?n[n.length-1]:null},clone:function(){return new h(n.slice(0))}})}function p(t,n,o){var r,i=!0,s="";"string"==typeof t&&""!==t&&(s=t+"_"),s+="commands";var a=(r=o?[]:(r=e.Storage.get(s))?JSON.parse(r):[]).length-1;e.extend(this,{append:function(t){i&&r[r.length-1]!==t&&(r.push(t),n&&r.length>n&&(r=r.slice(-n)),a=r.length-1,o||e.Storage.set(s,JSON.stringify(r)))},set:function(t){t instanceof Array&&(r=t,o||e.Storage.set(s,JSON.stringify(r)))},data:function(){return r},reset:function(){a=r.length-1},last:function(){return r[r.length-1]},end:function(){return a===r.length-1},position:function(){return a},current:function(){return r[a]},next:function(){if(a<r.length-1&&++a,-1!==a)return r[a]},previous:function(){var e=a;if(a>0&&--a,-1!==e)return r[a]},clear:function(){r=[],this.purge()},enabled:function(){return i},enable:function(){i=!0},purge:function(){o||e.Storage.remove(s)},disable:function(){i=!1}})}e.fn.resizer=function(t){var n="unbind"===arguments[0];if(!n&&!e.isFunction(t))throw new Error('Invalid argument, it need to a function of string "unbind".');return this.each(function(){var o=e(this);if(n)e(this).removeData("callbacks").find(".resizer").remove();else if(o.data("callbacks"))e(this).data("callbacks").push(t);else{o.data("callbacks",[t]);var r=this,i=e("<div/>").addClass("resizer").appendTo(this)[0],s="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",a="position: absolute; left: 0; top: 0; transition: 0s;";i.style.cssText=s,i.innerHTML='<div class="resize-sensor-expand" style="'+s+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+s+'"><div style="'+a+' width: 200%; height: 200%"></div></div>';var l,u,f,h,p=i.childNodes[0],d=p.childNodes[0],m=i.childNodes[1],g=r.offsetWidth,v=r.offsetHeight,y=function(){d.style.width="100000px",d.style.height="100000px",p.scrollLeft=1e5,p.scrollTop=1e5,m.scrollLeft=1e5,m.scrollTop=1e5};y();var b=function(){if(u=0,l){g=f,v=h;var e=o.data("callbacks");e&&e.length&&e.forEach(function(e){e()})}},_=function(){f=r.offsetWidth,h=r.offsetHeight,(l=f!==g||h!==v)&&!u&&(u=c(b)),y()};e(p).on("scroll",_),e(m).on("scroll",_)}})};var d=0;e.fn.cmd=function(n){var o=this,r=o.data("cmd");if(r)return r;var i=d++;o.addClass("cmd"),o.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>'),u(o.find("span").not(":eq(0)"));var s,a,l=e("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(o);n.width&&o.width(n.width);var c,f,h,m,g,v,y,b,_=o.find(".prompt"),w=!1,F="",x=null,k=n.mask||!1,A="",C="",E=0,T=n.historySize||60,D=o.find(".cursor"),O=0;function S(t){var n,r=function(){var e;if((e=window.getSelection())&&null!==e.focusNode)return e.focusOffset}(),i=function(){var t=e("<span>&nbsp;</span>").appendTo(o),n=t[0].getBoundingClientRect();return t.remove(),n}(),s=i.height,a=o.offset(),l=Math.floor((t.pageY-a.top)/s);if(!e.isNumeric(r))return A.length;var c=e(t.target).closest('[role="presentation"]');if(c.is("div"))n=r;else if(c.next().is(".cursor"))n=r;else{if(c.is(".cursor"))return E;if(c.prev().is(".cursor"))return E+r;n=0}var u,f=Z(A);u=l>0&&f.length>1?n+f.slice(0,l).reduce(function(e,t){return e+t.length},0):n;var h=A.replace(/\t/g,"\0\0\0\0").replace(/\n/,""),p=h.slice(0,u),d=p.replace(/\x00{4}/g,"\t").replace(/\x00+/,"").length,m=A.length;return d>m?m:d}var P={"ALT+D":function(){return o.set(A.slice(0,E)+A.slice(E).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0),!1},ENTER:function(){(v&&A&&!k&&e.isFunction(n.historyFilter)&&n.historyFilter(A)||n.historyFilter instanceof RegExp&&A.match(n.historyFilter)||!n.historyFilter)&&v.append(A);var t=A;return v.reset(),me="",he=!0,o.set(""),n.commands&&n.commands(t),e.isFunction(h)&&oe(),e(".clipboard").val(""),!1},"SHIFT+ENTER":function(){return o.insert("\n"),!0},BACKSPACE:function(){w?(F=F.slice(0,-1),G()):""!==A&&E>0&&o.delete(-1),he=!0},TAB:function(){o.insert("\t")},"CTRL+D":function(){return o.delete(1),!1},DELETE:function(){return o.delete(1),!0},ARROWUP:H,UP:H,"CTRL+P":H,ARROWDOWN:z,DOWN:z,"CTRL+N":z,ARROWLEFT:q,LEFT:q,"CTRL+B":q,"CTRL+ARROWLEFT":function(){var e=E-1,t=0;" "===A[e]&&--e;for(var n=e;n>0;--n){if(" "===A[n]&&" "!==A[n+1]){t=n+1;break}if("\n"===A[n]&&"\n"!==A[n+1]){t=n;break}}o.position(t)},"CTRL+R":function(){return w?Q(!0):(c=h,G(),f=A,o.set(""),ne(),w=!0),!1},"CTRL+G":function(){if(w)return h=c,oe(),o.set(f),ne(),w=!1,F="",!1},ARROWRIGHT:U,"CTRL+F":U,RIGHT:U,"CTRL+ARROWRIGHT":function(){" "===A[E]&&++E;var e=A.slice(E).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!e||e[0].match(/^\s+$/)?o.position(A.length):" "!==e[0][0]?E+=e.index+1:(E+=e.index+e[0].length-1," "!==e[0][e[0].length-1]&&--E),ne()},F12:j,END:K,"CTRL+E":K,HOME:$,"CTRL+A":$,"SHIFT+INSERT":N,"CTRL+SHIFT+T":j,"CTRL+W":function(){if(""!==A&&0!==E){var e=A.slice(0,E).match(/([^ ]+ *$)/);e[0].length&&(C=o.delete(-e[0].length),W(o,C))}return!1},"CTRL+H":function(){return""!==A&&E>0&&o.delete(-1),!1},"CTRL+X":j,"CTRL+C":j,"CTRL+T":j,"CTRL+Y":function(){""!==C&&o.insert(C)},"CTRL+V":N,"META+V":N,"CTRL+K":function(){return A.length-E&&(C=o.delete(A.length-E),W(o,C)),!1},"CTRL+U":function(){return""!==A&&0!==E&&(C=o.delete(-E),W(o,C)),!1},"CTRL+TAB":function(){return!1},"META+`":j,"META+R":j,"META+L":j};function j(){return!0}function N(){return l.val(""),O=0,l.trigger("focus",[!0]),l.on("input",function e(t){!function(){if(!(O++>0)&&o.isenabled()){var e=o.find("textarea");e.is(":focus")||e.trigger("focus",[!0]),o.oneTime(100,function(){o.insert(e.val()),e.val(A),Y()})}}(),l.off("input",e)}),!0}function H(){return se?(f=A,o.set(v.current())):o.set(v.previous()),se=!1,!1}function z(){return o.set(v.end()?f:v.next()),!1}function q(){E>0&&(o.position(-1,!0),ne())}function U(){return E<A.length&&o.position(1,!0),!1}function $(){o.position(0)}function K(){o.position(A.length)}function V(){var e=l.is(":focus");m?o.oneTime(10,function(){!l.is(":focus")&&m&&l.trigger("focus",[!0])}):!e||!I&&m||l.trigger("blur",[!0])}function Y(){o.oneTime(10,function(){l.val(A),m&&o.oneTime(10,function(){try{l.caret(E)}catch(e){}})})}if(R&&!L)y=function(e){e?D.addClass("blink"):D.removeClass("blink")};else{var X=!1;y=function(e){e&&!X?(X=!0,D.addClass("inverted blink"),o.everyTime(500,"blink",J)):X&&!e&&(X=!1,o.stopTime("blink",J),D.removeClass("inverted blink"))}}function J(){D.toggleClass("inverted")}function G(){h="(reverse-i-search)`"+F+"': ",oe()}function Q(t){var n,r,i=v.data(),s=i.length;if(t&&x>0&&(s-=x),F.length>0)for(var a=F.length;a>0;a--){r=e.terminal.escape_regex(F.substring(0,a)),n=new RegExp(r);for(var l=s;l--;)if(n.test(i[l]))return x=i.length-l,o.position(i[l].indexOf(r)),o.set(i[l],!0),ne(),void(F.length!==a&&(F=F.substring(0,a),G()))}F=""}function Z(t){function n(t){return e.terminal.split_equal(t,s)}var o,r=_.text(),i=new RegExp("^"+e.terminal.escape_regex(r));if(t.match(/\n/)){for(var l=t.split("\n"),c=s-a-1,u=0;u<l.length-1;++u)l[u]+=" ";for(M(l[0])>c?(o=n(r+l[0]))[0]=o[0].replace(i,""):o=[l[0]],u=1;u<l.length;++u)l[u].length>s?o=o.concat(n(l[u])):o.push(l[u])}else(o=n(r+t))[0]=o[0].replace(i,"");return o}function ee(t){t=e.terminal.escape_formatting(t);try{return e.terminal.apply_formatters(t)}catch(e){alert(e.message+"\n"+(e.stack?e.stack:e))}}function te(t){return e.terminal.format(e.terminal.encode(t))}var ne=function(){var n=D.prev(),r=D.next();function i(t,n,o){return e.terminal.substring(t,n,o)}function l(e,t){var o=e.length;if(e=ee(e),t===o)n.html(te(e)),D.html("&nbsp;"),r.html("");else if(0===t)n.html(""),D.html(te(i(e,0,1))),r.html(te(i(e,1)));else{var s=i(e,0,t);n.html(te(s));var a=i(e,t,t+1);D.html(te(a)),t===e.length-1?r.html(""):r.html(te(i(e,t+1)))}}function c(e){return'<div role="presentation">'+te(ee(e))+"</div>"}function u(t){var n=r;e.each(t,function(t,o){n=e(c(o)).insertAfter(n)})}function f(t){e.each(t,function(e,t){n.before(c(t))})}return function(){var i,h;switch(typeof k){case"boolean":i=k?A.replace(/./g,"*"):A;break;case"string":i=A.replace(/./g,k)}if(o.find("div").remove(),n.html(""),M(i)>s-a-1||i.match(/\n/)){var p=i.match(/\t/g),d=p?3*p.length:0;p&&(i=i.replace(/\t/g,"\0\0\0\0"));var m=Z(i);p&&(m=e.map(m,function(e){return e.replace(/\x00\x00\x00\x00/g,"\t")}));var g=m[0].length;if(0===g&&1===m.length);else if(E<g)l(m[0],E),u(m.slice(1));else if(E===g)n.before(c(m[0])),l(m[1]||"",0),m.length>1&&u(m.slice(2));else{var v=m.length;if(E<g)l(m[0],E),u(m.slice(1));else if(E===g)n.before(c(m[0])),l(m[1],0),u(m.slice(2));else{var y=m.slice(-1)[0],b=i.length-E-d,_=y.length,w=0;if(b<=_)f(m.slice(0,-1)),l(y,w=_===b?0:_-b);else if(3===v){var F=te(m[0]);n.before('<div role="presentation">'+F+"</div>"),l(m[1],E-g-1),F=te(ee(m[2])),r.after('<div role="presentation">'+F+"</div>")}else{var x,C;for(w=E,h=0;h<m.length;++h){var T=m[h].length;if(!(w>T))break;w-=T}if(C=m[h],x=h,w===C.length&&(w=0,(C=m[++x])===t)){var O=e.terminal.defaults.strings.redrawError;throw new Error(O)}l(C,w),f(m.slice(0,x)),u(m.slice(x+1))}}}}else""===i?(n.html(""),D.html("&nbsp;"),r.html("")):l(i,E)}}(),oe=function(){function t(t){var n=e.terminal.split_equal(e.terminal.encode(t),s),o=n.slice(-1).map(e.terminal.format)[0],r=n.slice(0,-1).map(function(t){return(t=e.terminal.format(t)).match(/class="/)?t.replace(/class="/,'class="line '):t.replace(/^<span/,'<span class="line"')}).concat([o]).join("\n");_.html(r),a=M(e("<span>"+o+"</span>").text())}return function(){switch(typeof h){case"string":t(h);break;case"function":h(t)}}}();function re(){e.isFunction(n.onCommandChange)&&n.onCommandChange(A)}e.extend(o,{name:function(e){if(e!==t){g=e;var r=v&&v.enabled()||!v;return v=new p(e,T,"memory"===n.history),r||v.disable(),o}return g},purge:function(){return v.clear(),o},history:function(){return v},delete:function(e,t){var n;return 0===e?o:(e<0?E>0&&(n=A.slice(0,E).slice(e),A=A.slice(0,E+e)+A.slice(E,A.length),t||o.position(E+e),re()):""!==A&&E<A.length&&(n=A.slice(E).slice(0,e),A=A.slice(0,E)+A.slice(E+e,A.length),re()),ne(),Y(),n)},set:function(e,n){return e!==t&&(A=e,n||o.position(A.length),ne(),Y(),re()),o},keymap:function(t){return void 0===t?b:(b=e.extend({},P,e.omap(t||{},function(e,t){return function(n){return t(n,P[e])}})),o)},insert:function(e,t){return E===A.length?A+=e:A=0===E?e+A:A.slice(0,E)+e+A.slice(E),t?Y():o.position(e.length,!0),ne(),re(),o},get:function(){return A},commands:function(e){return e?(n.commands=e,o):e},destroy:function(){return ve.unbind("keypress.cmd",ye),ve.unbind("keydown.cmd",ge),ve.unbind("input.cmd",we),o.stopTime("blink",J),o.find(".cursor").next().remove().end().prev().remove().end().remove(),o.find(".prompt, .clipboard").remove(),o.removeClass("cmd").removeData("cmd").off(".cmd"),o},prompt:function(e){if(e===t)return h;if("string"!=typeof e&&"function"!=typeof e)throw new Error("prompt must be a function or string");return h=e,oe(),ne(),o},kill_text:function(){return C},position:function(t,r){return"number"==typeof t?(r?E+=t:E=t<0?0:t>A.length?A.length:t,e.isFunction(n.onPositionChange)&&n.onPositionChange(E),ne(),Y(),o):E},visible:function(){var e=o.visible;return function(){e.apply(o,[]),ne(),oe()}}(),show:function(){var e=o.show;return function(){e.apply(o,[]),ne(),oe()}}(),resize:function(e){return e?s=e:function(){var e=o.find(".prompt").text("&nbsp;"),t=o.width(),n=e[0].getBoundingClientRect().width;s=Math.floor(t/n),oe()}(),ne(),oe(),o},enable:function(){if(!m){m=!0,o.addClass("enabled");try{l.caret(E)}catch(e){}y(!0),oe()}return V(),o},isenabled:function(){return m},disable:function(e){return m=!1,o.removeClass("enabled"),y(!1),e||V(),o},mask:function(e){return void 0===e?k:(k=e,ne(),o)}}),o.name(n.name||n.prompt||""),h="string"==typeof n.prompt?n.prompt:"> ",oe(),n.enabled!==t&&!0!==n.enabled||o.enable(),n.history||v.disable();var ie,se=!0,ae=!1,le=!1,ce=!1,ue=!1,fe=!1,he=!0,pe=!1,de=!1,me="";function ge(r){var i;_e((r.key,r.fake)),de="process"===(r.key||"").toLowerCase(),le=ue&&ce;try{r.fake||(ce=r.key&&1===r.key.length&&!r.ctrlKey,fe="unidentified"===String(r.key).toLowerCase(),pe="BACKSPACE"===r.key.toUpperCase()||8===r.which)}catch(e){}if("Unidentified"!==r.key){r.fake||(ue=!0,he=!1);var s=function(e){if(e.key){var t=e.key.toUpperCase();if("CONTROL"===t)return"CTRL";var n=[];return e.ctrlKey&&n.push("CTRL"),e.metaKey&&"META"!==t&&n.push("META"),e.shiftKey&&"SHIFT"!==t&&n.push("SHIFT"),e.altKey&&"ALT"!==t&&n.push("ALT"),e.key&&("DEL"===t?n.push("DELETE"):n.push(t)),n.join("+")}}(r);if(e.isFunction(n.keydown)&&(i=n.keydown(r))!==t)return i||(ie=!0),i;if(m)if(ie=-1!==["CTRL+V","META+V"].indexOf(s),38===r.which||80===r.which&&r.ctrlKey||(se=!0),!w||35!==r.which&&36!==r.which&&37!==r.which&&38!==r.which&&39!==r.which&&40!==r.which&&13!==r.which&&27!==r.which){if(!e.isFunction(b[s]))return r.altKey?void 0:void(ae=!1);if(!0===(i=b[s]()))return;if(i!==t)return i}else h=c,w=!1,x=null,F="",oe(),27===r.which&&o.set(""),ne(),ge.call(this,r)}else he=!0}var ve=e(document.documentElement||window);function ye(r){var i;if(_e((r.key,r.fake)),r.fake||(ue=!1),(!r.ctrlKey&&!r.metaKey||r.altKey)&&!ae){if(e.isFunction(n.keypress)&&(i=n.keypress(r))!==t)return i||(ie=!0),i;if(m){if(r.fake)return;var s;if((function(){if(!("KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype))return!1;var e=window.KeyboardEvent.prototype;return Object.getOwnPropertyDescriptor(e,"key").get.toString().match(/\[native code\]/)}()||r.fake)&&(s=r.key),s&&!fe||(s=String.fromCharCode(r.which)),"SPACEBAR"===s.toUpperCase()&&(s=" "),e.inArray(r.which,[13,0,8])>-1){if(123===r.keyCode)return;return!1}!s||!(!r.ctrlKey||r.ctrlKey&&r.ctrlKey)||r.altKey&&100===r.which&&!r.altKey||le||(w?(F+=s,Q(),G()):o.insert(s))}}}function be(t,n,o){var r=e.Event(t);r.which=o,r.key=n,r.fake=!0,ve.trigger(r)}function _e(e){}function we(){if(_e(),he||de||(ue||le)&&!ie&&(ce||fe)&&!pe){var e=E,t=l.val();if(he&&(pe=me.substring(0,me.length-1)===me.length),w)F=t,Q(),G();else{var n,r=t.substring(E);if(1===r.length||pe)he&&(n=pe?8:r.toUpperCase().charCodeAt(0),be("keydown",pe?"Backspace":r,n)),ue&&!pe&&be("keypress",r,r.charCodeAt(0));if(pe)return void(me=A);if(ie)return void(ie=!1);o.set(t)}pe?o.position(e-1):o.position(e+Math.abs(t.length-me.length))}me=A,ie=!1,he=!0}return o.keymap(n.keymap||{}),ve.bind("keypress.cmd",ye).bind("keydown.cmd",ge).bind("input.cmd",we),function(){var t=!1,r=0;o.on("mousedown.cmd",function(){t=!0}).on("mouseup.cmd",function(s){if(""===B()){var a="click_"+i;if(1==++r){var l=t;m?o.oneTime(n.clickTimeout,a,function(){!e(s.target).is(".prompt")&&l&&(e(s.target).is(".cmd")?o.position(A.length):o.position(S(s))),r=0}):r=0}else o.stopTime(a),r=0}t=!1})}(),o.data("cmd",o),"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw new Error("key event property not supported try https://github.com/cvan/keyboardevent-key-polyfill")},0),o};var m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,g=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,v=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,y=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,b=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,_=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,w=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,F=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,x=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+\b)/gi,k=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)\b(?![^[\]]*])/gi,A=/((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,C=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,E=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,T=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,D=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,O=/(\[\[(?:[^\]]|\\\])+\]\])/,S=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,P=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,j=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,R=function(){var e=!1,n="Webkit Moz O ms Khtml".split(" "),o=document.createElement("div");if(o.style.animationName&&(e=!0),!1===e)for(var r=0;r<n.length;r++){var i=n[r]+"AnimationName";if(o.style[i]!==t){e=!0;break}}return e}(),L=-1!==navigator.userAgent.toLowerCase().indexOf("android"),M="undefined"==typeof wcwidth?function(e){return e.length}:wcwidth,I=function(e){var t=!1;return(m.test(e)||g.test(e.substr(0,4)))&&(t=!0),t}(navigator.userAgent||navigator.vendor||window.opera),B=window.getSelection||document.getSelection?function(){var e=(window.getSelection||document.getSelection)();return e.text?e.text:e.toString()}:document.selection&&"Control"!==document.selection.type?function(){return document.selection.createRange().text}:function(){return""};function N(t,n){var o=t.match(C)||[];if(o.length){var r=o.shift(),i=e.map(o,n),s=e.map(o,function(e){var t=e.match(/^(['"]).*\1$/);return t&&t[1]||""}),a=t.substring(r.length).trim();return{command:t,name:r,args:i,args_quotes:s,rest:a}}return{command:t,name:"",args:[],args_quotes:s,rest:""}}e.terminal={version:"1.7.0",color_names:["transparent","currentcolor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Cycle:f,History:p,Stack:h,valid_color:function(t){return!!t.match(F)||-1!==e.inArray(t.toLowerCase(),e.terminal.color_names)},unclosed_strings:function(e){return!!e.match(j)},escape_regex:function(e){if("string"==typeof e)return e.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")},have_formatting:function(e){return"string"==typeof e&&!!e.match(_)},is_formatting:function(e){return"string"==typeof e&&!!e.match(w)},format_split:function(e){return e.split(v).filter(Boolean)},iterate_formatting:function(e,n){function o(t){return e.substring(t).match(/^(&[^;]+;)/)}for(var r,i=!1,s=!1,a=0,l=-1,c=0;c<e.length;c++){(r=e.substring(c).match(T))?(i=r[1],s=!1):i?"]"===e[c]&&(s?(i="",s=!1):s=!0):s=!0;var u=i&&s||!i,f="["===e[c]&&"["===e[c+1];"&nbsp;"!==e.substring(c-6,c)&&" "!==e.substring(c-1,c)||!u&&!f||(l=c);var h=e[c].match(/[[\]]/);if(u)if("&"===e[c]){if(r=o(c)){c+=r[1].length-2;continue}++a}else"]"===e[c]&&"\\"===e[c-1]?--a:h||++a;if(!h&&u){2===M(e[c])&&a++;var p={count:a,index:c,formatting:i,text:s,space:l},d=n(p);if(!1===d)break;d&&(d.count!==t&&(a=d.count),d.space!==t&&(l=d.space),d.index!==t&&(c=d.index))}}},substring:function(t,n,o){var r,i=e("<span>"+e.terminal.strip(t)+"</span>").text();if(""===i.substring(n,o))return"";var s=t.length,a="",l="";return e.terminal.iterate_formatting(t,function(e){e.count===n&&(r=e.index+1,e.formatting&&(a=e.formatting)),o&&e.count===o&&(s=e.index+1,l=e.formatting)}),t=a+t.substring(r,s),l&&(t+="]"),t},normalize:function(e){return e.replace(b,function(e,t,n){if(""===n)return"";var o=t.match(/;/g).length;if(o>=4){var r=t.split(/;/),i=r.slice(0,4).join(";"),s=r.slice(4).join(";");return"[["+i+";"+(s||n)+"]"+n+"]"}o=2===o?";;":3===o?";":"";var a=n.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+t+o+a+"]"+n+"]"})},split_equal:function(t,n,o){for(var r="",i=[],s=e.terminal.normalize(t).split(/\n/g),a=0,l=s.length;a<l;++a)if(""!==s[a]){var c,u=s[a],f=0,h=u.length;e.terminal.iterate_formatting(u,function(t){var s=t.index===h-2&&"]"===u[t.index+1],a=t.index===h-1||s;if(t.count>=n||a||t.count===n-1&&2===M(u[t.index+1])){if(o){var l=e.terminal.strip(u.substring(t.space)),p=(l=e("<span>"+l+"</span>").text()).length,d=t.index+n+1,m=!1;((l=l.substring(0,d)).match(/\s/)||d>p)&&(m=!0)}if(o&&!s&&-1!==t.space&&t.index!==h-1&&m){c=u.substring(f,t.space);var g=t.space-1}else c=u.substring(f,t.index+1);if(o&&(c=c.replace(/(&nbsp;|\s)+$/g,"")),f=(g||t.index)+1,r){var v=c.match(/^[^\]]*\]/);c=r+c,v&&(r="")}s&&(c+="]",r="");var y=c.match(b);if(y){var _=y[y.length-1];"]"!==_[_.length-1]?(r=_.match(E)[1],c+="]"):c.match(D)&&(c=c.replace(D,""),r=_.match(E)[1])}return i.push(c),{index:g,count:0,space:-1}}})}else i.push("");return i},amp:function(e){return e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;")},encode:function(t){return e.terminal.amp(t).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},nested_formatting:function(t){if(!e.terminal.have_formatting(t))return t;var n=[],o=/(\[\[(?:[^\]]|\\\])+\])[\s\S]*/;return t.split(/(\[\[(?:[^\]]|\\\])+\](?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(t){if(t.match(/^\[\[/))e.terminal.is_formatting(t)||(t+="]",n.push(t.replace(o,"$1")));else{var r=!1;t.match(/\]/)&&(r=!0),n.length&&(t=n[n.length-1]+t),r?n.pop():n.length&&(t+="]")}return t}).join("")},escape_formatting:function(t){return e.terminal.escape_brackets(t)},apply_formatters:function(t){var n=e.terminal.defaults.formatters;return e.terminal.format_split(t).map(function(t){if(e.terminal.is_formatting(t))return t;for(var o=0;o<n.length;++o)try{if("function"==typeof n[o]){var r=n[o](t);"string"==typeof r&&(t=r)}}catch(e){throw new Error("Error in formatter ["+o+"]")}return t}).join("")},format:function(t,n){var o=e.extend({},{linksNoReferrer:!1},n||{});if("string"==typeof t){var r=e.terminal.format_split(t);return(t=e.map(r,function(t){return""===t?t:e.terminal.is_formatting(t)?(t=t.replace(/\[\[[^\]]+\]/,function(e){return e.replace(/&nbsp;/g," ")})).replace(y,function(t,n,r,i,s,a,l){if(""===l)return"";l=l.replace(/\\]/g,"]");var c="";-1!==n.indexOf("b")&&(c+="font-weight:bold;");var u,f,h=[];return-1!==n.indexOf("u")&&h.push("underline"),-1!==n.indexOf("s")&&h.push("line-through"),-1!==n.indexOf("o")&&h.push("overline"),h.length&&(c+="text-decoration:"+h.join(" ")+";"),-1!==n.indexOf("i")&&(c+="font-style:italic;"),e.terminal.valid_color(r)&&(c+="color:"+r+";",-1!==n.indexOf("g")&&(c+="text-shadow:0 0 5px "+r+";")),e.terminal.valid_color(i)&&(c+="background-color:"+i),u=""===a?l:a.replace(/&#93;/g,"]"),-1!==n.indexOf("!")?(u.match(A)?f='<a href="mailto:'+u+'"':(f='<a target="_blank" href="'+u+'"',o.linksNoReferrer?f+=' rel="noreferrer noopener"':f+=' rel="noopener"'),f+=' tabindex="1000"'):f="<span",""!==c&&(f+=' style="'+c+'"'),""!==s&&(f+=' class="'+s+'"'),-1!==n.indexOf("!")?f+=">"+l+"</a>":f+=' data-text="'+u.replace('"',"&quote;")+'">'+l+"</span>",f}):"<span>"+t.replace(/\\\]/g,"]")+"</span>"}).join("")).replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(e){return(e=e.replace(y,"$6")).replace(/(\\?)([[\]])/g,function(e,t){return t?e:""})},active:function(){return te.front()},last_id:function(){var e=te.length();if(e)return e-1},parse_argument:function(e,t){function n(e){if(e.match(/^['"]/)){var t=e[0],n=new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+t,"g");e=e.replace(n,"$1")}return JSON.parse('"'+e+'"')}if(!1===t)return"'"===e[0]&&"'"===e[e.length-1]?e.replace(/^'|'$/g,""):'"'===e[0]&&'"'===e[e.length-1]?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):e.match(/\/.*\/[gimy]*$/)?e:e.match(/['"]]/)?n(e):e.replace(/\\ /g," ");var o=e.match(P);return o?new RegExp(o[1],o[2]):e.match(/['"]/)?n(e):e.match(/^-?[0-9]+$/)?parseInt(e,10):e.match(S)?parseFloat(e):e.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(t){return e.map(t.match(C)||[],e.terminal.parse_argument)},split_arguments:function(t){return e.map(t.match(C)||[],function(t){return e.terminal.parse_argument(t,!1)})},parse_command:function(t){return N(t,e.terminal.parse_argument)},split_command:function(t){return N(t,function(t){return e.terminal.parse_argument(t,!1)})},extended_command:function(e,t){try{oe=!1,e.exec(t,!0).done(function(){oe=!0})}catch(e){}}},e.fn.visible=function(){return this.css("visibility","visible")},e.fn.hidden=function(){return this.css("visibility","hidden")},e.fn.scroll_element=function(){var t=e.fn.scroll_element.defaults;return this.map(function(){var n=e(this);if(n.is("body")){var o,r=e("html"),i=e("body"),s=i.scrollTop()||r.scrollTop(),a=e("<pre/>").css(t.pre).appendTo("body");return a.html(new Array(t.lines).join("\n")),e("body,html").scrollTop(10),10===i.scrollTop()?(i.scrollTop(s),o=i[0]):10===r.scrollTop()&&(r.scrollTop(s),o=r[0]),a.remove(),o}return this})},e.fn.scroll_element.defaults={lines:2e3,pre:{"font-size":"100px","white-space":"pre"}};var H={};function z(e,t){var n=e.find(".terminal-fill").width(),o=Math.floor(n/t.width);return o||1e3}function q(e,t){return Math.floor(e.find(".terminal-fill").height()/t.height)}function W(t,n){var o,r=e("<div>"+n.replace(/\n/,"<br/>")+"<div>");if(t.append(r),document.body.createTextRange)(o=document.body.createTextRange()).moveToElementText(r[0]),o.select();else if(window.getSelection){var i=window.getSelection();i.setBaseAndExtent?i.setBaseAndExtent(r[0],0,r[0],1):document.createRange&&((o=document.createRange()).selectNodeContents(r[0]),i.removeAllRanges(),i.addRange(o))}try{document.execCommand("copy")}catch(e){}r.remove()}function U(e,t){var n=e.filter(function(e){return e[t]()===e});return n.length===e.length}function $(e){var t=e.split("");return U(t,"toLowerCase")?"lower":U(t,"toUpperCase")?"upper":"mixed"}function K(e){return"mixed"!==$(e)}e.jrpc=function(t,n,o,r,i){var s;s=e.isPlainObject(t)?t:{url:t,method:n,params:o,success:r,error:i},H[s.url]=H[s.url]||0;var a={jsonrpc:"2.0",method:s.method,params:s.params,id:++H[s.url]};return e.ajax({url:s.url,beforeSend:function(t,n){e.isFunction(s.request)&&s.request(t,a),n.data=JSON.stringify(a)},success:function(t,n,o){var r,i=o.getResponseHeader("Content-Type");i.match(/(application|text)\/json/)||function(e){e="[jQuery Terminal] "+e,console&&console.warn?console.warn(e):setTimeout(function(){throw new Error("WARN: "+e)},0)}("Response Content-Type is neither application/json nor text/json");try{r=JSON.parse(t)}catch(e){if(!s.error)throw new Error("Invalid JSON");return void s.error(o,"Invalid JSON",e)}if(e.isFunction(s.response)&&s.response(o,r),function(t){return e.isNumeric(t.id)&&(void 0!==t.result||void 0!==t.error)}(r)||"system.describe"===s.method)s.success(r,n,o);else{if(!s.error)throw new Error("Invalid JSON-RPC");s.error(o,"Invalid JSON-RPC")}},error:s.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var V=!e.terminal.version.match(/^\{\{/),Y="Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>",X=V?" v. "+e.terminal.version:" ",J=new RegExp(" {"+X.length+"}$"),G="jQuery Terminal Emulator"+(V?X:""),Q=[["jQuery Terminal","(c) 2011-2017 jcubic"],[G,Y.replace(/^Copyright | *<.*>/g,"")],[G,Y.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(J," ")+X,Y],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(J,"")+X,Y]];e.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,completionEscape:!0,convertLinks:!0,extra:{},historySize:60,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[e.terminal.nested_formatting],onAjaxError:null,scrollBottomOffset:20,wordAutocomplete:!0,caseSensitiveAutocomplete:!0,clickTimeout:200,request:e.noop,response:e.noop,describe:"procs",onRPCError:null,completion:!1,onInit:e.noop,onClear:e.noop,onBlur:e.noop,onFocus:e.noop,onTerminalChange:e.noop,onExit:e.noop,onPush:e.noop,onPop:e.noop,keypress:e.noop,keydown:e.noop,onAfterRedraw:e.noop,onEchoCommand:e.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",invalidStrings:"Command %s have unclosed strings"}};var Z,ee=[],te=new f,ne=[],oe=!1,re=!0,ie=!0;e.fn.terminal=function(o,s){function a(t){if(e.terminal.unclosed_strings(t)){var n=e.terminal.escape_brackets(t);throw new Error(sprintf(se().invalidStrings,"`"+n+"`"))}return e.isFunction(je.processArguments)?N(t,je.processArguments):je.processArguments?e.terminal.parse_command(t):e.terminal.split_command(t)}function l(t){"string"==typeof t?ce.echo(t):t instanceof Array?ce.echo(e.map(t,function(e){return JSON.stringify(e)}).join(" ")):"object"==typeof t?ce.echo(JSON.stringify(t)):ce.echo(t)}function c(t){if(e.isFunction(je.onRPCError))je.onRPCError.call(ce,t);else if(ce.error("&#91;RPC&#93; "+t.message),t.error&&t.error.message){var n="\t"+(t=t.error).message;t.file&&(n+=' in file "'+t.file.replace(/.*\//,"")+'"'),t.at&&(n+=" at line "+t.at),ce.error(n)}}function f(t,n){var o=function(n,o){ce.pause(je.softPause),e.jrpc({url:t,method:n,params:o,request:function(e,t){try{je.request.apply(ce,e,t,ce)}catch(e){b(e,"USER")}},response:function(e,t){try{je.response.apply(ce,e,t,ce)}catch(e){b(e,"USER")}},success:function(t){t.error?c(t.error):e.isFunction(je.processRPCResponse)?je.processRPCResponse.call(ce,t.result,ce):l(t.result),ce.resume()},error:d})};return function(e,t){if(""!==e){try{e=a(e)}catch(e){return void b(e,"TERMINAL (get_processed_command)")}if(n&&"help"!==e.name){var r=t.token();r?o(e.name,[r].concat(e.args)):t.error("&#91;AUTH&#93; "+se().noTokenError)}else o(e.name,e.args)}}}function p(n,o,r,i){return function(s,l){if(""!==s){var c;try{c=a(s)}catch(t){return void(e.isFunction(je.exception)?je.exception(t,ce):ce.error(t.toString()))}var u=n[c.name],f=e.type(u);if("function"===f){if(!o||u.length===c.args.length)return u.apply(ce,c.args);ce.error("&#91;Arity&#93; "+sprintf(se().wrongArity,c.name,u.length,c.args.length))}else if("object"===f||"string"===f){var h=[];"object"===f&&(h=Object.keys(u),u=p(u,o,r)),l.push(u,{prompt:c.name+"> ",name:c.name,completion:"object"===f?h:t})}else e.isFunction(i)?i(s,ce):e.isFunction(je.onCommandNotFound)?je.onCommandNotFound.call(ce,s,ce):l.error(sprintf(se().commandNotFound,c.name))}}}function d(t,n,o){ce.resume(),e.isFunction(je.onAjaxError)?je.onAjaxError.call(ce,t,n,o):"abort"!==n&&ce.error("&#91;AJAX&#93; "+n+" - "+se().serverResponse+":\n"+e.terminal.escape_brackets(t.responseText))}function m(t,n,o){function r(t){t.error?c(t.error):e.isFunction(je.processRPCResponse)?je.processRPCResponse.call(ce,t.result,ce):l(t.result),ce.resume()}function i(e,t){try{je.request.call(ce,e,t,ce)}catch(e){b(e,"USER")}}function s(e,t){try{je.response.call(ce,e,t,ce)}catch(e){b(e,"USER")}}return e.jrpc({url:t,method:"system.describe",params:[],success:function(a){var l=a;if(""!==je.describe&&je.describe.split(".").forEach(function(e){l=l[e]}),l&&l.length){var c={};e.each(l,function(o,a){c[a.name]=function(){var o=n&&"help"!==a.name,l=Array.prototype.slice.call(arguments),c=l.length+(o?1:0);if(je.checkArity&&a.params&&a.params.length!==c)ce.error("&#91;Arity&#93; "+sprintf(se().wrongArity,a.name,a.params.length,c));else{if(ce.pause(je.softPause),o){var u=ce.token(!0);u?l=[u].concat(l):ce.error("&#91;AUTH&#93; "+se().noTokenError)}e.jrpc({url:t,method:a.name,params:l,request:i,response:s,success:r,error:d})}}}),c.help=c.help||function(t){if(void 0===t){var n=a.procs.map(function(e){return e.name}).join(", ")+", help";ce.echo("Available commands: "+n)}else{var o=!1;if(e.each(l,function(e,n){if(n.name===t){o=!0;var r="";return r+="[[bu;#fff;]"+n.name+"]",n.params&&(r+=" "+n.params.join(" ")),n.help&&(r+="\n"+n.help),ce.echo(r),!1}}),!o)if("help"===t)ce.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified");else{var r="Method `"+t+"' not found ";ce.error(r)}}},o(c)}else o(null)},request:i,response:s,error:function(){o(null)}})}function g(t,n,o){o=o||e.noop;var r,i,s=e.type(t),a={},l=0;if("array"===s)r={},function t(o,s){if(o.length){var a=o[0],c=o.slice(1),u=e.type(a);"string"===u?(ce.pause(je.softPause),!1===je.describe?(1==++l?i=f(a,n):ce.error(se().oneRPCWithIgnore),t(c,s)):m(a,n,function(o){o?e.extend(r,o):1==++l?i=f(a,n):ce.error(se().oneRPCWithIgnore),ce.resume(),t(c,s)})):"function"===u?(i?ce.error(se().oneInterpreterFunction):i=a,t(c,s)):"object"===u&&(e.extend(r,a),t(c,s))}else s()}(t,function(){o({interpreter:p(r,!1,n,i.bind(ce)),completion:Object.keys(r)})});else if("string"===s)je.ignoreSystemDescribe?(r={interpreter:f(t,n)},e.isArray(je.completion)&&(r.completion=je.completion),o(r)):(ce.pause(je.softPause),m(t,n,function(e){e?(a.interpreter=p(e,!1,n),a.completion=Object.keys(e)):a.interpreter=f(t,n),o(a),ce.resume()}));else if("object"===s)o({interpreter:p(t,je.checkArity),completion:Object.keys(t)});else{if("undefined"===s)t=e.noop;else if("function"!==s)throw new Error(s+" is invalid interpreter value");o({interpreter:t,completion:je.completion})}}function v(t,n){var o="boolean"===e.type(n)?"login":n;return function(n,r,i){ce.pause(je.softPause),e.jrpc({url:t,method:o,params:[n,r],request:function(e,t){try{je.request.call(ce,e,t,ce)}catch(e){b(e,"USER")}},response:function(e,t){try{je.response.call(ce,e,t,ce)}catch(e){b(e,"USER")}},success:function(e){!e.error&&e.result?i(e.result):i(null),ce.resume()},error:d})}}function y(e){return"string"==typeof e?e:"string"==typeof e.fileName?e.fileName+": "+e.message:e.message}function b(t,n){e.isFunction(je.exceptionHandler)?je.exceptionHandler.call(ce,t,n):ce.exception(t,n)}function _(){var e;e=ae.prop?ae.prop("scrollHeight"):ae.attr("scrollHeight"),ae.scrollTop(e)}var w=[],F=1;function C(n,o){try{var r=e.extend({exec:!0,raw:!1,finalize:e.noop},o||{}),i="function"===e.type(n)?n():n;""!==(i="string"===e.type(i)?i:String(i))&&""!==(i=e.map(i.split(O),function(t){return t&&t.match(O)&&!e.terminal.is_formatting(t)?(t=t.replace(/^\[\[|\]\]$/g,""),r.exec&&(le&&le.command===t?ce.error(se().recursiveCall):e.terminal.extended_command(ce,t)),""):t}).join(""))&&function(n,o){var r,i;if(je.convertLinks&&!o.raw&&(n=n.replace(A,"[[!;;]$1]").replace(k,"[[!;;]$1]")),!o.raw){if(o.formatters)try{n=e.terminal.apply_formatters(n)}catch(t){e.isFunction(je.exceptionHandler)?je.exceptionHandler.call(ce,t,"FORMATTERS"):alert(t.message+"\n"+(t.stack?t.stack:t))}n=e.terminal.encode(n)}if(w.push(F),!o.raw&&(M(n)>fe||n.match(/\n/))&&(!0===je.wrap&&o.wrap===t||!1===je.wrap&&!0===o.wrap)){var s=o.keepWords,a=e.terminal.split_equal(n,fe,s);for(r=0,i=a.length;r<i;++r)""===a[r]||"\r"===a[r]?w.push("<span></span>"):o.raw?w.push(a[r]):w.push(e.terminal.format(a[r],{linksNoReferrer:je.linksNoReferrer}))}else o.raw?w.push(n):(n=e.terminal.normalize(n),(n=e.terminal.format(n,{linksNoReferrer:je.linksNoReferrer})).split(/\n/).forEach(function(e){w.push(e)}));w.push(o.finalize)}(i,r)}catch(t){w=[],e.isFunction(je.exceptionHandler)?je.exceptionHandler.call(ce,t,"TERMINAL"):alert("[Internal Exception(process_line)]:"+y(t)+"\n"+t.stack)}}function E(){ve.resize(fe);var t,n=ue.empty().detach(),o=[];je.outputLimit>=0?(t=0===je.outputLimit?ce.rows():je.outputLimit,Fe.forEach(function(t){var n="function"===e.type(t[0])?t[0]():t[0];if(n="string"===e.type(n)?n:String(n),M(n)>fe){var r=t[1],i=e.terminal.split_equal(n,fe,r.keepWords);o=o.concat(i.map(function(e){return[e,r]}))}else o.push(t)}),o=o.slice(o.length-t-1)):o=Fe;try{w=[],e.each(Fe,function(e,t){C.apply(null,t)}),ve.before(n),ce.flush(),je.onAfterRedraw.call(ce)}catch(t){e.isFunction(je.exceptionHandler)?je.exceptionHandler.call(ce,t,"TERMINAL (redraw)"):alert("Exception in redraw\n"+t.stack)}}function T(){if(je.greetings===t)ce.echo(ce.signature,{finalize:u});else if(je.greetings){var e=typeof je.greetings;"string"===e?ce.echo(je.greetings):"function"===e?je.greetings.call(ce,ce.echo):ce.error(se().wrongGreetings)}}function D(t){void 0===t&&(t=ce.get_command());var n=ve.prompt(),o=ve.mask();switch(typeof o){case"string":t=t.replace(/./g,o);break;case"boolean":t=o?t.replace(/./g,je.maskChar):e.terminal.escape_formatting(t)}var r={finalize:function(e){u(e.addClass("command")),je.onEchoCommand.call(ce,e)}};e.isFunction(n)?n(function(e){ce.echo(e+t,r)}):ce.echo(n+t,r)}var S=!0,P=[];function j(n,o,r){function i(){r||(oe=!0,je.historyState&&ce.save_state(n,!1),oe=u),c.resolve(),e.isFunction(je.onAfterCommand)&&je.onAfterCommand.call(ce,ce,n)}function s(e){e&&h===Fe.length-1&&l(e),i(),ce.resume()}S&&(S=!1,(je.historyState||je.execHash&&r)&&(ne.length?ce.save_state(null):ce.save_state()));try{if(e.isFunction(je.onBeforeCommand)&&!1===je.onBeforeCommand.call(ce,ce,n))return;r||(le=e.terminal.split_command(n)),V()||r&&(e.isFunction(je.historyFilter)&&je.historyFilter(n)||n.match(je.historyFilter))&&ve.history().append(n);var a=ge.top();!o&&je.echoCommand&&D(n);var c=new e.Deferred,u=oe;if(n.match(/^\s*login\s*$/)&&ce.token(!0))ce.level()>1?ce.logout(!0):ce.logout(),i();else if(je.exit&&n.match(/^\s*exit\s*$/)&&!Oe){var f=ce.level();(1===f&&ce.get_token()||f>1)&&(ce.get_token(!0)&&ce.set_token(t,!0),ce.pop()),i()}else if(je.clear&&n.match(/^\s*clear\s*$/)&&!Oe)ce.clear(),i();else{var h=Fe.length-1,p=a.interpreter.call(ce,n,ce);if(p!==t){if(ce.pause(je.softPause),!p.then)return e.when(p).done(s);p.then(s)}else Ie?P.push(function(){i()}):i()}return c.promise()}catch(e){if(b(e,"USER"),ce.resume(),!je.exceptionHandler)throw e}}function R(){var e=ce.prefix_name(!0)+"_";Re.remove(e+"token"),Re.remove(e+"login")}function H(t){var n=ge.top(),o=ce.prefix_name(!0);V()||function(t){var n=ce.prefix_name()+"_interpreters",o=Re.get(n);o=o?JSON.parse(o):[],-1===e.inArray(t,o)&&(o.push(t),Re.set(n,JSON.stringify(o)))}(o),ve.name(o),e.isFunction(n.prompt)?ve.prompt(function(e){n.prompt.call(ce,e,ce)}):ve.prompt(n.prompt),e.isPlainObject(n.keymap)&&ve.keymap(e.omap(n.keymap,function(e,t){return function(){var e=[].slice.call(arguments);try{return t.apply(ce,e)}catch(e){if(b(e,"USER KEYMAP"),!je.exceptionHandler)throw e}}})),ve.set(""),Ce.resolve(),!t&&e.isFunction(n.onStart)&&n.onStart.call(ce,ce)}function W(){if(re&&je.execHash)try{if(location.hash){var e=location.hash.replace(/^#/,"");Z=JSON.parse(decodeURIComponent(e))}else Z=[];Z.length?function(e){var t=te.get()[e[0]];if(!t)throw new Error(se().invalidTerminalId);var n=e[1];if(ne[n])t.import_view(ne[n]);else{oe=!1;var o=e[2];o&&t.exec(o).done(function(){oe=!0,ne[n]=t.export_view()})}}(Z[Z.length-1]):ne[0]&&ce.import_view(ne[0])}catch(e){b(e,"TERMINAL")}}function U(){H(),T(),Fe.length&&E();var t=!1;if(e.isFunction(je.onInit)){Se=function(){t=!0};try{je.onInit.call(ce,ce)}catch(e){b(e,"OnInit")}finally{Se=e.noop,!t&&ce.enabled()&&ce.resume()}}ie&&(ie=!1,e(window).on("hashchange",W))}function V(){return Oe||!1!==ve.mask()}function Y(n){var o,r=ge.top();if(e.isFunction(r.keydown)){if((o=r.keydown.call(ce,n,ce))!==t)return o}else if(e.isFunction(je.keydown)&&(o=je.keydown.call(ce,n,ce))!==t)return o}var X={"CTRL+D":function(e,n){return Oe||(""===ve.get()?ge.size()>1||je.login!==t?ce.pop(""):(ce.resume(),ce.echo("")):n()),!1},"CTRL+L":function(){ce.clear()},TAB:function(n,o){var r,i,s=ge.top();if(i=void 0!==s.caseSensitiveAutocomplete?s.caseSensitiveAutocomplete:je.caseSensitiveAutocomplete,"settings"===(r=je.completion&&"boolean"!==e.type(je.completion)&&s.completion===t?je.completion:s.completion)&&(r=je.completion),r)switch(e.type(r)){case"function":var a=ce.before_cursor(je.wordAutocomplete);if(3===r.length){var l=new Error(se().comletionParameters);return b(l,"USER"),!1}r.call(ce,a,function(e){ce.complete(e,{echo:!0,word:je.wordAutocomplete,escape:je.completionEscape,caseSensitive:i})});break;case"array":ce.complete(r,{echo:!0,word:je.wordAutocomplete,escape:je.completionEscape,caseSensitive:i});break;default:throw new Error(se().invalidCompletion)}else o();return!1},"CTRL+V":function(e,t){return t(e),ce.oneTime(200,function(){_()}),!0},"CTRL+TAB":function(){if(te.length()>1)return ce.focus(!1),!1},PAGEDOWN:function(){ce.scroll(ce.height())},PAGEUP:function(){ce.scroll(-ce.height())}};function J(n){var o,r;if(ce.enabled()){if(ce.paused()){if(!je.pauseEvents&&(o=Y(n))!==t)return o;if(68===n.which&&n.ctrlKey){if(je.pauseEvents&&(o=Y(n))!==t)return o;if(ee.length){for(r=ee.length;r--;){var i=ee[r];if(4!==i.readyState)try{i.abort()}catch(t){e.isFunction(je.exceptionHandler)?je.exceptionHandler.call(ce,n,"AJAX ABORT"):ce.error(se().ajaxAbortError)}}ee=[]}ce.resume()}return!1}if((o=Y(n))!==t)return o;9!==n.which&&(we=0),ce.attr({scrollTop:ce.attr("scrollHeight")})}}function G(e){return function(t){e.add(t)}}function se(){return e.extend({},e.terminal.defaults.strings,je.strings)}var ae,le,ce=this;if(this.length>1)return this.each(function(){e.fn.terminal.call(e(this),o,e.extend({name:ce.selector},s))});if(ce.data("terminal"))return ce.data("terminal");if(0===ce.length)throw new Error(sprintf(se().invalidSelector,ce.selector));var ue,fe,he,pe,de,me,ge,ve,ye,be,_e,we=0,Fe=[],xe=te.length(),ke=new h,Ae=new n,Ce=new n,Ee=G(Ce),Te={},De=G(Ae),Oe=!1,Se=e.noop,Pe=[],je=e.extend({},e.terminal.defaults,{name:ce.selector},s||{}),Re=new function(t){t&&(this.storage={}),this.set=function(n,o){t?this.storage[n]=o:e.Storage.set(n,o)},this.get=function(n){return t?this.storage[n]:e.Storage.get(n)},this.remove=function(n){t?delete this.storage[n]:e.Storage.remove(n)}}(je.memory),Le=je.enabled,Me=!1,Ie=!1,Be=!0;e.extend(ce,e.omap({id:function(){return xe},clear:function(){ue.html(""),Fe=[];try{je.onClear.call(ce,ce)}catch(e){b(e,"onClear")}return ce.attr({scrollTop:0}),ce},export_view:function(){var t={};if(e.isFunction(je.onExport))try{t=je.onExport.call(ce)}catch(e){b(e,"onExport")}return e.extend({},{focus:Le,mask:ve.mask(),prompt:ce.get_prompt(),command:ce.get_command(),position:ve.position(),lines:i(Fe),interpreters:ge.clone(),history:ve.history().data},t)},import_view:function(t){if(Oe)throw new Error(sprintf(se().notWhileLogin,"import_view"));if(e.isFunction(je.onImport))try{je.onImport.call(ce,t)}catch(e){b(e,"onImport")}return Ee(function(){ce.set_prompt(t.prompt),ce.set_command(t.command),ve.position(t.position),ve.mask(t.mask),t.focus&&ce.focus(),Fe=i(t.lines),ge=t.interpreters,je.importHistory&&ve.history().set(t.history),E()}),ce},save_state:function(n,o,r){if(void 0!==r?ne[r]=ce.export_view():ne.push(ce.export_view()),e.isArray(Z)||(Z=[]),n!==t&&!o){var i=[xe,ne.length-1,n];Z.push(i),oe&&(re=!1,location.hash="#"+JSON.stringify(Z),setTimeout(function(){re=!0},100))}},exec:function(t,n,o){var r=o||new e.Deferred;return De(function(){e.isArray(t)?function e(){var o=t.shift();o?ce.exec(o,n).done(e):r.resolve()}():Ie?Pe.push([t,n,r]):j(t,n,!0).done(function(){r.resolve(ce)})}),r.promise()},autologin:function(e,t,n){return ce.trigger("terminal.autologin",[e,t,n]),ce},login:function(n,o,r,i){if(ke.push([].slice.call(arguments)),Oe)throw new Error(sprintf(se().notWhileLogin,"login"));if(!e.isFunction(n))throw new Error(se().loginIsNotAFunction);if(Oe=!0,ce.token()&&1===ce.level()&&!Be)Oe=!1,ce.logout(!0);else if(ce.token(!0)&&ce.login_name(!0))return Oe=!1,e.isFunction(r)&&r(),ce;je.history&&ve.history().disable();var s=ce.level();function a(n,a,l){if(a){for(;ce.level()>s;)ce.pop(t,!0);je.history&&ve.history().enable();var c=ce.prefix_name(!0)+"_";Re.set(c+"token",a),Re.set(c+"login",n),Oe=!1,e.isFunction(r)&&r()}else o?(l||ce.error(se().wrongPasswordTryAgain),ce.pop(t,!0).set_mask(!1)):(Oe=!1,l||ce.error(se().wrongPassword),ce.pop(t,!0).pop(t,!0)),e.isFunction(i)&&i();ce.off("terminal.autologin")}return ce.on("terminal.autologin",function(e,t,n,o){a(t,n,o)}),ce.push(function(e){ce.set_mask(je.maskChar).push(function(t){try{n.call(ce,e,t,function(t,n){a(e,t,n)})}catch(e){b(e,"AUTH")}},{prompt:se().password+": ",name:"password"})},{prompt:se().login+": ",name:"login"}),ce},settings:function(){return je},before_cursor:function(e){var t,n=ve.position(),o=ve.get().substring(0,n),r=o.split(" ");if(e)if(1===r.length)t=r[0];else{var i=o.match(/(\\?")/g),s=i?i.filter(function(e){return!e.match(/^\\/)}).length:0,a=(i=o.match(/'/g))?i.length:0;if(a%2==1)t=o.match(/('[^']*)$/)[0];else if(s%2==1)t=o.match(/("(?:[^"]|\\")*)$/)[0];else for(t=r[r.length-1],ze=r.length-1;ze>0;ze--){var l=r[ze-1];if("\\"!==l[l.length-1])break;t=r[ze-1]+" "+t}}else t=o;return t},complete:function(t,n){var o=(n=e.extend({word:!0,echo:!1,escape:!0,caseSensitive:!0},n||{})).caseSensitive,r=ce.before_cursor(n.word).replace(/\\"/g,'"'),i=!1;if(n.word&&(r.match(/^"/)?i='"':r.match(/^'/)&&(i="'"),i&&(r=r.replace(/^["']/,""))),t=t.slice(),je.clear&&-1===e.inArray("clear",t)&&t.push("clear"),je.exit&&-1===e.inArray("exit",t)&&t.push("exit"),we%2==0)pe=ce.before_cursor(n.word);else{var s=ce.before_cursor(n.word);if(s!==pe)return}var a=e.terminal.escape_regex(r);n.escape&&(a=a.replace(/(\\+)(["'() ])/g,function(e,t,n){return n.match(/[()]/)?t+"\\?\\"+n:t+"?"+n}));var l=o?"":"i",c=new RegExp("^"+a,l),u=function(){for(var e=[],s=t.length;s--;)if(c.test(t[s])){var a=t[s];'"'===i&&(a=a.replace(/"/g,'\\"')),!i&&n.escape&&(a=a.replace(/(["'() ])/g,"\\$1")),!o&&K(a)&&(r.toLowerCase()===r?a=a.toLowerCase():r.toUpperCase()===r&&(a=a.toUpperCase())),e.push(a)}return e}();function f(e,t){var n=ce.get_command(),o=ce.get_position(),r=new RegExp(e+"$"),s=n.substring(0,o).replace(r,""),a=n.substring(o),l=t+(i||"");ce.set_command(s+l+a),ce.set_position((s+l).length)}if(1===u.length)return n.escape?f(a,u[0]):ce.insert(u[0].replace(c,"")+(i||"")),pe=ce.before_cursor(n.word),!0;if(u.length>1)if(++we>=2){if(we=0,n.echo){D();var h=u.reverse().join("\t");return ce.echo(e.terminal.escape_brackets(h),{keepWords:!0}),!0}}else{var p=function(e,t,n){if(!t.length)return"";var o=$(e),r=[];e:for(var i=e.length;i<t[0].length;++i)for(var s=1;s<t.length;++s){var a=t[0].charAt(i),l=t[s].charAt(i);if(a!==l){if(n||"mixed"===o)break e;a.toLowerCase()===l.toLowerCase()&&("lower"===o?r.push(a.toLowerCase()):r.push(a.toUpperCase()))}else r.push(a)}return e+r.join("")}(r,u,o);if(p)return f(r,p),pe=ce.before_cursor(n.word),!0}},commands:function(){return ge.top().interpreter},set_interpreter:function(t,n){function o(){ce.pause(je.softPause),g(t,!!n,function(t){ce.resume();var n=ge.top();e.extend(n,t),H(!0)})}return"string"===e.type(t)&&n?ce.login(v(t,n),!0,o):o(),ce},greetings:function(){return T(),ce},paused:function(){return Ie},pause:function(t){return De(function(){Se(),Ie=!0,ve.disable(t||L),t||ve.find(".prompt").hidden(),e.isFunction(je.onPause)&&je.onPause.call(ce)}),ce},resume:function(){return De(function(){Ie=!1,Le&&te.front()===ce&&ve.enable(),ve.find(".prompt").visible();var t=Pe;Pe=[];for(var n=0;n<t.length;++n)ce.exec.apply(ce,t[n]);ce.trigger("resume");var o=P.shift();o&&o(),_(),e.isFunction(je.onResume)&&je.onResume.call(ce)}),ce},cols:function(){return je.numChars?je.numChars:(void 0===fe&&(fe=z(ce,Te)),fe)},rows:function(){return je.numRows?je.numRows:(void 0===he&&(he=q(ce,Te)),he)},history:function(){return ve.history()},history_state:function(e){function t(){je.historyState=!0,ne.length?te.length()>1&&ce.save_state(null):ce.save_state()}return e?void 0===window.setImmediate?setTimeout(t,0):r(t):je.historyState=!1,ce},clear_history_state:function(){return Z=[],ne=[],ce},next:function(){if(1===te.length())return ce;te.front().disable();var t=te.rotate().enable(),n=t.offset().top-50;e("html,body").animate({scrollTop:n},500);try{je.onTerminalChange.call(t,t)}catch(e){b(e,"onTerminalChange")}return t},focus:function(e,t){return De(function(){if(1===te.length())!1===e?ce.disable(t):ce.enable(t);else if(!1===e)ce.next();else{var n=te.front();if(n!==ce&&(te.forEach(function(e){e!==ce&&e.enabled()&&e.disable(t)}),!t))try{je.onTerminalChange.call(ce,ce)}catch(e){b(e,"onTerminalChange")}te.set(ce)}ce.enable(t)}),ce},freeze:function(e){Ee(function(){e?(ce.disable(),Me=!0):(Me=!1,ce.enable())})},frozen:function(){return Me},enable:function(e){return Le||Me||(fe===t&&ce.resize(),De(function(){var n;if(!e&&!Le)try{n=je.onFocus.call(ce,ce)}catch(e){b(e,"onFocus")}(!e&&n===t||e)&&(Le=!0,ce.paused()||ve.enable())})),ce},disable:function(e){return De(function(){var n;if(!e&&Le)try{n=je.onBlur.call(ce,ce)}catch(e){b(e,"onBlur")}(!e&&n===t||e)&&(Le=!1,ve.disable())}),ce},enabled:function(){return Le},signature:function(){for(var e=ce.cols(),t=Q.length;t--;){var n=Q[t].map(function(e){return e.length});if(Math.max.apply(null,n)<=e)return Q[t].join("\n")+"\n"}return""},version:function(){return e.terminal.version},cmd:function(){return ve},get_command:function(){return ve.get()},set_command:function(e){return Ee(function(){ve.set(e)}),ce},set_position:function(e,t){return Ee(function(){ve.position(e,t)}),ce},get_position:function(){return ve.position()},insert:function(e,t){if("string"==typeof e)return Ee(function(){var n=ce.is_bottom();ve.insert(e,t),(je.scrollOnEcho||n)&&_()}),ce;throw new Error(sprintf(se().notAString,"insert"))},set_prompt:function(t){return Ee(function(){(function(t,n){try{if(e.isFunction(n))n.call(ce,e.noop,ce);else if("string"!=typeof n){var o=t+" must be string or function";throw o}}catch(e){return b(e,t.toUpperCase()),!1}return!0})("prompt",t)&&(e.isFunction(t)?ve.prompt(function(e){t(e,ce)}):ve.prompt(t),ge.top().prompt=t)}),ce},get_prompt:function(){return ge.top().prompt},set_mask:function(e){return Ee(function(){ve.mask(!0===e?je.maskChar:e)}),ce},get_output:function(t){return t?Fe:e.map(Fe,function(t){return e.isFunction(t[0])?t[0]():t[0]}).join("\n")},resize:function(t,n){if(ce.is(":visible")){if(t&&n&&(ce.width(t),ce.height(n)),t=ce.width(),n=ce.height(),void 0!==je.numChars&&void 0!==je.numRows){fe=je.numChars,he=je.numRows,ve.resize(fe),E();var o=ge.top();return e.isFunction(o.resize)?o.resize.call(ce,ce):e.isFunction(je.onResize)&&je.onResize.call(ce,ce),void _()}var r=z(ce,Te={}),i=q(ce,Te);if(r!==fe||i!==he){fe=r,he=i,ve.resize(fe),E();var o=ge.top();e.isFunction(o.resize)?o.resize.call(ce,ce):e.isFunction(je.onResize)&&je.onResize.call(ce,ce),_()}}else ce.stopTime("resize"),ce.oneTime(500,"resize",function(){ce.resize(t,n)});return ce},flush:function(){try{var t,n=ce.is_bottom();if(e.each(w,function(n,o){o===F?t=e("<div></div>"):e.isFunction(o)?(t.appendTo(ue),o(t)):e("<div/>").html(o).appendTo(t).width("100%")}),je.outputLimit>=0){var o;o=0===je.outputLimit?ce.rows():je.outputLimit;var r=ue.find("div div");if(r.length+1>o){var i=r.length-o+1,s=r.slice(0,i),a=s.parent();s.remove(),a.each(function(){var t=e(this);t.is(":empty")&&t.remove()})}}(je.scrollOnEcho||n)&&_(),w=[]}catch(t){e.isFunction(je.exceptionHandler)?je.exceptionHandler.call(ce,t,"TERMINAL (Flush)"):alert("[Flush] "+y(t)+"\n"+t.stack)}return ce},update:function(e,t){return Ee(function(){e<0&&(e=Fe.length+e),Fe[e]?(null===t?Fe.splice(e,1):Fe[e][0]=t,E()):ce.error("Invalid line number "+e)}),ce},last_index:function(){return Fe.length-1},echo:function(t,n){function o(t){try{var o=e.extend({flush:!0,raw:je.raw,finalize:e.noop,keepWords:!1,formatters:!0},n||{});o.raw&&function(e){o.finalize=function(t){t.addClass("raw"),e(t)}}(o.finalize),o.flush&&(w.length&&ce.flush(),w=[]),C(t,o),Fe.push([t,e.extend(o,{exec:!1})]),o.flush&&ce.flush()}catch(t){e.isFunction(je.exceptionHandler)?je.exceptionHandler.call(ce,t,"TERMINAL (echo)"):alert("[Terminal.echo] "+y(t)+"\n"+t.stack)}}try{n&&e.isFunction(n.finalize)&&n.finalize(e("<div/>")),e.isFunction(t.then)?e.when(t).done(o):o(t)}catch(e){b(e,"USER:echo(finalize)")}return ce},error:function(t,n){n=e.extend({},n,{raw:!1,formatters:!1});var o=e.terminal.escape_brackets(t).replace(/\\$/,"&#92;").replace(x,"]$1[[;;;error]");return ce.echo("[[;;;error]"+o+"]",n)},exception:function(t,n){var o=y(t);if(n&&(o="&#91;"+n+"&#93;: "+o),o&&ce.error(o,{finalize:function(e){e.addClass("exception message")},keepWords:!0}),"string"==typeof t.fileName&&(ce.pause(je.softPause),e.get(t.fileName,function(e){var n=t.lineNumber-1,o=e.split("\n")[n];o&&ce.error("["+t.lineNumber+"]: "+o),ce.resume()},"text")),t.stack){var r=e.terminal.escape_brackets(t.stack);ce.echo(r.split(/\n/g).map(function(e){return"[[;;;error]"+e.replace(x,function(e){return"]"+e+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(e){e.addClass("exception stack-trace")},formatters:!1})}},scroll:function(e){var t;return e=Math.round(e),ae.prop?(e>ae.prop("scrollTop")&&e>0&&ae.prop("scrollTop",0),t=ae.prop("scrollTop"),ae.scrollTop(t+e)):(e>ae.attr("scrollTop")&&e>0&&ae.attr("scrollTop",0),t=ae.attr("scrollTop"),ae.scrollTop(t+e)),ce},logout:function(e){if(Oe)throw new Error(sprintf(se().notWhileLogin,"logout"));return Ee(function(){if(e){var n=ke.pop();ce.set_token(t,!0),ce.login.apply(ce,n)}else if(1===ge.size()&&ce.token())ce.logout(!0);else for(;ge.size()>1;)ce.token()?ce.logout(!0).pop().pop():ce.pop()}),ce},token:function(e){return Re.get(ce.prefix_name(e)+"_token")},set_token:function(e,t){var n=ce.prefix_name(t)+"_token";return void 0===e?Re.remove(n,e):Re.set(n,e),ce},get_token:function(e){return ce.token(e)},login_name:function(e){return Re.get(ce.prefix_name(e)+"_login")},name:function(){return ge.top().name},prefix_name:function(e){var t=(je.name?je.name+"_":"")+xe;if(e&&ge.size()>1){var n=ge.map(function(e){return e.name||""}).slice(1).join("_");n&&(t+="_"+n)}return t},read:function(t,n){var o=new e.Deferred;return ce.push(function(t){ce.pop(),e.isFunction(n)&&n(t),o.resolve(t)},{prompt:t}),o.promise()},push:function(n,o){return De(function(){o=o||{};var r=e.extend({},{infiniteLogin:!1},o);!r.name&&le&&(r.name=le.name),r.prompt===t&&(r.prompt=(r.name||">")+" ");var i=ge.top();i&&(i.mask=ve.mask());var s=Ie;function a(){je.onPush.call(ce,i,ge.top(),ce),H()}g(n,!!o.login,function(t){if(ge.push(e.extend({},t,r)),!0===r.completion&&(e.isArray(t.completion)?ge.top().completion=t.completion:t.completion||(ge.top().completion=!1)),r.login){var o,i=e.type(r.login);"function"===i?(o=r.infiniteLogin?e.noop:ce.pop,ce.login(r.login,r.infiniteLogin,a,o)):("string"===e.type(n)&&"string"===i||"boolean"===i)&&(o=r.infiniteLogin?e.noop:ce.pop,ce.login(v(n,r.login),r.infiniteLogin,a,o))}else a();!s&&ce.enabled()&&ce.resume()})}),ce},pop:function(n,o){n!==t&&D(n);var r,i=ce.token(!0);if(1===ge.size())if(r=ge.top(),je.login){if(o||je.onPop.call(ce,r,null,ce),function(){if(e.isFunction(je.onBeforeLogout))try{if(!1===je.onBeforeLogout.call(ce,ce))return}catch(e){b(e,"onBeforeLogout")}if(R(),e.isFunction(je.onAfterLogout))try{je.onAfterLogout.call(ce,ce)}catch(e){b(e,"onAfterlogout")}ce.login(je.login,!0,U)}(),e.isFunction(je.onExit))try{je.onExit.call(ce,ce)}catch(e){b(e,"onExit")}}else ce.error(se().canExitError);else{i&&R();var s=ge.pop();if(r=ge.top(),H(),o||je.onPop.call(ce,s,r),Oe&&ce.get_prompt()!==se().login+": "&&(Oe=!1),e.isFunction(s.onExit))try{s.onExit.call(ce,ce)}catch(e){b(e,"onExit")}ce.set_mask(r.mask)}return ce},option:function(t,n){if(void 0===n){if("string"==typeof t)return je[t];"object"==typeof t&&e.each(t,function(e,t){je[e]=t})}else je[t]=n;return ce},level:function(){return ge.size()},reset:function(){return Ee(function(){for(ce.clear();ge.size()>1;)ge.pop();U()}),ce},purge:function(){return Ee(function(){var t=ce.prefix_name()+"_",n=Re.get(t+"interpreters");n&&e.each(JSON.parse(n),function(e,t){Re.remove(t+"_commands"),Re.remove(t+"_token"),Re.remove(t+"_login")}),ve.purge(),Re.remove(t+"interpreters")}),ce},destroy:function(){return Ee(function(){ve.destroy().remove(),ue.remove(),He.remove(),e(document).unbind(".terminal_"+ce.id()),e(window).unbind(".terminal_"+ce.id()),ce.unbind("click wheel mousewheel mousedown mouseup"),ce.removeData("terminal").removeClass("terminal").unbind(".terminal"),je.width&&ce.css("width",""),je.height&&ce.css("height",""),e(window).off("blur",Ue).off("focus",We),ce.find(".terminal-fill").remove(),te.remove(xe),be&&be.unobserve(ce[0]),_e&&_e.disconnect(),ce.resizer("unbind"),te.length()||e(window).off("hashchange")}),ce},scroll_to_bottom:_,is_bottom:function(){if(-1===je.scrollBottomOffset)return!1;var t,n,o;ce.is("body")?(t=e(document).height(),n=e(window).scrollTop(),o=window.innerHeight):(t=ae[0].scrollHeight,n=ae.scrollTop(),o=ae.outerHeight());var r=t-je.scrollBottomOffset;return n+o>r}},function(e,t){return function(){try{return t.apply(ce,[].slice.apply(arguments))}catch(t){if("exec"!==e&&"resume"!==e&&b(t,"TERMINAL"),!je.exceptionHandler)throw t}}})),!0===je.ignoreSystemDescribe&&(je.describe=!1),je.width&&ce.width(je.width),je.height&&ce.height(je.height),ae=ce.scroll_element(),e(document).bind("ajaxSend.terminal_"+ce.id(),function(e,t){ee.push(t)});var Ne,He=e('<div class="terminal-wrapper"/>').appendTo(ce);if(e('<div class="terminal-fill"/>').appendTo(ce),ue=e("<div>").addClass("terminal-output").attr("role","log").appendTo(He),ce.addClass("terminal"),je.login&&e.isFunction(je.onBeforeLogin))try{!1===je.onBeforeLogin.call(ce,ce)&&(Be=!1)}catch(e){if(b(e,"onBeforeLogin"),!je.exceptionHandler)throw e}if("string"==typeof o)Ne=o;else if(o instanceof Array)for(var ze=0,qe=o.length;ze<qe;++ze)if("string"==typeof o[ze]){Ne=o[ze];break}function We(){ye&&ce.focus()}function Ue(){ye=Le,ce.disable().find("textarea").trigger("blur",[!0])}return!Ne||"string"!=typeof je.login&&!0!==je.login||(je.login=v(Ne,je.login)),te.append(ce),ce.on("focus.terminal","textarea",function(e){ce.enabled()||e.originalEvent===t||ce.focus(!0)}),e(document).on("paste.terminal_"+ce.id(),function(e){if((e=e.originalEvent).clipboardData&&ce.enabled()){var t=e.clipboardData.items;if(t)for(var n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var o=t[n].getAsFile(),r=window.URL||window.webkitURL,i=r.createObjectURL(o);ce.echo('<img src="'+i+'"/>',{raw:!0})}}}),g(o,!!je.login,function(n){(je.completion&&"boolean"!=typeof je.completion||!je.completion)&&(n.completion="settings");var o=e.extend({},X,je.keymap||{});function r(t){var n=e(t.target);!n.closest(".terminal").length&&ce.enabled()&&ce.disable()}ge=new h(e.extend({},je.extra,{name:je.name,prompt:je.prompt,keypress:je.keypress,keydown:je.keydown,resize:je.onResize,greetings:je.greetings,mousewheel:je.mousewheel,keymap:o},n)),ve=e("<div/>").appendTo(He).cmd({prompt:je.prompt,history:je.memory?"memory":je.history,historyFilter:je.historyFilter,historySize:je.historySize,width:"100%",enabled:!1,keydown:J,keymap:o,clickTimeout:je.clickTimeout,keypress:function(t){var n=ge.top();if(Le&&(!Ie||!je.pauseEvents)){if(e.isFunction(n.keypress))return n.keypress.call(ce,t,ce);if(e.isFunction(je.keypress))return je.keypress.call(ce,t,ce)}},onCommandChange:function(t){if(e.isFunction(je.onCommandChange))try{je.onCommandChange.call(ce,t,ce)}catch(e){if(b(e,"onCommandChange"),!je.exceptionHandler)throw e}_()},commands:j}),Le&&ce.is(":visible")&&!I?ce.focus(t,!0):ce.disable(),ce.oneTime(100,function(){e(document).bind("click.terminal_"+ce.id(),r).bind("contextmenu.terminal_"+ce.id(),r)});var i=e(window);function s(){if(ce.is(":visible")){var e=ce.width(),t=ce.height();me===t&&de===e||ce.resize(),me=t,de=e}}function a(){var t;be&&be.unobserve(ce[0]),(be=new IntersectionObserver(function(){ce.is(":visible")?(ce.resizer("unbind").resizer(s),s(),t&&ce.enabled()):(t=e.terminal.active()===ce&&ce.enabled(),ce.disable())},{root:document.body})).observe(ce[0])}document.addEventListener("resume",function(){ce.disable()}),I?ce.click(function(){Me||(ce.enabled()?ce.disable():(ce.focus(),ve.enable()))}):(i.on("focus.terminal_"+ce.id(),We).on("blur.terminal_"+ce.id(),Ue),function(){var t,n=0,o="click_"+ce.id();function r(){if(!t)return n=0,!1;if(t.is(".terminal")||t.is(".terminal-wrapper")){var e=ce.get_command().length;ce.set_position(e)}else t.closest(".prompt").length&&ce.set_position(0);n=0}ce.mousedown(function(n){t=e(n.target)}).mouseup(function(){if(""===B())if(1==++n){if(!Me)if(Le){var e=je.clickTimeout;ce.oneTime(e,o,r)}else ce.focus(),ve.enable(),n=0}else ce.stopTime(o),n=0}).dblclick(function(){n=0,ce.stopTime(o)})}(),function(){var e=ce.find("textarea");ce.on("mousedown.terminal",function(t){if(2===t.originalEvent.button){ce.enabled()||ce.enable(),t.preventDefault();var n=ve.offset();e.css({left:t.pageX-n.left-5,top:t.pageY-n.top-5})}}),ce.bind("contextmenu",function(){ce.oneTime(100,function(){e.css({left:"",top:""})})})}()),ce.delegate(".exception a","click",function(t){var n=e(this).attr("href");n.match(/:[0-9]+$/)&&(t.preventDefault(),function(t){var n=t.match(/(.*):([0-9]+):([0-9]+)$/);n&&(ce.pause(je.softPause),e.get(n[1],function(t){var o=location.href.replace(/[^/]+$/,""),r=n[1].replace(o,"");ce.echo("[[b;white;]"+r+"]");var i=t.split("\n"),s=+n[2]-1;ce.echo(i.slice(s-2,s+3).map(function(t,n){return 2===n&&(t="[[;#f00;]"+e.terminal.escape_brackets(t)+"]"),"["+(s+n)+"]: "+t}).join("\n")).resume()},"text"))}(n))}),ce.is(":visible")&&(fe=ce.cols(),ve.resize(fe),Te||(Te={}),he=q(ce,Te)),Ae.resolve(),je.login?ce.login(je.login,!0,U):U(),ce.is(":visible")&&ce.resizer(s);var l=!!ce.closest("body").length,c=window.MutationObserver||window.WebKitMutationObserver;window.IntersectionObserver&&(c&&(_e=new c(function(){ce.closest("body").length?(l||(ce.scroll_to_bottom(),a()),l=!0):l&&(l=!1)})).observe(document.body,{childList:!0}),l&&a()),je.execHash&&location.hash?setTimeout(function(){try{var t=location.hash.replace(/^#/,"");Z=JSON.parse(decodeURIComponent(t));var n=0;!function t(){var o=Z[n++];o?function(t){var n=te.get()[t[0]];if(n&&xe===n.id()&&t[2])try{if(Ie){var o=e.Deferred();return P.push(function(){return n.exec(t[2]).done(function(){n.save_state(t[2],!0,t[1]),o.resolve()})}),o.promise()}return n.exec(t[2]).done(function(){n.save_state(t[2],!0,t[1])})}catch(t){var r=n.settings();if(e.isFunction(r.exceptionHandler))r.exceptionHandler.call(ce,t,"EXEC HASH");else{var i=e.terminal.escape_brackets(pe),s="Error while exec with command "+i;n.error(s).exception(t)}}}(o).done(t):oe=!0}()}catch(e){}}):oe=!0;var u,f=!1;function p(t,n){if(!f){var o=ge.top();if(e.isFunction(o.mousewheel)){if(!1===o.mousewheel(t,n,ce))return}else if(e.isFunction(je.mousewheel)&&!1===je.mousewheel(t,n,ce))return;n>0?ce.scroll(-40):ce.scroll(40)}}e(document).bind("keydown.terminal_"+ce.id(),function(e){e.shiftKey&&(f=!0)}).bind("keyup.terminal_"+ce.id(),function(e){(e.shiftKey||16===e.which)&&(f=!1)}),e.event.special.mousewheel?ce.on("mousewheel",function(e,t){p(e,t),e.preventDefault()}):(u="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==t?"mousewheel":"DOMMouseScroll",ce.on(u,function(e){var t;return t="mousewheel"===u?-.025*e.originalEvent.wheelDelta:e.originalEvent.deltaY||e.originalEvent.detail,p(e,-t),!1}))}),ce.data("terminal",ce),ce}})?i.apply(t,s):i)||(e.exports=a)}).call(this,n(0),n(3).setImmediate)},function(e,t,n){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(4),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var o,r=1,i={},s=!1,a=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick(function(){u(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&u(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),o=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},o=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;o=function(t){var n=a.createElement("script");n.onreadystatechange=function(){u(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():o=function(e){setTimeout(u,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return i[r]=s,o(r),r++},l.clearImmediate=c}function c(e){delete i[e]}function u(e){if(s)setTimeout(u,0,e);else{var t=i[e];if(t){s=!0;try{!function(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(n,o)}}(t)}finally{c(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(5))},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var l,c=[],u=!1,f=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=jQuery},function(e,t,n){var o,r;!function(){var i,s={polyfill:function(){if(!("KeyboardEvent"in window)||"key"in KeyboardEvent.prototype)return!1;var e={get:function(e){var t=s.keys[this.which||this.keyCode];return Array.isArray(t)&&(t=t[+this.shiftKey]),t}};return Object.defineProperty(KeyboardEvent.prototype,"key",e),e},keys:{3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"}};for(i=1;i<25;i++)s.keys[111+i]="F"+i;var a="";for(i=65;i<91;i++)a=String.fromCharCode(i),s.keys[i]=[a.toLowerCase(),a.toUpperCase()];void 0===(r="function"==typeof(o=s)?o.call(t,n,t,e):o)||(e.exports=r)}()},function(e,t){
/**@license
 *       __ _____                     ________                              __
 *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 *           \/              /____/
 * http://terminal.jcubic.pl
 *
 * This is example of how to create custom formatter for jQuery Terminal
 *
 * Copyright (c) 2014-2016 Jakub Jankiewicz <http://jcubic.pl/me>
 * Released under the MIT license
 *
 */
!function(e){if(!e.terminal)throw new Error("$.terminal is not defined");e.terminal.overtyping=function(e){return e.replace(/((?:_\x08.|.\x08_)+)/g,function(e){return"[[u;;]"+e.replace(/_x08|\x08_|_\u0008|\u0008_/g,"")+"]"}).replace(/((?:.\x08.)+)/g,function(e){return"[[b;#fff;]"+e.replace(/(.)(?:\x08|\u0008)\1/g,function(e,t){return t})+"]"})},e.terminal.ansi_colors={normal:{black:"#000",red:"#A00",green:"#008400",yellow:"#A50",blue:"#00A",magenta:"#A0A",cyan:"#0AA",white:"#AAA"},faited:{black:"#000",red:"#640000",green:"#006100",yellow:"#737300",blue:"#000087",magenta:"#650065",cyan:"#008787",white:"#818181"},bold:{black:"#000",red:"#F55",green:"#44D544",yellow:"#FF5",blue:"#55F",magenta:"#F5F",cyan:"#5FF",white:"#FFF"},palette:["#000000","#AA0000","#00AA00","#AA5500","#0000AA","#AA00AA","#00AAAA","#AAAAAA","#555555","#FF5555","#55FF55","#FFFF55","#5555FF","#FF55FF","#55FFFF","#FFFFFF","#000000","#00005F","#000087","#0000AF","#0000D7","#0000FF","#005F00","#005F5F","#005F87","#005FAF","#005FD7","#005FFF","#008700","#00875F","#008787","#0087AF","#0087D7","#0087FF","#00AF00","#00AF5F","#00AF87","#00AFAF","#00AFD7","#00AFFF","#00D700","#00D75F","#00D787","#00D7AF","#00D7D7","#00D7FF","#00FF00","#00FF5F","#00FF87","#00FFAF","#00FFD7","#00FFFF","#5F0000","#5F005F","#5F0087","#5F00AF","#5F00D7","#5F00FF","#5F5F00","#5F5F5F","#5F5F87","#5F5FAF","#5F5FD7","#5F5FFF","#5F8700","#5F875F","#5F8787","#5F87AF","#5F87D7","#5F87FF","#5FAF00","#5FAF5F","#5FAF87","#5FAFAF","#5FAFD7","#5FAFFF","#5FD700","#5FD75F","#5FD787","#5FD7AF","#5FD7D7","#5FD7FF","#5FFF00","#5FFF5F","#5FFF87","#5FFFAF","#5FFFD7","#5FFFFF","#870000","#87005F","#870087","#8700AF","#8700D7","#8700FF","#875F00","#875F5F","#875F87","#875FAF","#875FD7","#875FFF","#878700","#87875F","#878787","#8787AF","#8787D7","#8787FF","#87AF00","#87AF5F","#87AF87","#87AFAF","#87AFD7","#87AFFF","#87D700","#87D75F","#87D787","#87D7AF","#87D7D7","#87D7FF","#87FF00","#87FF5F","#87FF87","#87FFAF","#87FFD7","#87FFFF","#AF0000","#AF005F","#AF0087","#AF00AF","#AF00D7","#AF00FF","#AF5F00","#AF5F5F","#AF5F87","#AF5FAF","#AF5FD7","#AF5FFF","#AF8700","#AF875F","#AF8787","#AF87AF","#AF87D7","#AF87FF","#AFAF00","#AFAF5F","#AFAF87","#AFAFAF","#AFAFD7","#AFAFFF","#AFD700","#AFD75F","#AFD787","#AFD7AF","#AFD7D7","#AFD7FF","#AFFF00","#AFFF5F","#AFFF87","#AFFFAF","#AFFFD7","#AFFFFF","#D70000","#D7005F","#D70087","#D700AF","#D700D7","#D700FF","#D75F00","#D75F5F","#D75F87","#D75FAF","#D75FD7","#D75FFF","#D78700","#D7875F","#D78787","#D787AF","#D787D7","#D787FF","#D7AF00","#D7AF5F","#D7AF87","#D7AFAF","#D7AFD7","#D7AFFF","#D7D700","#D7D75F","#D7D787","#D7D7AF","#D7D7D7","#D7D7FF","#D7FF00","#D7FF5F","#D7FF87","#D7FFAF","#D7FFD7","#D7FFFF","#FF0000","#FF005F","#FF0087","#FF00AF","#FF00D7","#FF00FF","#FF5F00","#FF5F5F","#FF5F87","#FF5FAF","#FF5FD7","#FF5FFF","#FF8700","#FF875F","#FF8787","#FF87AF","#FF87D7","#FF87FF","#FFAF00","#FFAF5F","#FFAF87","#FFAFAF","#FFAFD7","#FFAFFF","#FFD700","#FFD75F","#FFD787","#FFD7AF","#FFD7D7","#FFD7FF","#FFFF00","#FFFF5F","#FFFF87","#FFFFAF","#FFFFD7","#FFFFFF","#080808","#121212","#1C1C1C","#262626","#303030","#3A3A3A","#444444","#4E4E4E","#585858","#626262","#6C6C6C","#767676","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D0D0D0","#DADADA","#E4E4E4","#EEEEEE"]},e.terminal.from_ansi=function(){var t={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",39:"inherit"},n={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white",49:"transparent"};function o(o){var r,i,s,a,l,c=o.split(";"),u=!1,f=!1,h=!1,p=[],d="",m="",g=!1,v=!1,y=!1,b=e.terminal.ansi_colors.palette;function _(e){switch(e){case 1:p.push("b"),h=!0,u=!1;break;case 4:p.push("u");break;case 3:p.push("i");break;case 5:y=!0;break;case 38:g=!0;break;case 48:v=!0;break;case 2:u=!0,h=!1;break;case 7:f=!0;break;default:-1===c.indexOf("5")&&(t[e]&&(d=t[e]),n[e]&&(m=n[e]))}}for(var w in c)c.hasOwnProperty(w)&&(r=parseInt(c[w],10),y&&(v||g)?(g&&b[r]&&(d=b[r]),v&&b[r]&&(m=b[r])):_(r));if(f)if(d||m){var F=m;m=d,d=F}else d="black",m="white";return i=l=h?e.terminal.ansi_colors.bold:u?e.terminal.ansi_colors.faited:e.terminal.ansi_colors.normal,s=g?d:"inherit"===d?d:i[d],a=v?m:"transparent"===m?m:l[m],[p.join(""),s,a]}return function(e){var t=e.split(/(\x1B\[[0-9;]*[A-Za-z])/g);if(1===t.length)return e;var n,r,i,s,a=[];t.length>3&&(t.slice(0,3).join("").match(/^\[0*m$/)&&(t=t.slice(3)));for(var l=!1,c=0;c<t.length;++c)if(s=t[c].match(/^\x1B\[([0-9;]*)([A-Za-z])$/))switch(s[2]){case"m":0!=+s[1]&&(i=o(s[1])),l?(a.push("]"),0==+s[1]?(l=!1,n=r=""):(i[1]=i[1]||n,i[2]=i[2]||r,a.push("[["+i.join(";")+"]"),i[1]&&(n=i[1]),i[2]&&(r=i[2]))):0!=+s[1]&&(l=!0,i[1]=i[1]||n,i[2]=i[2]||r,a.push("[["+i.join(";")+"]"),i[1]&&(n=i[1]),i[2]&&(r=i[2]))}else a.push(t[c]);return l&&a.push("]"),a.join("")}}(),e.terminal.defaults.formatters.unshift(e.terminal.overtyping),e.terminal.defaults.formatters.unshift(e.terminal.from_ansi)}(jQuery)},function(e,t,n){"use strict";e.exports=n(10)},function(e){e.exports={dots:{interval:80,frames:["","","","","","","","","",""]},dots2:{interval:80,frames:["","","","","","","",""]},dots3:{interval:80,frames:["","","","","","","","","",""]},dots4:{interval:80,frames:["","","","","","","","","","","","","",""]},dots5:{interval:80,frames:["","","","","","","","","","","","","","","","",""]},dots6:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","",""]},dots7:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","",""]},dots8:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dots9:{interval:80,frames:["","","","","","","",""]},dots10:{interval:80,frames:["","","","","","",""]},dots11:{interval:100,frames:["","","","","","","",""]},dots12:{interval:80,frames:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["","-","","","","-"]},pipe:{interval:100,frames:["","","","","","","",""]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["","","","","",""]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","","-","_","_","_"]},hamburger:{interval:100,frames:["","",""]},growVertical:{interval:120,frames:["","","","","","","","","",""]},growHorizontal:{interval:120,frames:["","","","","","","","","","","",""]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","","O","o","."]},noise:{interval:100,frames:["","",""]},bounce:{interval:120,frames:["","","",""]},boxBounce:{interval:120,frames:["","","",""]},boxBounce2:{interval:100,frames:["","","",""]},triangle:{interval:50,frames:["","","",""]},arc:{interval:100,frames:["","","","","",""]},circle:{interval:120,frames:["","",""]},squareCorners:{interval:180,frames:["","","",""]},circleQuarters:{interval:120,frames:["","","",""]},circleHalves:{interval:50,frames:["","","",""]},squish:{interval:100,frames:["",""]},toggle:{interval:250,frames:["",""]},toggle2:{interval:80,frames:["",""]},toggle3:{interval:120,frames:["",""]},toggle4:{interval:100,frames:["","","",""]},toggle5:{interval:100,frames:["",""]},toggle6:{interval:300,frames:["",""]},toggle7:{interval:80,frames:["",""]},toggle8:{interval:100,frames:["",""]},toggle9:{interval:100,frames:["",""]},toggle10:{interval:100,frames:["","",""]},toggle11:{interval:50,frames:["",""]},toggle12:{interval:120,frames:["",""]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["","","","","","","",""]},arrow2:{interval:80,frames:[" "," "," "," "," "," "," "," "]},arrow3:{interval:120,frames:["","","","","",""]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )","(     )"]},smiley:{interval:200,frames:[" "," "]},monkey:{interval:300,frames:[" "," "," "," "]},hearts:{interval:100,frames:[" "," "," "," "," "]},clock:{interval:100,frames:[" "," "," "," "," "," "," "," "," "," "," "," "]},earth:{interval:180,frames:[" "," "," "]},moon:{interval:80,frames:[" "," "," "," "," "," "," "," "]},runner:{interval:140,frames:[" "," "]},pong:{interval:80,frames:["       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       ","       "]},shark:{interval:120,frames:["|\\____________","_|\\___________","__|\\__________","___|\\_________","____|\\________","_____|\\_______","______|\\______","_______|\\_____","________|\\____","_________|\\___","__________|\\__","___________|\\_","____________|\\","____________/|","___________/|_","__________/|__","_________/|___","________/|____","_______/|_____","______/|______","_____/|_______","____/|________","___/|_________","__/|__________","_/|___________","/|____________"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "]},christmas:{interval:400,frames:["",""]},grenade:{interval:80,frames:["   ","   ","  ","  ","  ","  ","  |","  ","  ","  ","  ","   ","   ","   "]},point:{interval:125,frames:["","","","",""]},layer:{interval:150,frames:["-","=",""]}}},function(e,t,n){
/* 
  @package NOTY - Dependency-free notification library 
  @version version: 3.1.4 
  @contributors https://github.com/needim/noty/graphs/contributors 
  @documentation Examples and Documentation - http://needim.github.com/noty 
  @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php 
*/
!function(t,n){e.exports=n()}(0,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.css=t.deepExtend=t.animationEndEvents=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.inArray=function(e,t,n){var o=void 0;if(n){for(o in t)if(t.hasOwnProperty(o)&&t[o]===e)return!0}else for(o in t)if(t.hasOwnProperty(o)&&t[o]===e)return!0;return!1},t.stopPropagation=function(e){void 0!==(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.generateID=function(){var e="noty_"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+"_";return e+="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.outerHeight=function(e){var t=e.offsetHeight,n=window.getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)},t.addListener=i,t.hasClass=s,t.addClass=function(e,t){var n=l(e),o=n+t;if(s(n,t))return;e.className=o.substring(1)},t.removeClass=function(e,t){var n=l(e),o=void 0;if(!s(e,t))return;o=n.replace(" "+t+" "," "),e.className=o.substring(1,o.length-1)},t.remove=a,t.classList=l,t.visibilityChangeFlow=function(){var e=void 0,t=void 0;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");function n(){r.PageHidden?setTimeout(function(){Object.keys(r.Store).forEach(function(e){r.Store.hasOwnProperty(e)&&r.Store[e].options.visibilityControl&&r.Store[e].stop()})},100):setTimeout(function(){Object.keys(r.Store).forEach(function(e){r.Store.hasOwnProperty(e)&&r.Store[e].options.visibilityControl&&r.Store[e].resume()}),r.queueRenderAll()},100)}t&&i(document,t,function(){r.PageHidden=document[e],n()});i(window,"blur",function(){r.PageHidden=!0,n()}),i(window,"focus",function(){r.PageHidden=!1,n()})},t.createAudioElements=function(e){if(e.hasSound){var t=document.createElement("audio");e.options.sounds.sources.forEach(function(e){var n=document.createElement("source");n.src=e,n.type="audio/"+function(e){return e.match(/\.([^.]+)$/)[1]}(e),t.appendChild(n)}),e.barDom?e.barDom.appendChild(t):document.querySelector("body").appendChild(t),t.volume=e.options.sounds.volume,e.soundPlayed||(t.play(),e.soundPlayed=!0),t.onended=function(){a(t)}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.animationEndEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";t.deepExtend=function e(t){t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)r.hasOwnProperty(i)&&(Array.isArray(r[i])?t[i]=r[i]:"object"===o(r[i])&&null!==r[i]?t[i]=e(t[i],r[i]):t[i]=r[i])}return t};t.css=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n){return n=function(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}(n),t[n]||(t[n]=function(t){var n=document.body.style;if(t in n)return t;for(var o=e.length,r=t.charAt(0).toUpperCase()+t.slice(1),i=void 0;o--;)if((i=e[o]+r)in n)return i;return t}(n))}function o(e,t,o){t=n(t),e.style[t]=o}return function(e,t){var n=arguments,r=void 0,i=void 0;if(2===n.length)for(r in t)t.hasOwnProperty(r)&&void 0!==(i=t[r])&&t.hasOwnProperty(r)&&o(e,r,i);else o(e,n[1],n[2])}}();function i(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t.split(" ");for(var r=0;r<t.length;r++)document.addEventListener?e.addEventListener(t[r],n,o):document.attachEvent&&e.attachEvent("on"+t[r],n)}function s(e,t){return("string"==typeof e?e:l(e)).indexOf(" "+t+" ")>=0}function a(e){e.parentNode&&e.parentNode.removeChild(e)}function l(e){return(" "+(e&&e.className||"")+" ").replace(/\s+/gi," ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Defaults=t.Store=t.Queues=t.DefaultMaxVisible=t.docTitle=t.DocModalCount=t.PageHidden=void 0,t.getQueueCounts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=0,n=a;l.hasOwnProperty(e)&&(n=l[e].maxVisible,Object.keys(c).forEach(function(n){c[n].options.queue!==e||c[n].closed||t++}));return{current:t,maxVisible:n}},t.addToQueue=function(e){l.hasOwnProperty(e.options.queue)||(l[e.options.queue]={maxVisible:a,queue:[]});l[e.options.queue].queue.push(e)},t.removeFromQueue=function(e){if(l.hasOwnProperty(e.options.queue)){var t=[];Object.keys(l[e.options.queue].queue).forEach(function(n){l[e.options.queue].queue[n].id!==e.id&&t.push(l[e.options.queue].queue[n])}),l[e.options.queue].queue=t}},t.queueRender=u,t.queueRenderAll=function(){Object.keys(l).forEach(function(e){u(e)})},t.ghostFix=function(e){var t=o.generateID("ghost"),n=document.createElement("div");n.setAttribute("id",t),o.css(n,{height:o.outerHeight(e.barDom)+"px"}),e.barDom.insertAdjacentHTML("afterend",n.outerHTML),o.remove(e.barDom),n=document.getElementById(t),o.addClass(n,"noty_fix_effects_height"),o.addListener(n,o.animationEndEvents,function(){o.remove(n)})},t.build=function(e){!function(e){if(e.options.container)return void(e.layoutDom=document.querySelector(e.options.container));var t="noty_layout__"+e.options.layout;e.layoutDom=document.querySelector("div#"+t),e.layoutDom||(e.layoutDom=document.createElement("div"),e.layoutDom.setAttribute("id",t),e.layoutDom.setAttribute("role","alert"),e.layoutDom.setAttribute("aria-live","polite"),o.addClass(e.layoutDom,"noty_layout"),document.querySelector("body").appendChild(e.layoutDom))}(e);var t='<div class="noty_body">'+e.options.text+"</div>"+function(e){if(f(e)){var t=document.createElement("div");return o.addClass(t,"noty_buttons"),Object.keys(e.options.buttons).forEach(function(n){t.appendChild(e.options.buttons[n].dom)}),e.options.buttons.forEach(function(e){t.appendChild(e.dom)}),t.outerHTML}return""}(e)+'<div class="noty_progressbar"></div>';e.barDom=document.createElement("div"),e.barDom.setAttribute("id",e.id),o.addClass(e.barDom,"noty_bar noty_type__"+e.options.type+" noty_theme__"+e.options.theme),e.barDom.innerHTML=t,d(e,"onTemplate")},t.hasButtons=f,t.handleModal=function(e){e.options.modal&&(0===r&&function(){var e=document.querySelector("body"),t=document.createElement("div");o.addClass(t,"noty_modal"),e.insertBefore(t,e.firstChild),o.addClass(t,"noty_modal_open"),o.addListener(t,o.animationEndEvents,function(){o.removeClass(t,"noty_modal_open")})}(),t.DocModalCount=r+=1)},t.handleModalClose=function(e){if(e.options.modal&&r>0&&(t.DocModalCount=r-=1,r<=0)){var n=document.querySelector(".noty_modal");n&&(o.removeClass(n,"noty_modal_open"),o.addClass(n,"noty_modal_close"),o.addListener(n,o.animationEndEvents,function(){o.remove(n)}))}},t.queueClose=h,t.dequeueClose=p,t.fire=d,t.openFlow=function(e){d(e,"afterShow"),h(e),o.addListener(e.barDom,"mouseenter",function(){p(e)}),o.addListener(e.barDom,"mouseleave",function(){h(e)})},t.closeFlow=function(e){delete c[e.id],e.closing=!1,d(e,"afterClose"),o.remove(e.barDom),0!==e.layoutDom.querySelectorAll(".noty_bar").length||e.options.container||o.remove(e.layoutDom);(o.inArray("docVisible",e.options.titleCount.conditions)||o.inArray("docHidden",e.options.titleCount.conditions))&&s.decrement();u(e.options.queue)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.PageHidden=!1;var r=t.DocModalCount=0,i={originalTitle:null,count:0,changed:!1,timer:-1},s=t.docTitle={increment:function(){i.count++,s._update()},decrement:function(){i.count--,i.count<=0?s._clear():s._update()},_update:function(){var e=document.title;i.changed?document.title="("+i.count+") "+i.originalTitle:(i.originalTitle=e,document.title="("+i.count+") "+e,i.changed=!0)},_clear:function(){i.changed&&(i.count=0,document.title=i.originalTitle,i.changed=!1)}},a=t.DefaultMaxVisible=5,l=t.Queues={global:{maxVisible:a,queue:[]}},c=t.Store={};t.Defaults={type:"alert",layout:"topRight",theme:"mint",text:"",timeout:!1,progressBar:!0,closeWith:["click"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],callbacks:{beforeShow:null,onShow:null,afterShow:null,onClose:null,afterClose:null,onClick:null,onHover:null,onTemplate:null},sounds:{sources:[],volume:1,conditions:[]},titleCount:{conditions:[]},modal:!1,visibilityControl:!1};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";if(l.hasOwnProperty(e)){var t=l[e].queue.shift();t&&t.show()}}function f(e){return!(!e.options.buttons||!Object.keys(e.options.buttons).length)}function h(e){e.options.timeout&&(e.options.progressBar&&e.progressDom&&o.css(e.progressDom,{transition:"width "+e.options.timeout+"ms linear",width:"0%"}),clearTimeout(e.closeTimer),e.closeTimer=setTimeout(function(){e.close()},e.options.timeout))}function p(e){e.options.timeout&&e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=-1,e.options.progressBar&&e.progressDom&&o.css(e.progressDom,{transition:"width 0ms linear",width:"100%"}))}function d(e,t){e.listeners.hasOwnProperty(t)&&e.listeners[t].forEach(function(t){"function"==typeof t&&t.apply(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotyButton=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.NotyButton=function e(t,n,r){var i=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=document.createElement("button"),this.dom.innerHTML=t,this.id=s.id=s.id||o.generateID("button"),this.cb=r,Object.keys(s).forEach(function(e){i.dom.setAttribute(e,s[e])}),o.addClass(this.dom,n||"noty_btn"),this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.Push=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/service-worker.js";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subData={},this.workerPath=t,this.listeners={onPermissionGranted:[],onPermissionDenied:[],onSubscriptionSuccess:[],onSubscriptionCancel:[],onWorkerError:[],onWorkerSuccess:[],onWorkerNotSupported:[]},this}return o(e,[{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof t&&this.listeners.hasOwnProperty(e)&&this.listeners[e].push(t),this}},{key:"fire",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.listeners.hasOwnProperty(e)&&this.listeners[e].forEach(function(e){"function"==typeof e&&e.apply(t,n)})}},{key:"create",value:function(){console.log("NOT IMPLEMENTED YET")}},{key:"isSupported",value:function(){var e=!1;try{e=window.Notification||window.webkitNotifications||navigator.mozNotification||window.external&&void 0!==window.external.msIsSiteMode()}catch(e){}return e}},{key:"getPermissionStatus",value:function(){var e="default";if(window.Notification&&window.Notification.permissionLevel)e=window.Notification.permissionLevel;else if(window.webkitNotifications&&window.webkitNotifications.checkPermission)switch(window.webkitNotifications.checkPermission()){case 1:e="default";break;case 0:e="granted";break;default:e="denied"}else window.Notification&&window.Notification.permission?e=window.Notification.permission:navigator.mozNotification?e="granted":window.external&&void 0!==window.external.msIsSiteMode()&&(e=window.external.msIsSiteMode()?"granted":"default");return e.toString().toLowerCase()}},{key:"getEndpoint",value:function(e){var t=e.endpoint,n=e.subscriptionId;return n&&-1===t.indexOf(n)&&(t+="/"+n),t}},{key:"isSWRegistered",value:function(){try{return"activated"===navigator.serviceWorker.controller.state}catch(e){return!1}}},{key:"unregisterWorker",value:function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){var n=!0,o=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){i.value.unregister(),e.fire("onSubscriptionCancel")}}catch(e){o=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}})}},{key:"requestSubscription",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this,o=this.getPermissionStatus(),r=function(o){"granted"===o?(e.fire("onPermissionGranted"),"serviceWorker"in navigator?navigator.serviceWorker.register(e.workerPath).then(function(){navigator.serviceWorker.ready.then(function(e){n.fire("onWorkerSuccess"),e.pushManager.subscribe({userVisibleOnly:t}).then(function(e){var t=e.getKey("p256dh"),o=e.getKey("auth");n.subData={endpoint:n.getEndpoint(e),p256dh:t?window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))):null,auth:o?window.btoa(String.fromCharCode.apply(null,new Uint8Array(o))):null},n.fire("onSubscriptionSuccess",[n.subData])}).catch(function(e){n.fire("onWorkerError",[e])})})}):n.fire("onWorkerNotSupported")):"denied"===o&&(e.fire("onPermissionDenied"),e.unregisterWorker())};"default"===o?window.Notification&&window.Notification.requestPermission?window.Notification.requestPermission(r):window.webkitNotifications&&window.webkitNotifications.checkPermission&&window.webkitNotifications.requestPermission(r):r(o)}}]),e}()},function(e,t,n){(function(t,o){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,s=void 0,a=void 0,l=function(e,t){m[i]=e,m[i+1]=t,2===(i+=2)&&(a?a(g):v())};var c="undefined"!=typeof window?window:void 0,u=c||{},f=u.MutationObserver||u.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(g,1)}}var m=new Array(1e3);function g(){for(var e=0;e<i;e+=2){(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0}i=0}var v=void 0;function y(e,t){var n=arguments,o=this,r=new this.constructor(w);void 0===r[_]&&B(r);var i=o._state;return i?function(){var e=n[i-1];l(function(){return M(i,r,e,o._result)})}():P(o,r,e,t),r}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return T(t,e),t}v=h?function(){return t.nextTick(g)}:f?function(){var e=0,t=new f(g),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():p?function(){var e=new MessageChannel;return e.port1.onmessage=g,function(){return e.port2.postMessage(0)}}():void 0===c?function(){try{var e=n(9);return void 0!==(s=e.runOnLoop||e.runOnContext)?function(){s(g)}:d()}catch(e){return d()}}():d();var _=Math.random().toString(36).substring(16);function w(){}var F=void 0,x=1,k=2,A=new R;function C(e){try{return e.then}catch(e){return A.error=e,A}}function E(t,n,o){n.constructor===t.constructor&&o===y&&n.constructor.resolve===b?function(e,t){t._state===x?O(e,t._result):t._state===k?S(e,t._result):P(t,void 0,function(t){return T(e,t)},function(t){return S(e,t)})}(t,n):o===A?(S(t,A.error),A.error=null):void 0===o?O(t,n):e(o)?function(e,t,n){l(function(e){var o=!1,r=function(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}(n,t,function(n){o||(o=!0,t!==n?T(e,n):O(e,n))},function(t){o||(o=!0,S(e,t))},e._label);!o&&r&&(o=!0,S(e,r))},e)}(t,n,o):O(t,n)}function T(e,t){e===t?S(e,new TypeError("You cannot resolve a promise with itself")):!function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?O(e,t):E(e,t,C(t))}function D(e){e._onerror&&e._onerror(e._result),j(e)}function O(e,t){e._state===F&&(e._result=t,e._state=x,0!==e._subscribers.length&&l(j,e))}function S(e,t){e._state===F&&(e._state=k,e._result=t,l(D,e))}function P(e,t,n,o){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+x]=n,r[i+k]=o,0===i&&e._state&&l(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,r=void 0,i=e._result,s=0;s<t.length;s+=3)o=t[s],r=t[s+n],o?M(n,o,r,i):r(i);e._subscribers.length=0}}function R(){this.error=null}var L=new R;function M(t,n,o,r){var i=e(o),s=void 0,a=void 0,l=void 0,c=void 0;if(i){if((s=function(e,t){try{return e(t)}catch(e){return L.error=e,L}}(o,r))===L?(c=!0,a=s.error,s.error=null):l=!0,n===s)return void S(n,new TypeError("A promises callback cannot return that same promise."))}else s=r,l=!0;n._state!==F||(i&&l?T(n,s):c?S(n,a):t===x?O(n,s):t===k&&S(n,s))}var I=0;function B(e){e[_]=I++,e._state=void 0,e._result=void 0,e._subscribers=[]}function N(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[_]||B(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&O(this.promise,this._result))):S(this.promise,new Error("Array Methods must be provided an Array"))}function H(e){this[_]=I++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof H?function(e,t){try{t(function(t){T(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return N.prototype._enumerate=function(e){for(var t=0;this._state===F&&t<e.length;t++)this._eachEntry(e[t],t)},N.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===b){var r=C(e);if(r===y&&e._state!==F)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===H){var i=new n(w);E(i,e,r),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},N.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===F&&(this._remaining--,e===k?S(o,n):this._result[t]=n),0===this._remaining&&O(o,this._result)},N.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(x,t,e)},function(e){return n._settledAt(k,t,e)})},H.all=function(e){return new N(this,e).promise},H.race=function(e){var t=this;return r(e)?new t(function(n,o){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(n,o)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},H.resolve=b,H.reject=function(e){var t=new this(w);return S(t,e),t},H._setScheduler=function(e){a=e},H._setAsap=function(e){l=e},H._asap=l,H.prototype={constructor:H,then:y,catch:function(e){return this.then(null,e)}},H.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=H},H.Promise=H,H})}).call(t,n(7),n(8))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(5);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),i=c(n(0)),s=c(n(1)),a=n(2),l=n(3);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i.deepExtend({},s.Defaults,t),this.id=this.options.id||i.generateID("bar"),this.closeTimer=-1,this.barDom=null,this.layoutDom=null,this.progressDom=null,this.showing=!1,this.shown=!1,this.closed=!1,this.closing=!1,this.killable=this.options.timeout||this.options.closeWith.length>0,this.hasSound=this.options.sounds.sources.length>0,this.soundPlayed=!1,this.listeners={beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onClick:[],onHover:[],onTemplate:[]},this.promises={show:null,close:null},this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onClick",this.options.callbacks.onClick),this.on("onHover",this.options.callbacks.onHover),this.on("onTemplate",this.options.callbacks.onTemplate),this}return o(e,[{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof t&&this.listeners.hasOwnProperty(e)&&this.listeners[e].push(t),this}},{key:"show",value:function(){var t=this;!0===this.options.killer?e.closeAll():"string"==typeof this.options.killer&&e.closeAll(this.options.killer);var n=s.getQueueCounts(this.options.queue);if(n.current>=n.maxVisible||s.PageHidden&&this.options.visibilityControl)return s.addToQueue(this),s.PageHidden&&this.hasSound&&i.inArray("docHidden",this.options.sounds.conditions)&&i.createAudioElements(this),s.PageHidden&&i.inArray("docHidden",this.options.titleCount.conditions)&&s.docTitle.increment(),this;if(s.Store[this.id]=this,s.fire(this,"beforeShow"),this.showing=!0,this.closing)return this.showing=!1,this;if(s.build(this),s.handleModal(this),this.options.force?this.layoutDom.insertBefore(this.barDom,this.layoutDom.firstChild):this.layoutDom.appendChild(this.barDom),this.hasSound&&!this.soundPlayed&&i.inArray("docVisible",this.options.sounds.conditions)&&i.createAudioElements(this),i.inArray("docVisible",this.options.titleCount.conditions)&&s.docTitle.increment(),this.shown=!0,this.closed=!1,s.hasButtons(this)&&Object.keys(this.options.buttons).forEach(function(e){var n=t.barDom.querySelector("#"+t.options.buttons[e].id);i.addListener(n,"click",function(n){i.stopPropagation(n),t.options.buttons[e].cb()})}),this.progressDom=this.barDom.querySelector(".noty_progressbar"),i.inArray("click",this.options.closeWith)&&(i.addClass(this.barDom,"noty_close_with_click"),i.addListener(this.barDom,"click",function(e){i.stopPropagation(e),s.fire(t,"onClick"),t.close()},!1)),i.addListener(this.barDom,"mouseenter",function(){s.fire(t,"onHover")},!1),this.options.timeout&&i.addClass(this.barDom,"noty_has_timeout"),this.options.progressBar&&i.addClass(this.barDom,"noty_has_progressbar"),i.inArray("button",this.options.closeWith)){i.addClass(this.barDom,"noty_close_with_button");var o=document.createElement("div");i.addClass(o,"noty_close_button"),o.innerHTML="",this.barDom.appendChild(o),i.addListener(o,"click",function(e){i.stopPropagation(e),t.close()},!1)}return s.fire(this,"onShow"),null===this.options.animation.open?this.promises.show=new r.default(function(e){e()}):"function"==typeof this.options.animation.open?this.promises.show=new r.default(this.options.animation.open.bind(this)):(i.addClass(this.barDom,this.options.animation.open),this.promises.show=new r.default(function(e){i.addListener(t.barDom,i.animationEndEvents,function(){i.removeClass(t.barDom,t.options.animation.open),e()})})),this.promises.show.then(function(){var e=t;setTimeout(function(){s.openFlow(e)},100)}),this}},{key:"stop",value:function(){return s.dequeueClose(this),this}},{key:"resume",value:function(){return s.queueClose(this),this}},{key:"setTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(this.stop(),this.options.timeout=e,this.barDom){this.options.timeout?i.addClass(this.barDom,"noty_has_timeout"):i.removeClass(this.barDom,"noty_has_timeout");var t=this;setTimeout(function(){t.resume()},100)}return this})},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(this.barDom.querySelector(".noty_body").innerHTML=e),t&&(this.options.text=e),this}},{key:"setType",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.barDom&&(i.classList(this.barDom).split(" ").forEach(function(e){"noty_type__"===e.substring(0,11)&&i.removeClass(t.barDom,e)}),i.addClass(this.barDom,"noty_type__"+e));return n&&(this.options.type=e),this}},{key:"setTheme",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.barDom&&(i.classList(this.barDom).split(" ").forEach(function(e){"noty_theme__"===e.substring(0,12)&&i.removeClass(t.barDom,e)}),i.addClass(this.barDom,"noty_theme__"+e));return n&&(this.options.theme=e),this}},{key:"close",value:function(){var e=this;return this.closed?this:this.shown?(s.fire(this,"onClose"),this.closing=!0,null===this.options.animation.close?this.promises.close=new r.default(function(e){e()}):"function"==typeof this.options.animation.close?this.promises.close=new r.default(this.options.animation.close.bind(this)):(i.addClass(this.barDom,this.options.animation.close),this.promises.close=new r.default(function(t){i.addListener(e.barDom,i.animationEndEvents,function(){e.options.force?i.remove(e.barDom):s.ghostFix(e),t()})})),this.promises.close.then(function(){s.closeFlow(e),s.handleModalClose(e)}),this.closed=!0,this):(s.removeFromQueue(this),this)}}],[{key:"closeAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.keys(s.Store).forEach(function(t){e?s.Store[t].options.queue===e&&s.Store[t].killable&&s.Store[t].close():s.Store[t].killable&&s.Store[t].close()}),this}},{key:"overrideDefaults",value:function(e){return s.Defaults=i.deepExtend({},s.Defaults,e),this}},{key:"setMaxVisible",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.DefaultMaxVisible,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return s.Queues.hasOwnProperty(t)||(s.Queues[t]={maxVisible:e,queue:[]}),s.Queues[t].maxVisible=e,this}},{key:"button",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new a.NotyButton(e,t,n,o)}},{key:"version",value:function(){return"3.1.4"}},{key:"Push",value:function(e){return new l.Push(e)}}]),e}();t.default=u,i.visibilityChangeFlow(),e.exports=t.default},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var l,c=[],u=!1,f=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){}])})},function(e,t,n){var o,r,i;/*! tether-drop 1.4.1 */r=[n(13)],void 0===(i="function"==typeof(o=function(e){"use strict";var t=Function.prototype.bind,n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e,t,n){for(var o=!0;o;){var r=e,i=t,s=n;o=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=s,o=!0,a=c=void 0}},i=e.Utils,s=i.extend,a=i.addClass,l=i.removeClass,c=i.hasClass,u=i.Evented;function f(e){var t=e.split(" "),o=n(t,2),r=o[0],i=o[1];if(["left","right"].indexOf(r)>=0){var s=[i,r];r=s[0],i=s[1]}return[r,i].join(" ")}function h(e,t){for(var n=void 0,o=[];-1!==(n=e.indexOf(t));)o.push(e.splice(n,1));return o}var p=["click"];"ontouchstart"in document.documentElement&&p.push("touchstart");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},m="";for(var g in d)if({}.hasOwnProperty.call(d,g)){var v=document.createElement("p");void 0!==v.style[g]&&(m=d[g])}var y={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},b={},_=function n(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return new(t.apply(v,[null].concat(n)))};s(d,{createContext:n,drops:[],defaults:{}});var g={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};s(d,g,i),s(d.defaults,g.defaults,i.defaults),void 0===b[d.classPrefix]&&(b[d.classPrefix]=[]),d.updateBodyClasses=function(){for(var e=!1,t=b[d.classPrefix],n=t.length,o=0;o<n;++o)if(t[o].isOpened()){e=!0;break}e?a(document.body,d.classPrefix+"-open"):l(document.body,d.classPrefix+"-open")};var v=function(t){function n(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.options=s({},d.defaults,e),this.target=this.options.target,void 0===this.target)throw new Error("Drop Error: You must provide a target.");var t="data-"+d.classPrefix,o=this.target.getAttribute(t);o&&null==this.options.content&&(this.options.content=o);for(var i=["position","openOn"],l=0;l<i.length;++l){var c=this.target.getAttribute(t+"-"+i[l]);c&&null==this.options[i[l]]&&(this.options[i[l]]=c)}this.options.classes&&!1!==this.options.addTargetClasses&&a(this.target,this.options.classes),d.drops.push(this),b[d.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"_on",value:function(e,t,n){this._boundEvents.push({element:e,event:t,handler:n}),e.addEventListener(t,n)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var e=this;if(this.drop=document.createElement("div"),a(this.drop,d.classPrefix),this.options.classes&&a(this.drop,this.options.classes),this.content=document.createElement("div"),a(this.content,d.classPrefix+"-content"),"function"==typeof this.options.content){var t=function(){var t=e.options.content.call(e,e);if("string"==typeof t)e.content.innerHTML=t;else{if("object"!=typeof t)throw new Error("Drop Error: Content function should return a string or HTMLElement.");e.content.innerHTML="",e.content.appendChild(t)}};t(),this.on("open",t.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var t=this.options.position.split(" ");t[0]=y[t[0]],t=t.join(" ");var n=[];this.options.constrainToScrollParent?n.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):n.push({to:"scrollParent"}),!1!==this.options.constrainToWindow?n.push({to:"window",attachment:"together"}):n.push({to:"window"});var o={element:this.drop,target:this.target,attachment:f(t),targetAttachment:f(this.options.position),classPrefix:d.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};!1!==this.options.tetherOptions&&(this.tether=new e(s({},o,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var e=this;if(this.options.openOn)if("always"!==this.options.openOn){var t=this.options.openOn.split(" ");if(t.indexOf("click")>=0)for(var n=function(t){e.toggle(t),t.preventDefault()},o=function(t){e.isOpened()&&(t.target===e.drop||e.drop.contains(t.target)||t.target===e.target||e.target.contains(t.target)||e.close(t))},r=0;r<p.length;++r){var i=p[r];this._on(this.target,i,n),this._on(document,i,o)}var s=null,a=null,l=function(t){null!==a?clearTimeout(a):s=setTimeout(function(){e.open(t),s=null},("focus"===t.type?e.options.focusDelay:e.options.hoverOpenDelay)||e.options.openDelay)},c=function(t){null!==s?clearTimeout(s):a=setTimeout(function(){e.close(t),a=null},("blur"===t.type?e.options.blurDelay:e.options.hoverCloseDelay)||e.options.closeDelay)};t.indexOf("hover")>=0&&(this._on(this.target,"mouseover",l),this._on(this.drop,"mouseover",l),this._on(this.target,"mouseout",c),this._on(this.drop,"mouseout",c)),t.indexOf("focus")>=0&&(this._on(this.target,"focus",l),this._on(this.drop,"focus",l),this._on(this.target,"blur",c),this._on(this.drop,"blur",c))}else setTimeout(this.open.bind(this))}},{key:"isOpened",value:function(){if(this.drop)return c(this.drop,d.classPrefix+"-open")}},{key:"toggle",value:function(e){this.isOpened()?this.close(e):this.open(e)}},{key:"open",value:function(e){var t=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),void 0!==this.tether&&this.tether.enable(),a(this.drop,d.classPrefix+"-open"),a(this.drop,d.classPrefix+"-open-transitionend"),setTimeout(function(){t.drop&&a(t.drop,d.classPrefix+"-after-open")}),void 0!==this.tether&&this.tether.position(),this.trigger("open"),d.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(e){e.target===e.currentTarget&&(c(this.drop,d.classPrefix+"-open")||l(this.drop,d.classPrefix+"-open-transitionend"),this.drop.removeEventListener(m,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(e){var t=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,t=!1!==this.options.beforeClose(e,this)),this.isClosing=!1,t}},{key:"close",value:function(e){this.isOpened()&&this.beforeCloseHandler(e)&&(l(this.drop,d.classPrefix+"-open"),l(this.drop,d.classPrefix+"-after-open"),this.drop.addEventListener(m,this.transitionEndHandler),this.trigger("close"),void 0!==this.tether&&this.tether.disable(),d.updateBodyClasses(),this.options.remove&&this.remove(e))}},{key:"remove",value:function(e){this.close(e),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&void 0!==this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),void 0!==this.tether&&this.tether.destroy();for(var e=0;e<this._boundEvents.length;++e){var t=this._boundEvents[e],n=t.element,o=t.event,r=t.handler;n.removeEventListener(o,r)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,h(b[d.classPrefix],this),h(d.drops,this)}}]),n}(u);return d}();return document.addEventListener("DOMContentLoaded",function(){_.updateBodyClasses()}),_})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;/*! tether 1.4.4 */r=[],void 0===(i="function"==typeof(o=function(){"use strict";var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=void 0;void 0===n&&(n={modules:[]});var o=null;function r(e){var t=e.getBoundingClientRect(),n={};for(var o in t)n[o]=t[o];if(e.ownerDocument!==document){var i=e.ownerDocument.defaultView.frameElement;if(i){var s=r(i);n.top+=s.top,n.bottom+=s.top,n.left+=s.left,n.right+=s.left}}return n}function i(e){var t=getComputedStyle(e)||{},n=t.position,o=[];if("fixed"===n)return[e];for(var r=e;(r=r.parentNode)&&r&&1===r.nodeType;){var i=void 0;try{i=getComputedStyle(r)}catch(e){}if(void 0===i||null===i)return o.push(r),o;var s=i,a=s.overflow,l=s.overflowX,c=s.overflowY;/(auto|scroll|overlay)/.test(a+c+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(i.position)>=0)&&o.push(r)}return o.push(e.ownerDocument.body),e.ownerDocument!==document&&o.push(e.ownerDocument.defaultView),o}var s=function(){var e=0;return function(){return++e}}(),a={},l=function(){var e=o;e&&document.body.contains(e)||((e=document.createElement("div")).setAttribute("data-tether-id",s()),d(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),o=e);var t=e.getAttribute("data-tether-id");return void 0===a[t]&&(a[t]=r(e),F(function(){delete a[t]})),a[t]};function c(){o&&document.body.removeChild(o),o=null}function u(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,o=r(e),i=l();return o.top-=i.top,o.left-=i.left,void 0===o.width&&(o.width=document.body.scrollWidth-o.left-o.right),void 0===o.height&&(o.height=document.body.scrollHeight-o.top-o.bottom),o.top=o.top-n.clientTop,o.left=o.left-n.clientLeft,o.right=t.body.clientWidth-o.width-o.left,o.bottom=t.body.clientHeight-o.height-o.top,o}function f(e){return e.offsetParent||document.documentElement}var h=null;function p(){if(h)return h;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");d(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;n===o&&(o=t.clientWidth),document.body.removeChild(t);var r=n-o;return h={width:r,height:r}}function d(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function m(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),o=y(e).replace(n," ");b(e,o)}}function g(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{m(e,t);var n=y(e)+" "+t;b(e,n)}}function v(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=y(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function y(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function b(e,t){e.setAttribute("class",t)}function _(e,t,n){n.forEach(function(n){-1===t.indexOf(n)&&v(e,n)&&m(e,n)}),t.forEach(function(t){v(e,t)||g(e,t)})}var w=[],F=function(e){w.push(e)},x=function(){for(var e=void 0;e=w.pop();)e()},k=function(){function n(){t(this,n)}return e(n,[{key:"on",value:function(e,t,n){var o=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:o})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if(void 0!==this.bindings&&void 0!==this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if(void 0!==this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];for(;t<this.bindings[e].length;){var i=this.bindings[e][t],s=i.handler,a=i.ctx,l=i.once,c=a;void 0===c&&(c=this),s.apply(c,o),l?this.bindings[e].splice(t,1):++t}}}}]),n}();n.Utils={getActualBoundingClientRect:r,getScrollParents:i,getBounds:u,getOffsetParent:f,extend:d,addClass:g,removeClass:m,hasClass:v,updateClasses:_,defer:F,flush:x,uniqueId:s,Evented:k,getScrollBarSize:p,removeUtilElements:c};var A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),C=function(e,t,n){for(var o=!0;o;){var r=e,i=t,s=n;o=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,n=s,o=!0,a=c=void 0}};function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}if(void 0===n)throw new Error("You must include the utils.js file before tether.js");var i=(W=n.Utils).getScrollParents,u=W.getBounds,f=W.getOffsetParent,d=W.extend,g=W.addClass,m=W.removeClass,_=W.updateClasses,F=W.defer,x=W.flush,p=W.getScrollBarSize,c=W.removeUtilElements;function E(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}var T=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var o=t[n];if(void 0!==e.style[o])return o}}(),D=[],O=function(){D.forEach(function(e){e.position(!1)}),x()};function S(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}!function(){var e=null,t=null,n=null,o=function o(){if(void 0!==t&&t>16)return t=Math.min(t-16,250),void(n=setTimeout(o,250));void 0!==e&&S()-e<10||(null!=n&&(clearTimeout(n),n=null),e=S(),O(),t=S()-e)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,o)})}();var P={center:"center",left:"right",right:"left"},j={middle:"middle",top:"bottom",bottom:"top"},R={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},L=function(e){var t=e.left,n=e.top;return void 0!==R[e.left]&&(t=R[e.left]),void 0!==R[e.top]&&(n=R[e.top]),{left:t,top:n}};function M(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){var n=t.top,o=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof o&&(o=parseFloat(o,10)),e.top+=n,e.left+=o}),e}function I(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}var B=function(e){var t=e.split(" "),n=A(t,2),o=n[0],r=n[1];return{top:o,left:r}},N=B,H=function(o){function r(e){var o=this;t(this,r),C(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.position=this.position.bind(this),D.push(this),this.history=[],this.setOptions(e,!1),n.modules.forEach(function(e){void 0!==e.initialize&&e.initialize.call(o)}),this.position()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o),e(r,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return void 0!==t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=d({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},e);var o=this.options,r=o.element,s=o.target,a=o.targetModifier;if(this.element=r,this.target=s,this.targetModifier=a,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if(void 0===t[e])throw new Error("Tether Error: Both element and target must be defined");void 0!==t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),g(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&g(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=N(this.options.targetAttachment),this.attachment=N(this.options.attachment),this.offset=B(this.options.offset),this.targetOffset=B(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=i(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return u(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=u(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=u(n);var o=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[o.overflow,o.overflowX].indexOf("scroll")>=0||this.target!==document.body,i=0;r&&(i=15);var s=e.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-i,t={width:15,height:.975*s*(s/n.scrollHeight),left:e.left+e.width-parseFloat(o.borderLeftWidth)-15},a=0;s<408&&this.target===document.body&&(a=-11e-5*Math.pow(s,2)-.00727*s+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var l=this.target.scrollTop/(n.scrollHeight-s);return t.top=l*(s-t.height-a)+e.top+parseFloat(o.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return void 0===this._cache&&(this._cache={}),void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&g(this.target,this.getClass("enabled")),g(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;m(this.target,this.getClass("enabled")),m(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),D.forEach(function(t,n){t===e&&D.splice(n,1)}),0===D.length&&c()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment,void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var o=this._addAttachClasses;e.top&&o.push(this.getClass("element-attached")+"-"+e.top),e.left&&o.push(this.getClass("element-attached")+"-"+e.left),t.top&&o.push(this.getClass("target-attached")+"-"+t.top),t.left&&o.push(this.getClass("target-attached")+"-"+t.left);var r=[];["left","top","bottom","right","middle","center"].forEach(function(e){r.push(n.getClass("element-attached")+"-"+e),r.push(n.getClass("target-attached")+"-"+e)}),F(function(){void 0!==n._addAttachClasses&&(_(n.element,n._addAttachClasses,r),!1!==n.options.addTargetClasses&&_(n.target,n._addAttachClasses,r),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var o=function(e,t){var n=e.left,o=e.top;return"auto"===n&&(n=P[t.left]),"auto"===o&&(o=j[t.top]),{left:n,top:o}}(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,o);var r=this.cache("element-bounds",function(){return u(e.element)}),i=r.width,s=r.height;if(0===i&&0===s&&void 0!==this.lastSize){var a=this.lastSize;i=a.width,s=a.height}else this.lastSize={width:i,height:s};var l=this.cache("target-bounds",function(){return e.getTargetBounds()}),c=l,h=I(L(this.attachment),{width:i,height:s}),d=I(L(o),c),m=I(this.offset,{width:i,height:s}),g=I(this.targetOffset,c);h=M(h,m),d=M(d,g);for(var v=l.left+d.left-h.left,y=l.top+d.top-h.top,b=0;b<n.modules.length;++b){var _=n.modules[b],w=_.position.call(this,{left:v,top:y,targetAttachment:o,targetPos:l,elementPos:r,offset:h,targetOffset:d,manualOffset:m,manualTargetOffset:g,scrollbarSize:C,attachment:this.attachment});if(!1===w)return!1;void 0!==w&&"object"==typeof w&&(y=w.top,v=w.left)}var F={page:{top:y,left:v},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-s+innerHeight,left:v-pageXOffset,right:pageXOffset-v-i+innerWidth}},k=this.target.ownerDocument,A=k.defaultView,C=void 0;return A.innerHeight>k.documentElement.clientHeight&&(C=this.cache("scrollbar-size",p),F.viewport.bottom-=C.height),A.innerWidth>k.documentElement.clientWidth&&(C=this.cache("scrollbar-size",p),F.viewport.right-=C.width),-1!==["","static"].indexOf(k.body.style.position)&&-1!==["","static"].indexOf(k.body.parentElement.style.position)||(F.page.bottom=k.body.scrollHeight-y-s,F.page.right=k.body.scrollWidth-v-i),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var t=e.cache("target-offsetparent",function(){return f(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return u(t)}),o=getComputedStyle(t),r=n,i={};if(["Top","Left","Bottom","Right"].forEach(function(e){i[e.toLowerCase()]=parseFloat(o["border"+e+"Width"])}),n.right=k.body.scrollWidth-n.left-r.width+i.right,n.bottom=k.body.scrollHeight-n.top-r.height+i.bottom,F.page.top>=n.top+i.top&&F.page.bottom>=n.bottom&&F.page.left>=n.left+i.left&&F.page.right>=n.right){var s=t.scrollTop,a=t.scrollLeft;F.offset={top:F.page.top-n.top+s-i.top,left:F.page.left-n.left+a-i.left}}}(),this.move(F),this.history.unshift(F),this.history.length>3&&this.history.pop(),t&&x(),!0}}},{key:"move",value:function(e){var t=this;if(void 0!==this.element.parentNode){var n={};for(var o in e)for(var r in n[o]={},e[o]){for(var i=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[o]&&!E(a[o][r],e[o][r])){i=!0;break}}i||(n[o][r]=!0)}var l={top:"",left:"",right:"",bottom:""},c=function(e,n){var o=void 0!==t.options.optimizations,r=o?t.options.optimizations.gpu:null;if(!1!==r){var i=void 0,s=void 0;if(e.top?(l.top=0,i=n.top):(l.bottom=0,i=-n.bottom),e.left?(l.left=0,s=n.left):(l.right=0,s=-n.right),window.matchMedia){var a=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;a||(s=Math.round(s),i=Math.round(i))}l[T]="translateX("+s+"px) translateY("+i+"px)","msTransform"!==T&&(l[T]+=" translateZ(0)")}else e.top?l.top=n.top+"px":l.bottom=n.bottom+"px",e.left?l.left=n.left+"px":l.right=n.right+"px"},u=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(l.position="absolute",c(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(l.position="fixed",c(n.viewport,e.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){l.position="absolute";var o=t.cache("target-offsetparent",function(){return f(t.target)});f(t.element)!==o&&F(function(){t.element.parentNode.removeChild(t.element),o.appendChild(t.element)}),c(n.offset,e.offset),u=!0}():(l.position="absolute",c({top:!0,left:!0},e.page)),!u)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var h=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){h=!1;break}p=p.parentNode}h||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},g=!1;for(var r in l){var v=l[r],y=this.element.style[r];y!==v&&(g=!0,m[r]=v)}g&&F(function(){d(t.element.style,m),t.trigger("repositioned")})}}}]),r}(k);H.modules=[],n.position=O;var z=d(H,n),A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=(W=n.Utils).getBounds,d=W.extend,_=W.updateClasses,F=W.defer,q=["left","top","right","bottom"];n.modules.push({position:function(e){var t=this,n=e.top,o=e.left,r=e.targetAttachment;if(!this.options.constraints)return!0;var i=this.cache("element-bounds",function(){return u(t.element)}),s=i.height,a=i.width;if(0===a&&0===s&&void 0!==this.lastSize){var l=this.lastSize;a=l.width,s=l.height}var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),f=c.height,h=c.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&p.push(t),n&&p.push(n)}),p.forEach(function(e){["left","top","right","bottom"].forEach(function(t){p.push(e+"-"+t)})});var m=[],g=d({},r),v=d({},this.attachment);return this.options.constraints.forEach(function(e){var i=e.to,l=e.attachment,c=e.pin;void 0===l&&(l="");var p=void 0,d=void 0;if(l.indexOf(" ")>=0){var y=l.split(" "),b=A(y,2);d=b[0],p=b[1]}else p=d=l;var _=function(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),void 0!==t.nodeType&&function(){var e=t,n=u(t),o=n,r=getComputedStyle(t);if(t=[o.left,o.top,n.width+o.left,n.height+o.top],e.ownerDocument!==document){var i=e.ownerDocument.defaultView;t[0]+=i.pageXOffset,t[1]+=i.pageYOffset,t[2]+=i.pageXOffset,t[3]+=i.pageYOffset}q.forEach(function(e,n){"Top"===(e=e[0].toUpperCase()+e.substr(1))||"Left"===e?t[n]+=parseFloat(r["border"+e+"Width"]):t[n]-=parseFloat(r["border"+e+"Width"])})}(),t}(t,i);"target"!==d&&"both"!==d||(n<_[1]&&"top"===g.top&&(n+=f,g.top="bottom"),n+s>_[3]&&"bottom"===g.top&&(n-=f,g.top="top")),"together"===d&&("top"===g.top&&("bottom"===v.top&&n<_[1]?(n+=f,g.top="bottom",n+=s,v.top="top"):"top"===v.top&&n+s>_[3]&&n-(s-f)>=_[1]&&(n-=s-f,g.top="bottom",v.top="bottom")),"bottom"===g.top&&("top"===v.top&&n+s>_[3]?(n-=f,g.top="top",n-=s,v.top="bottom"):"bottom"===v.top&&n<_[1]&&n+(2*s-f)<=_[3]&&(n+=s-f,g.top="top",v.top="top")),"middle"===g.top&&(n+s>_[3]&&"top"===v.top?(n-=s,v.top="bottom"):n<_[1]&&"bottom"===v.top&&(n+=s,v.top="top"))),"target"!==p&&"both"!==p||(o<_[0]&&"left"===g.left&&(o+=h,g.left="right"),o+a>_[2]&&"right"===g.left&&(o-=h,g.left="left")),"together"===p&&(o<_[0]&&"left"===g.left?"right"===v.left?(o+=h,g.left="right",o+=a,v.left="left"):"left"===v.left&&(o+=h,g.left="right",o-=a,v.left="right"):o+a>_[2]&&"right"===g.left?"left"===v.left?(o-=h,g.left="left",o-=a,v.left="right"):"right"===v.left&&(o-=h,g.left="left",o+=a,v.left="left"):"center"===g.left&&(o+a>_[2]&&"left"===v.left?(o-=a,v.left="right"):o<_[0]&&"right"===v.left&&(o+=a,v.left="left"))),"element"!==d&&"both"!==d||(n<_[1]&&"bottom"===v.top&&(n+=s,v.top="top"),n+s>_[3]&&"top"===v.top&&(n-=s,v.top="bottom")),"element"!==p&&"both"!==p||(o<_[0]&&("right"===v.left?(o+=a,v.left="left"):"center"===v.left&&(o+=a/2,v.left="left")),o+a>_[2]&&("left"===v.left?(o-=a,v.left="right"):"center"===v.left&&(o-=a/2,v.left="right"))),"string"==typeof c?c=c.split(",").map(function(e){return e.trim()}):!0===c&&(c=["top","left","right","bottom"]),c=c||[];var w=[],F=[];n<_[1]&&(c.indexOf("top")>=0?(n=_[1],w.push("top")):F.push("top")),n+s>_[3]&&(c.indexOf("bottom")>=0?(n=_[3]-s,w.push("bottom")):F.push("bottom")),o<_[0]&&(c.indexOf("left")>=0?(o=_[0],w.push("left")):F.push("left")),o+a>_[2]&&(c.indexOf("right")>=0?(o=_[2]-a,w.push("right")):F.push("right")),w.length&&function(){var e=void 0;e=void 0!==t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),m.push(e),w.forEach(function(t){m.push(e+"-"+t)})}(),F.length&&function(){var e=void 0;e=void 0!==t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),m.push(e),F.forEach(function(t){m.push(e+"-"+t)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(v.left=g.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(v.top=g.top=!1),g.top===r.top&&g.left===r.left&&v.top===t.attachment.top&&v.left===t.attachment.left||(t.updateAttachClasses(v,g),t.trigger("update",{attachment:v,targetAttachment:g}))}),F(function(){!1!==t.options.addTargetClasses&&_(t.target,m,p),_(t.element,m,p)}),{top:n,left:o}}});var W,u=(W=n.Utils).getBounds,_=W.updateClasses,F=W.defer;n.modules.push({position:function(e){var t=this,n=e.top,o=e.left,r=this.cache("element-bounds",function(){return u(t.element)}),i=r.height,s=r.width,a=this.getTargetBounds(),l=n+i,c=o+s,f=[];n<=a.bottom&&l>=a.top&&["left","right"].forEach(function(e){var t=a[e];t!==o&&t!==c||f.push(e)}),o<=a.right&&c>=a.left&&["top","bottom"].forEach(function(e){var t=a[e];t!==n&&t!==l||f.push(e)});var h=[],p=[];return h.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(e){h.push(t.getClass("abutted")+"-"+e)}),f.length&&p.push(this.getClass("abutted")),f.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),F(function(){!1!==t.options.addTargetClasses&&_(t.target,p,h),_(t.element,p,h)}),!0}});var A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};return n.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var o=this.options.shift;"function"==typeof this.options.shift&&(o=this.options.shift.call(this,{top:t,left:n}));var r=void 0,i=void 0;if("string"==typeof o){(o=o.split(" "))[1]=o[1]||o[0];var s=A(o,2);r=s[0],i=s[1],r=parseFloat(r,10),i=parseFloat(i,10)}else r=o.top,i=o.left;return{top:t+=r,left:n+=i}}}}),z})?o.apply(t,r):o)||(e.exports=i)},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};u.prototype.append=function(e,t){e=a(e),t=l(t);var n=this.map[e];this.map[e]=n?n+","+t:t},u.prototype.delete=function(e){delete this.map[a(e)]},u.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},u.prototype.set=function(e,t){this.map[a(e)]=l(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var s=[301,302,303,307,308];y.redirect=function(e,t){if(-1===s.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=u,e.Request=g,e.Response=y,e.fetch=function(e,n){return new Promise(function(o,r){var i=new g(e,n),s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:function(e){var t=new u;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}}),t}(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;o(new y(t,e))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&t.blob&&(s.responseType="blob"),i.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&o(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var n=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=function(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){var o;
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
!function(n){"use strict";var r=function(e){var t=[],n=/\[\]$/,o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=function(e,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},i=function(e,s){var a,l,c;if(e)if(o(s))for(a=0,l=s.length;a<l;a++)n.test(e)?r(e,s[a]):i(e+"["+("object"==typeof s[a]?a:"")+"]",s[a]);else if(s&&"[object Object]"===String(s))for(c in s)i(e+"["+c+"]",s[c]);else r(e,s);else if(o(s))for(a=0,l=s.length;a<l;a++)r(s[a].name,s[a].value);else for(c in s)i(c,s[c]);return t};return i("",e).join("&").replace(/%20/g,"+")};"object"==typeof e&&"object"==typeof e.exports?e.exports=r:void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}]);