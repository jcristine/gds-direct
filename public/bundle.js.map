{"version":3,"sources":["webpack:///webpack/bootstrap 057bf8674b1415a369b8","webpack:///./src/helpers/dom.es6","webpack:///./src/modules/buttonPopover.es6","webpack:///./src/helpers/helpers.es6","webpack:///./src/modules/component.es6","webpack:///./src/constants.es6","webpack:///./src/helpers/cookie.es6","webpack:///./src/helpers/requests.es6","webpack:///./src/modules/gds.es6","webpack:///./src/modules/terminal.es6","webpack:///./~/noty/lib/noty.js","webpack:///(webpack)/buildin/global.js","webpack:///external \"jQuery\"","webpack:///./src/app.es6","webpack:///./src/theme/main.less","webpack:///./src/components/actionsMenu.es6","webpack:///./src/components/containerMain.es6","webpack:///./src/components/menu/devButtons.es6","webpack:///./src/components/menu/pqButton.es6","webpack:///./src/components/menu/sessionButtons.es6","webpack:///./src/components/menuPanel.es6","webpack:///./src/components/popovers/history.es6","webpack:///./src/components/popovers/settings.es6","webpack:///./src/components/popovers/terminalMatrix.es6","webpack:///./src/components/popovers/textSize.es6","webpack:///./src/components/popovers/theme.es6","webpack:///./src/components/terminalMatrix.es6","webpack:///./src/helpers/keyBinding.es6","webpack:///./src/middleware/plugin.es6","webpack:///./src/modules/f8.es6","webpack:///./src/modules/fullscreen.es6","webpack:///./src/modules/history.es6","webpack:///./src/modules/output.es6","webpack:///./src/modules/pagination.es6","webpack:///./src/modules/session.es6","webpack:///./src/modules/spinner.es6","webpack:///./src/modules/switchTerminal.es6","webpack:///./src/modules/tabManager.es6","webpack:///./~/cli-spinners/index.js","webpack:///./~/cli-spinners/spinners.json","webpack:///./~/jquery.terminal/js/jquery.terminal.js","webpack:///./~/jquery.terminal/js/unix_formatting.js","webpack:///./~/keyboardevent-key-polyfill/index.js","webpack:///./~/process/browser.js","webpack:///./~/setimmediate/setImmediate.js","webpack:///./~/tether-drop/dist/js/drop.js","webpack:///./~/tether/dist/js/tether.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/whatwg-fetch/fetch.js"],"names":["Dom","str","innerHTML","matches","match","replace","split","node","className","element","document","createElement","CLASS_NAME","ButtonPopOver","params","settings","popContent","trigger","onclick","makePopover","bind","icon","popover","target","getTrigger","content","getPopContent","classes","position","openOn","onOpen","on","open","build","console","warn","getReplacement","makePages","splitIntoLinesArr","currDate","common","sabreLayout","Object","assign","apolloLayout","_to_ascii","evt","isApollo","char","String","fromCharCode","keyCode","which","chunkIntoPages","linesArr","rowsPerScreen","map","line","lineIndex","slice","filter","data","length","txt","maxCharLimit","chunkByCharLimit","sectionLines","join","lines","splitLines","regex","RegExp","forEach","lineArr","concat","mergeIntoNew","current","extendWith","d","Date","date","getDate","months","getMonth","Component","selector","context","observers","component","push","appendChild","getContext","props","_renderer","render","END_POINT_URL","TIME_FORMAT","ACCOUNT","API_HOST","KEEP_ALIVE_REFRESH","AREA_LIST","GDS_LIST","cookieGet","cookieSet","name","value","cookie","parts","pop","shift","xdays","setTime","getTime","expires","toUTCString","Url","Debug","notify","text","layout","timeout","type","show","showUserMessages","userMessages","response","msg","theme","Ask","url","substr","fetch","wwwFullDir","then","json","catch","err","error","get","defParams","window","apiData","rId","credentials","runSyncCommand","formData","FormData","append","JSON","stringify","body","method","setLink","saved","localStorage","getItem","defaults","sessionIndex","pcc","matrix","parse","rows","cells","activeTerminal","canCreatePq","history","getGdsData","indexOf","GdsSet","list","loadedGds","gdsList","res","gds","defaultsEvents","require","Terminal","plugin","makeBuffer","buffer","init","clear","numOfRows","numOfChars","buf","buffered","output","record","$","terminal","format","command","bufferDiv","echo","finalize","div","lineHeight","Math","floor","parentContext","clientHeight","parentNode","dimensions","style","height","width","clientWidth","calculateNumOfRows","resize","emptyLinesRecalculate","scrollTop","scrollHeight","cmd","set","removeChild","Container","Gds","getList","permissions","openPqModal","requestId","TerminalState","curGds","change","state","language","fontSize","hideMenu","gdsObj","canCreatePqErrors","onClose","action","activePlugin","purge","key","isGdsApollo","getGds","purgeScreens","index","getTerminal","focus","click","commands","term","getActiveTerminal","exec","log","getLanguage","getSessionAreaMap","execCmd","setItem","showPqModal","location","hash","resizeTimeout","onresize","clearInterval","setTimeout","ActionsMenu","RightSide","observe","classList","toggle","Wrapper","leftSide","rightSide","addToObserve","rootId","getElementById","cellMatrix","containerWidth","STORAGE_KEY","CommandsBuffer","area","makeTrigger","btn","cols","trim","close","DevButtons","AddPqMacros","commandsBuffer","fullScreen","macros","button","PqButton","makeButton","disabled","SessionKeys","collection","active","getPcc","isActive","addEventListener","onAreaChange","onGdsChange","getButtons","agentId","auth","id","oldThemeClass","SettingsButtons","children","onSelect","terminalContext","newThemeClass","remove","add","textSize","askServer","getHistory","onHistorySelect","GdsAreas","areas","getAreas","areasPerGds","LanguageButtons","PriceQuote","TestsButtons","MenuPanel","attach","hasPermissions","History","cb","el","li","makeLi","makeBody","makeLaunchBtn","Settings","cellObj","ACTIVE_CLASS","Matrix","_rows","_cells","_toTable","row","rIndex","_cell","cIndex","cell","i","call","querySelectorAll","TextSize","Theme","themeList","label","gdsSession","DimensionCalculator","rowCount","cellCount","getLineHeight","cursor","getCursor","getBoundingClientRect","tempCmd","querySelector","TerminalsMatrix","sizer","makeRow","makeCells","Array","apply","getSizes","calculate","wrapWidth","needToRender","renderIsNeeded","reattach","KeyBinding","keymap","ctrlKey","metaKey","preventDefault","clearTerminal","previous","next","insert","shiftKey","altKey","cmdA","lastCommand","toLowerCase","login","toUpperCase","jQuery","polyfill","TerminalPlugin","allowManualPaging","session","terminalIndex","pagination","spinner","outputLiner","setNumRows","tabCommands","f8Reader","getIsActive","execCommand","replaceChar","replacement","isLanguageApollo","replaceCommand","substring","lastPromptSignPos","lastIndexOf","jumpToNextPos","run","updateOutput","prev","update","sizes","numChars","numRows","charHeight","setNumChars","setCharHeight","recalculate","commandParser","echoCommand","greetings","prompt","memory","keypress","e","keydown","parseKeyBinds","clickTimeout","onInit","changeActiveTerm","onTerminalChange","onBeforeCommand","checkBeforeEnter","tabPressed","tie","exceptionHandler","print","printAll","checkSabreCommand","start","finish","end","parseBackEnd","before","prepare","pushCommand","perform","result","bindOutput","clearScreen","getMatrix","reset","lastPcc","debugOutput","rules","apollo","pos","sabre","amadeus","F8Reader","currentCmd","subStr","get_command","getNextTabPos","curPos","charToReplace","delete","set_command","before_cursor","FullScreen","body2","getAreaIndex","emptyLines","alert","themeClass","Modal","make","dialog_class","body_class","noCloseBtn","header","modal","detach","promises","getData","Promise","resolve","checkIfListUpdated","Output","outputStrings","cmdLineOffset","after","noClearScreen","getOutputLength","isClearScreen","countEmpty","printOutput","attachEmpty","scroll","chars","offsetTop","scroll_to_bottom","Pagination","cache","page","commandStack","finishStack","beforeStack","promise","Session","rData","parseInt","terminalData","termRun","cliSpinners","Spinner","timer","simpleDots","interval","frameCounter","frames","set_prompt","find","hide","set_mask","get_prompt","setInterval","terminalKeydown","gridMaps","encode","decode","switchTerminal","currentTerminalName","gridCount","mapName","getId","isNext","nextId","switchTerminals","TabManager","getCommand","undefined","formatOutput"],"mappings":"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B4J,MAApF;;AAED;;AAEA,QAAKtH,OAAL,CAAa4H,SAAb,GAAyB,KAAK5H,OAAL,CAAa6H,YAAtC;AACA;;;0BAGD;AACC,OAAI,KAAKlC,MAAT,EACA;AACC,SAAKA,MAAL,CAAYY,QAAZ,CAAqBR,KAArB;AACA,SAAKJ,MAAL,CAAYY,QAAZ,CAAqBuB,GAArB,GAA2BC,GAA3B,CAA+B,EAA/B;AACA;;AAED,OAAI,KAAKrB,SAAT,EACA;AACC,SAAK1G,OAAL,CAAagI,WAAb,CAAyB,KAAKtB,SAA9B;AACA,SAAKA,SAAL,GAAiB,KAAjB;AACA;;AAED,QAAKb,MAAL,GAAc,EAAd;AACA;;;;;;kBA5HmBH,Q;;;;;;ACPrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,cAAc;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;AACD;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc;AACd;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yEAAyE,gEAAgE;AACzI;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,OAAO;AACP;AACA;;AAEA,uDAAuD,YAAY;AACnE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,qBAAqB;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iFAAiF;;AAEjF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,sBAAsB;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,UAAU,IAAI;AACd;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,uCAAuC;AACxD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA,UAAU,MAAM;AAChB,UAAU,OAAO;AACjB;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA,UAAU,IAAI;AACd;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA,UAAU,SAAS;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA,YAAY,SAAS;AACrB,YAAY,SAAS;AACrB;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,YAAY,SAAS;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;;AAEA,4BAA4B;;AAE5B,OAAO;AACP;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE,GAAG;;AAEpjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;;AAEA;;AAEA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,cAAc;AACd;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,YAAY;AAC3B,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA,KAAK;;AAEL;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;;AAEA;;AAEA;AACA,eAAe,eAAe;AAC9B,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA,wCAAwC;AACxC;AACA;;AAEA;AACA,eAAe,IAAI;AACnB,eAAe,OAAO;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA;;AAEA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;;;AAGA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;AAGtC,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,OAAO;AACP;AACA,CAAC;AACD,gC;;;;;;AC9+FA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AAC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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;4DC/zBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,+BAA+B;AAC/B;AACA,+BAA+B,qBAAqB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD;AACpD,6DAA6D;AAC7D,sDAAsD;AACtD,iGAAiG;AACjG,mGAAmG;AACnG,oDAAoD;AACpD,yGAAyG;AACzG,8CAA8C;AAC9C,qDAAqD;AACrD,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,EAAE;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,gBAAgB,gCAAgC;AAC7E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,kDAAkD;AAClD;AACA,SAAS;AACT;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wCAAwC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,0BAA0B;AACzE;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,wCAAwC,SAAS,QAAQ,UAAU,WAAW;AAC9E,sCAAsC,aAAa,oBAAoB;AACvE,qDAAqD,SAAS,QAAQ,gBAAgB;AACtF;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,yCAAyC,KAAK;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,2CAA2C,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,GAAG;AACtC;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,OAAO;AAC1D;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,6BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,2CAA2C,kBAAkB;AAC7D;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,uCAAuC;AACvC;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA,0BAA0B;AAC1B;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,2CAA2C,GAAG,GAAG;AACjD,4CAA4C,IAAI,IAAI,IAAI,MAAM,KAAK,MAAM;AACzE,qCAAqC,GAAG,KAAK,GAAG,QAAQ,WAAW;AACnE,2CAA2C,GAAG,KAAK,GAAG,QAAQ,WAAW;AACzE,2CAA2C,GAAG,KAAK,GAAG,QAAQ,WAAW;AACzE,oCAAoC,EAAE,UAAU,EAAE;AAClD,6CAA6C,GAAG,UAAU;AAC1D,gDAAgD,GAAG,UAAU;AAC7D,uCAAuC,wBAAwB,6BAA6B,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,iCAAiC,GAAG;AACxK;AACA,2CAA2C,GAAG,GAAG;AACjD,4CAA4C,GAAG,GAAG;AAClD,wCAAwC,GAAG,GAAG;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA,4DAA4D,GAAG;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,8CAA8C;AAC9C,wDAAwD;AACxD,mDAAmD;AACnD,4CAA4C;AAC5C,iBAAiB;AACjB,oCAAoC;AACpC,iBAAiB;AACjB,mCAAmC;AACnC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,mCAAmC;AACnC;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4CAA4C,WAAW,WAAW;AAClE,SAAS;AACT;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF,sCAAsC;AACtC,uCAAuC,MAAM,MAAM,MAAM;AACzD,SAAS;AACT;AACA;AACA,kBAAkB,cAAc,KAAK;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,mCAAmC,uBAAuB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,aAAa,eAAe;AAC5B;AACA,iDAAiD,YAAY,KAAK;AAClE;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qCAAqC;AACrC;AACA;AACA,uDAAuD;AACvD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA,gEAAgE;AAChE;AACA;AACA,kEAAkE;AAClE;AACA,oFAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,8DAA8D;AAC9D;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,+CAA+C,wBAAwB;AACvE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,+CAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,EAAE;AACtD;AACA;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,gCAAgC;AAChC;AACA;AACA,wBAAwB;AACxB;AACA,4BAA4B;AAC5B;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM;AACzC;AACA;AACA;AACA;AACA,uCAAuC,KAAK;AAC5C;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,6CAA6C,SAAS;AACtD;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,yCAAyC,UAAU;AACnD;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,aAAa;AACb,iCAAiC,SAAS;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,UAAU;AAC3D;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,yDAAyD,SAAS;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,iDAAiD,KAAK;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,oDAAoD,KAAK;AACzD;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,yBAAyB;AACzB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,SAAS;AACxD;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD,iBAAiB;AACjB,qDAAqD;AACrD;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oBAAoB;AAC/D,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,+BAA+B;AAC/B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qBAAqB;AAC5D,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,+BAA+B,qCAAqC;AACpE,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,KAAK;AAC1D;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,oBAAoB;AACjE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,yBAAyB;AACzB,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,sBAAsB;AACtB,qBAAqB;AACrB,oBAAoB;AACpB,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,kCAAkC;AAClC,kCAAkC;AAClC;AACA,iCAAiC,oBAAoB;AACrD,6CAA6C;AAC7C;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,2BAA2B,aAAa;AACxC;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA,4DAA4D,OAAO;AACnE;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iDAAiD,KAAK;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qBAAqB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,4CAA4C,aAAa;AACzD;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,+CAA+C,KAAK;AACpD;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,eAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qCAAqC,YAAY,8BAA8B;AAC/E;AACA;AACA,yCAAyC;AACzC,6CAA6C;AAC7C,uCAAuC;AACvC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qCAAqC;AACrC,qDAAqD;AACrD,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;AACA,oDAAoD;AACpD;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,0DAA0D,SAAS;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD;AACA;AACA;AACA;AACA,0EAA0E,UAAU;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,+BAA+B;AACvE,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,qBAAqB;AACrB;AACA;AACA;AACA,sCAAsC,kBAAkB;AACxD,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB,8DAA8D,gBAAgB;AAC9E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,iCAAiC;AACjC;AACA,6BAA6B;AAC7B;AACA;AACA,iCAAiC;AACjC;AACA,yBAAyB;AACzB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,6BAA6B,IAAI;AACjC,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,mCAAmC;AACnC;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,oCAAoC;AACpC,iBAAiB;AACjB,yCAAyC;AACzC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS,EAAE;AACX;AACA;AACA,MAAM;AACN,CAAC;;;;;;;;AC9hND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,SAAS;AACT,wBAAwB,KAAK;AAC7B;AACA;AACA,gDAAgD;AAChD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD,iDAAiD;AACjD,eAAe,EAAE;AACjB,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,KAAK;AACL;AACA;AACA,CAAC;;;;;;;AC9TD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;;AAEA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA,CAAC;;;;;;;ACxHD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;ACzLD;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA,mCAAmC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAEtpB,iCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,wCAAwC,mBAAmB,4BAA4B,kDAAkD,gBAAgB,kDAAkD,8DAA8D,0BAA0B,4CAA4C,uBAAuB,kBAAkB,EAAE,OAAO,cAAc,gBAAgB,gBAAgB,eAAe,2BAA2B,oBAAoB,EAAE,EAAE,4BAA4B,mBAAmB,EAAE,OAAO,uBAAuB,4BAA4B,kBAAkB,EAAE,8BAA8B,EAAE,EAAE;;AAElpB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,wEAAwE;;AAExE;AACA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;AAC9B;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,0BAA0B;;AAE/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,mDAAmD;AACnF;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yBAAyB,wBAAwB;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,8BAA8B;AACrD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA,CAAC;;;;;;;AC/iBD;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;AAEA,iCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA,gBAAgB;AAChB;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,oBAAoB;AACpB;AACA;;AAEA;AACA,oEAAoE;;AAEpE;;AAEA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yCAAyC;AAC1E;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,0FAA0F,aAAa;AACvG;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mCAAmC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAEtpB,iCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEljB,wCAAwC,mBAAmB,4BAA4B,kDAAkD,gBAAgB,kDAAkD,8DAA8D,0BAA0B,4CAA4C,uBAAuB,kBAAkB,EAAE,OAAO,cAAc,gBAAgB,gBAAgB,eAAe,2BAA2B,oBAAoB,EAAE,EAAE,4BAA4B,mBAAmB,EAAE,OAAO,uBAAuB,4BAA4B,kBAAkB,EAAE,8BAA8B,EAAE,EAAE;;AAElpB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,UAAU;AACV;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,UAAU;AACV;;AAEA;AACA,aAAa;;AAEb,oEAAoE,aAAa;AACjF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,yBAAyB;AACzB;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA,oEAAoE,+BAA+B;AACnG;;AAEA,kDAAkD,+BAA+B;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,+BAA+B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,yBAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;;AAEA;;AAEA;AACA;;AAEA;;AAEA,mCAAmC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAEtpB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;;AAEA,+BAA+B;AAC/B,+BAA+B;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,YAAY;AACZ;AACA,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,CAAC;AACD;;AAEA;;AAEA,mCAAmC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAEtpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C,uBAAuB;AACpE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,YAAY;AACZ;AACA,CAAC;AACD;;AAEA,CAAC;;;;;;;AClxDD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;;AAEA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;;AAEA;AACA;AACA,wCAAwC,4BAA4B;AACpE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,SAAS;AACT;AACA,SAAS;AACT,8EAA8E;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,uBAAuB;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,0BAA0B,eAAe;AACxE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;AACA;AACA,CAAC","file":"./public/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 48);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 057bf8674b1415a369b8","'use strict';\n\nexport default function Dom( str ) {\n\n\tlet innerHTML;\n\n\tconst matches = str.match(/\\[(.*?)\\]/);\n\n\tif (matches)\n\t{\n\t\tinnerHTML = matches[1];\n\t\tstr = str.replace(`[${innerHTML}]`, '');\n\t}\n\n\tconst [node, className] = str.split('.');\n\tconst element = document.createElement( node );\n\n\tif (className)\n\t\telement.className = className;\n\n\tif (innerHTML)\n\t{\n\t\telement.innerHTML = innerHTML;\n\t}\n\n\treturn element;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/dom.es6","'use strict';\n\nimport Drop\t\tfrom 'tether-drop';\nimport Dom \t\tfrom '../helpers/dom.es6';\n\n// classes\t\t: 'drop-theme-arrows',\n// classes\t\t: 'drop-theme-hubspot-popovers',\n// classes\t\t: 'drop-theme-basic',\n\n// const CLASS_NAME = 'drop-theme-hubspot-popovers';\nconst CLASS_NAME = 'drop-theme-twipsy';\n// const CLASS_NAME = 'drop-theme-arrows-bounce';\n// const CLASS_NAME = 'drop-theme-arrows-bounce-dark';\n// const CLASS_NAME = 'drop-theme-basic';\n// const CLASS_NAME = 'drop-theme-arrows';\n\nexport default class ButtonPopOver\n{\n\tconstructor( params )\n\t{\n\t\tthis.settings \t= params;\n\t\tthis.popContent = this.popContent = Dom('div');\n\t}\n\n\tmakeTrigger()\n\t{\n\t\tthis.trigger \t\t\t= Dom('button.btn btn-primary font-bold');\n\t\tthis.trigger.onclick \t= this.makePopover.bind(this);\n\t\tthis.trigger.innerHTML\t= this.settings.icon;\n\n\t\treturn this.trigger;\n\t}\n\n\tmakePopover()\n\t{\n\t\tthis.popover = this.popover || new Drop({\n\t\t\t\ttarget\t\t: this.getTrigger(),\n\t\t\t\tcontent\t\t: this.getPopContent(),\n\t\t\t\tclasses\t\t: CLASS_NAME,\n\t\t\t\tposition\t: 'left top',\n\t\t\t\topenOn\t\t: 'click'\n\t\t\t});\n\n\t\tif (this.settings.onOpen)\n\t\t\tthis.popover.on('open', this.settings.onOpen );\n\n\t\tthis.trigger.onclick = false;\n\t\tthis.popover.open();\n\t\t// this.trigger.click();\n\t}\n\n\tgetTrigger()\n\t{\n\t\treturn this.trigger;\n\t}\n\n\tgetPopContent()\n\t{\n\t\tthis.build();\n\t\treturn this.popContent;\n\t}\n\n\tbuild()\n\t{\n\t\tconsole.warn( 'Build Popover method undefined in child component ')\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/buttonPopover.es6","'use strict';\n\nconst common = {\n\t'`': '>',\n\t'[': '',\n\t']': '$',\n\t'=': '*',\n\t';': ':',\n\t'\\'': '',\n\t'\\\\': ''\n};\n\nconst sabreLayout = Object.assign({}, common, {\n\n});\n\nconst apolloLayout = Object.assign({}, common, {\n\t',': '+'\n});\n\nconst _to_ascii = {\n\t'188': '44',\n\t'109': '45',\n\t'190': '46',\n\t'191': '47',\n\t'192': '96',\n\t'220': '92',\n\t'222': '39',\n\t'221': '93',\n\t'219': '91',\n\t'173': '45',\n\t'187': '61', //IE Key codes\n\t'186': '59', //IE Key codes\n\t'189': '45',  //IE Key codes\n\n\t'59': '59',  //FF Key codes  ;\n\t'61': '61'  //FF Key codes  =\n};\n\nexport function getReplacement( evt, isApollo )\n{\n\tconst char = String.fromCharCode(_to_ascii[ evt.keyCode || evt.which ] );\n\treturn isApollo ? apolloLayout[char] : sabreLayout[char];\n}\n\nfunction chunkIntoPages( linesArr , rowsPerScreen )\n{\n\treturn linesArr.map(\n\t\t(line, lineIndex) => lineIndex % rowsPerScreen ? [] : linesArr.slice( lineIndex , lineIndex + rowsPerScreen )\n\t)\n\t.filter(\n\t\t( data ) => !!data.length\n\t);\n}\n\nexport function makePages(txt, rowsPerScreen = 20, maxCharLimit)\n{\n\tconst chunkByCharLimit = splitIntoLinesArr( txt, maxCharLimit );\n\n\treturn chunkIntoPages(chunkByCharLimit, rowsPerScreen).map(\n\t\t(sectionLines) => sectionLines.join('\\n')\n\t);\n}\n\nexport function splitIntoLinesArr( txt, maxCharLimit )\n{\n\tconst lines \t\t= splitLines(txt);\n\tconst regex \t\t= new RegExp(`(.{1,${maxCharLimit}})`, 'gi');\n\n\tlet chunkByCharLimit= [];\n\n\tlines.forEach( (line) => {\n\t\tlet lineArr = line.match(regex);\n\t\tchunkByCharLimit = chunkByCharLimit.concat(lineArr);\n\t});\n\n\treturn chunkByCharLimit;\n}\n\nexport const mergeIntoNew = ( current, extendWith ) => Object.assign({}, current, extendWith);\n\nfunction splitLines(txt)\n{\n\treturn txt.split(/\\r?\\n/);\n}\n\nexport function currDate()\n{\n\tconst d = new Date;\n\tconst date = d.getDate();\n\tconst getDate = date < 10 ? '0' + date : date;\n\tconst months = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];\n\n\treturn getDate + months[d.getMonth()];\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/helpers.es6","import Dom from '../helpers/dom';\n\nexport default class Component\n{\n\tconstructor( selector )\n\t{\n\t\tthis.context \t= Dom( selector );\n\t\tthis.observers \t= [];\n\t}\n\n\tobserve( component )\n\t{\n\t\tthis.observers.push( component );\n\t\tthis.context.appendChild( component.getContext() );\n\t\treturn this;\n\t}\n\n\taddToObserve( component )\n\t{\n\t\tthis.observers.push( component );\n\t\treturn this;\n\t}\n\n\tappend( component )\n\t{\n\t\tthis.context.appendChild( component.getContext() );\n\t\treturn this;\n\t}\n\n\tattach( element )\n\t{\n\t\tthis.context.appendChild( element );\n\t}\n\n\tgetContext()\n\t{\n\t\treturn this.context;\n\t}\n\n\t// _renderer()\n\t// {\n\t// }\n\n\trender( params )\n\t{\n\t\t// console.log('render');\n\t\t// console.log( this._renderer );\n\n\t\tthis.props = params;\n\n\t\tif ( typeof this._renderer === 'function' )\n\t\t{\n\t\t\tthis._renderer();\n\t\t}\n\n\t\tthis.observers.map( component => {\n\t\t\tcomponent.render( this.props )\n\t\t});\n\n\t\treturn this.context;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/component.es6","export const END_POINT_URL\t \t\t= 'terminal/command?';\nexport const TIME_FORMAT \t\t\t= '12';\nexport const ACCOUNT \t\t\t\t= 'training';\nexport const API_HOST \t\t\t\t= '';\nexport const KEEP_ALIVE_REFRESH \t= 60000;\nexport const AREA_LIST \t\t\t\t= ['A', 'B', 'C', 'D', 'E', 'F'];\nexport const GDS_LIST \t\t\t\t= ['apollo', 'sabre', 'amadeus'];\n\n\n// WEBPACK FOOTER //\n// ./src/constants.es6","'use strict';\n\nexport function cookieGet(name) {\n\tconst value = '; ' + document.cookie;\n\tconst parts = value.split('; ' + name + '=');\n\n\tif (parts.length === 2)\n\t\treturn parts.pop().split(';').shift();\n}\n\nexport function cookieSet(name, value, xdays) {\n\tlet d = new Date();\n\td.setTime(d.getTime() + (xdays*24*60*60*1000));\n\tconst expires = 'expires='+ d.toUTCString();\n\tdocument.cookie = name + '=' + value + '; ' + expires;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/cookie.es6","'use strict';\n\nimport {END_POINT_URL, API_HOST}\tfrom  '../constants.es6'\nimport Noty \t\t\t\t\t\tfrom 'noty';\nimport 'whatwg-fetch';\n\nlet Url;\n\nconst Debug = txt => {\n\n\tconst notify = new Noty({\n\t\ttext\t: `SERVER ERROR : ${txt}`,\n\t\tlayout \t: 'bottomRight',\n\t\ttimeout : 5000,\n\t\ttype \t: 'error'\n\t});\n\n\tnotify.show();\n};\n\nconst showUserMessages = response => {\n\n\tconst userMessages = response['data']['userMessages'] || [];\n\n\tuserMessages.map( msg => {\n\t\tnew Noty({\n\t\t\ttext\t: `<strong>${msg}</strong>`,\n\t\t\tlayout \t: 'bottomCenter',\n\t\t\ttimeout : 5000,\n\t\t\ttheme\t: 'metroui',\n\t\t\ttype \t: 'warning'\n\t\t}).show();\n\t} );\n\n\treturn response;\n};\n\nconst Ask = (url, params) => {\n\n\tif (url.substr(0, 1) !== '/')\n\t\turl = '/' + url;\n\n\treturn fetch( wwwFullDir + url, params )\n\t\t.then( response => response.json() )\n\t\t.then( response => showUserMessages(response) )\n\t\t.catch( err => {\n\t\t\tDebug( err );\n\t\t\tconsole.error( '?????????', err );\n\t\t});\n};\n\nexport const get = (url, defParams) => {\n\n\tif (!url)\n\t\treturn '';\n\n\tif (defParams)\n\t\turl += '?rId='+ window.apiData.rId;\n\n\treturn Ask( url, { credentials: 'include' });\n};\n\nconst runSyncCommand = params => {\n\tconst formData \t= new FormData();\n\tformData.append( \"data\", JSON.stringify( {params}, true) );\n\n\treturn Ask( API_HOST + Url, {\n\t\tcredentials\t: 'include',\n\t\tbody\t\t: formData,\n\t\tmethod\t\t: 'POST',\n\t});\n};\n\nexport const setLink = url => { Url = url || END_POINT_URL }\n\nexport default {\n\trunSyncCommand\t: runSyncCommand,\n\tget \t\t\t: get\n};\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/requests.es6","import {AREA_LIST, GDS_LIST} \tfrom '../constants.es6';\nimport {mergeIntoNew} \t\t\tfrom '../helpers/helpers';\n\nconst saved\t\t= localStorage.getItem('matrix');\n\nconst defaults\t= {\n\tsessionIndex \t: 0,\n\tpcc\t\t\t\t: {},\n\tmatrix\t\t\t: saved ? JSON.parse( saved ) : {rows : 1, cells : 1},\n\tactiveTerminal\t: null,\n\tcanCreatePq\t\t: false,\n\thistory\t\t\t: []\n};\n\nconst getGdsData = (name, settings = {}) => {\n\n\treturn mergeIntoNew( defaults, {\n\n\t\tname \t\t\t: name,\n\t\tsessionIndex \t: AREA_LIST.indexOf( settings['area'] ),\n\n\t\t// canCreatePq\t\t: !!settings['canCreatePq'] // for DEV\n\t\t// canCreatePq\t\t: !window.TerminalState.hasPermissions() ? false : !!settings['canCreatePq'],\n\n\t\tcanCreatePq\t\t: false\n\t})\n\n};\n\nexport default class GdsSet\n{\n\tstatic getList( list, loadedGds )\n\t{\n\t\tthis.gdsList = list.map( name => getGdsData(name, loadedGds[name]) );\n\n\t\tconst res = {};\n\n\t\tthis.gdsList.forEach( gds => {\n\t\t\tres[gds.name] = gds;\n\t\t});\n\n\t\treturn res;\n\t}\n\n\tstatic getAreas( defaultsEvents )\n\t{\n\t\treturn this.gdsList.map( gds => {\n\n\t\t\treturn mergeIntoNew( defaultsEvents , {\n\t\t\t\tname \t: gds.name,\n\t\t\t\tlist\t: gds.name === 'sabre' ? AREA_LIST : AREA_LIST.slice(0, -1) //remove F\n\t\t\t});\n\n\t\t})\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/gds.es6","'use strict';\n\nimport TerminalPlugin\tfrom '../middleware/plugin.es6';\nimport Dom\t\t\t\tfrom '../helpers/dom.es6';\n\nrequire('../../node_modules/jquery.terminal/js/unix_formatting');\n\nexport default class Terminal {\n\n\tconstructor( params )\n\t{\n\t\tthis.plugin \t= null;\n\t\tthis.settings \t= params;\n\t\tthis.context \t= Dom('div.terminal');\n\n\t\tthis.makeBuffer( params.buffer );\n\n\t\tthis.context.onclick = () => {\n\t\t\tif (!this.plugin)\n\t\t\t\tthis.init();\n\t\t};\n\t}\n\n\tinit()\n\t{\n\t\tthis.plugin = new TerminalPlugin({\n\t\t\tcontext \t\t: this.context,\n\t\t\tclear\t\t\t: () => this.clear(),\n\t\t\tname \t\t\t: this.settings['name'],\n\t\t\tsessionIndex \t: this.settings['sessionIndex'],\n\t\t\tgds \t\t\t: this.settings['gds'],\n\t\t\tnumOfRows \t\t: this.numOfRows,\n\t\t\tnumOfChars \t\t: this.numOfChars\n\t\t});\n\t}\n\n\tmakeBuffer( buf )\n\t{\n\t\tif (!buf)\n\t\t\treturn false;\n\n\t\tconst buffered = buf['buffering'].map( record => {\n\n\t\t\tconst output = record.output ? `<pre style=\"white-space: pre-wrap; overflow: hidden\">${ $.terminal.format( record.output )} </pre>` : '';\n\n\t\t\treturn `<div class=\"command\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\"usedCommand\">${record.command}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${output}`;\n\t\t}).join('');\n\n\t\tthis.bufferDiv \t\t\t\t= Dom('article.terminal-wrapper');\n\t\tthis.bufferDiv.innerHTML \t= `<div class=\"terminal-output\"> ${buffered} </div>`;\n\n\t\tthis.context.appendChild( this.bufferDiv );\n\t}\n\n\tinsertBuffer()\n\t{\n\t\tif ( !this.settings.buffer )\n\t\t\treturn false;\n\n\t\tthis.settings.buffer['buffering'].forEach( (record) => {\n\t\t\tthis.plugin.terminal.echo(record.command, { finalize : function ( div ) {\n\t\t\t\tdiv[0].className = 'command';\n\t\t\t}});\n\n\t\t\tthis.plugin.terminal.echo(record.output);\n\t\t});\n\t}\n\n\tcalculateNumOfRows( lineHeight )\n\t{\n\t\treturn Math.floor( this.settings.parentContext.clientHeight / lineHeight );\n\t}\n\n\treattach( parentNode, dimensions )\n\t{\n\t\tthis.settings.parentContext = parentNode;\n\n\t\tparentNode.style.height\t\t= dimensions.height + 'px';\n\t\tparentNode.style.width\t\t= dimensions.width\t+ 'px';\n\n\t\tthis.context.style.height\t= parentNode.clientHeight + 'px';\n\t\tthis.context.style.width\t= parentNode.clientWidth + 'px';\n\n\t\tthis.numOfRows \t\t\t\t= this.calculateNumOfRows( dimensions.char.height );\n\t\t// this.numOfChars\t\t\t\t= Math.floor( parentNode.clientWidth / Math.ceil(dimensions.char.width) );\n\t\tthis.numOfChars\t\t\t\t= Math.floor( (dimensions.width - 2) / dimensions.char.width );\n\n\t\tthis.settings.parentContext.appendChild( this.context );\n\n\t\tif (this.plugin)\n\t\t{\n\t\t\t// do not rely on plugin calculating too messy slow and etc.\n\t\t\t// this.plugin.terminal.settings().numChars = Math.floor( (dimensions.width - 2) / dimensions.char.width );\n\t\t\t// this.plugin.terminal.settings().numRows  = this.numOfRows;\n\n\t\t\tthis.plugin.resize({\n\t\t\t\tnumOfChars \t: this.numOfChars,\n\t\t\t\tnumOfRows \t: this.numOfRows\n\t\t\t});\n\t\t}\n\n\t\tthis.context.style.height = (this.numOfRows * dimensions.char.height) + 'px';\n\n\t\tif (this.plugin)\n\t\t\tthis.plugin.emptyLinesRecalculate( this.numOfRows, this.numOfChars, dimensions.char.height );\n\n\t\t// this.context.style.width\t= parentNode.clientWidth + 'px';\n\n\t\tthis.context.scrollTop = this.context.scrollHeight;\n\t}\n\n\tclear()\n\t{\n\t\tif (this.plugin)\n\t\t{\n\t\t\tthis.plugin.terminal.clear();\n\t\t\tthis.plugin.terminal.cmd().set('');\n\t\t}\n\n\t\tif (this.bufferDiv)\n\t\t{\n\t\t\tthis.context.removeChild(this.bufferDiv);\n\t\t\tthis.bufferDiv = false;\n\t\t}\n\n\t\tthis.buffer = '';\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/terminal.es6","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Noty\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Noty\"] = factory();\n\telse\n\t\troot[\"Noty\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.css = exports.deepExtend = exports.animationEndEvents = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.inArray = inArray;\nexports.stopPropagation = stopPropagation;\nexports.generateID = generateID;\nexports.outerHeight = outerHeight;\nexports.addListener = addListener;\nexports.hasClass = hasClass;\nexports.addClass = addClass;\nexports.removeClass = removeClass;\nexports.remove = remove;\nexports.classList = classList;\nexports.visibilityChangeFlow = visibilityChangeFlow;\nexports.createAudioElements = createAudioElements;\n\nvar _api = __webpack_require__(1);\n\nvar API = _interopRequireWildcard(_api);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar animationEndEvents = exports.animationEndEvents = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';\n\nfunction inArray(needle, haystack, argStrict) {\n  var key = void 0;\n  var strict = !!argStrict;\n\n  if (strict) {\n    for (key in haystack) {\n      if (haystack.hasOwnProperty(key) && haystack[key] === needle) {\n        return true;\n      }\n    }\n  } else {\n    for (key in haystack) {\n      if (haystack.hasOwnProperty(key) && haystack[key] === needle) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction stopPropagation(evt) {\n  evt = evt || window.event;\n\n  if (typeof evt.stopPropagation !== 'undefined') {\n    evt.stopPropagation();\n  } else {\n    evt.cancelBubble = true;\n  }\n}\n\nvar deepExtend = exports.deepExtend = function deepExtend(out) {\n  out = out || {};\n\n  for (var i = 1; i < arguments.length; i++) {\n    var obj = arguments[i];\n\n    if (!obj) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (Array.isArray(obj[key])) {\n          out[key] = obj[key];\n        } else if (_typeof(obj[key]) === 'object' && obj[key] !== null) {\n          out[key] = deepExtend(out[key], obj[key]);\n        } else {\n          out[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  return out;\n};\n\nfunction generateID() {\n  var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var id = 'noty_' + prefix + '_';\n\n  id += 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n\n  return id;\n}\n\nfunction outerHeight(el) {\n  var height = el.offsetHeight;\n  var style = window.getComputedStyle(el);\n\n  height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n  return height;\n}\n\nvar css = exports.css = function () {\n  var cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\n  var cssProps = {};\n\n  function camelCase(string) {\n    return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function (match, letter) {\n      return letter.toUpperCase();\n    });\n  }\n\n  function getVendorProp(name) {\n    var style = document.body.style;\n    if (name in style) return name;\n\n    var i = cssPrefixes.length;\n    var capName = name.charAt(0).toUpperCase() + name.slice(1);\n    var vendorName = void 0;\n\n    while (i--) {\n      vendorName = cssPrefixes[i] + capName;\n      if (vendorName in style) return vendorName;\n    }\n\n    return name;\n  }\n\n  function getStyleProp(name) {\n    name = camelCase(name);\n    return cssProps[name] || (cssProps[name] = getVendorProp(name));\n  }\n\n  function applyCss(element, prop, value) {\n    prop = getStyleProp(prop);\n    element.style[prop] = value;\n  }\n\n  return function (element, properties) {\n    var args = arguments;\n    var prop = void 0;\n    var value = void 0;\n\n    if (args.length === 2) {\n      for (prop in properties) {\n        if (properties.hasOwnProperty(prop)) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) {\n            applyCss(element, prop, value);\n          }\n        }\n      }\n    } else {\n      applyCss(element, args[1], args[2]);\n    }\n  };\n}();\n\nfunction addListener(el, events, cb) {\n  var useCapture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  events = events.split(' ');\n  for (var i = 0; i < events.length; i++) {\n    if (document.addEventListener) {\n      el.addEventListener(events[i], cb, useCapture);\n    } else if (document.attachEvent) {\n      el.attachEvent('on' + events[i], cb);\n    }\n  }\n}\n\nfunction hasClass(element, name) {\n  var list = typeof element === 'string' ? element : classList(element);\n  return list.indexOf(' ' + name + ' ') >= 0;\n}\n\nfunction addClass(element, name) {\n  var oldList = classList(element);\n  var newList = oldList + name;\n\n  if (hasClass(oldList, name)) return;\n\n  // Trim the opening space.\n  element.className = newList.substring(1);\n}\n\nfunction removeClass(element, name) {\n  var oldList = classList(element);\n  var newList = void 0;\n\n  if (!hasClass(element, name)) return;\n\n  // Replace the class name.\n  newList = oldList.replace(' ' + name + ' ', ' ');\n\n  // Trim the opening and closing spaces.\n  element.className = newList.substring(1, newList.length - 1);\n}\n\nfunction remove(element) {\n  if (element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n}\n\nfunction classList(element) {\n  return (' ' + (element && element.className || '') + ' ').replace(/\\s+/gi, ' ');\n}\n\nfunction visibilityChangeFlow() {\n  var hidden = void 0;\n  var visibilityChange = void 0;\n  if (typeof document.hidden !== 'undefined') {\n    // Opera 12.10 and Firefox 18 and later support\n    hidden = 'hidden';\n    visibilityChange = 'visibilitychange';\n  } else if (typeof document.msHidden !== 'undefined') {\n    hidden = 'msHidden';\n    visibilityChange = 'msvisibilitychange';\n  } else if (typeof document.webkitHidden !== 'undefined') {\n    hidden = 'webkitHidden';\n    visibilityChange = 'webkitvisibilitychange';\n  }\n\n  function onVisibilityChange() {\n    API.PageHidden = document[hidden];\n    handleVisibilityChange();\n  }\n\n  function onBlur() {\n    API.PageHidden = true;\n    handleVisibilityChange();\n  }\n\n  function onFocus() {\n    API.PageHidden = false;\n    handleVisibilityChange();\n  }\n\n  function handleVisibilityChange() {\n    if (API.PageHidden) stopAll();else resumeAll();\n  }\n\n  function stopAll() {\n    setTimeout(function () {\n      Object.keys(API.Store).forEach(function (id) {\n        if (API.Store.hasOwnProperty(id)) {\n          if (API.Store[id].options.visibilityControl) {\n            API.Store[id].stop();\n          }\n        }\n      });\n    }, 100);\n  }\n\n  function resumeAll() {\n    setTimeout(function () {\n      Object.keys(API.Store).forEach(function (id) {\n        if (API.Store.hasOwnProperty(id)) {\n          if (API.Store[id].options.visibilityControl) {\n            API.Store[id].resume();\n          }\n        }\n      });\n      API.queueRenderAll();\n    }, 100);\n  }\n\n  addListener(document, visibilityChange, onVisibilityChange);\n  addListener(window, 'blur', onBlur);\n  addListener(window, 'focus', onFocus);\n}\n\nfunction createAudioElements(ref) {\n  if (ref.hasSound) {\n    var audioElement = document.createElement('audio');\n\n    ref.options.sounds.sources.forEach(function (s) {\n      var source = document.createElement('source');\n      source.src = s;\n      source.type = 'audio/' + getExtension(s);\n      audioElement.appendChild(source);\n    });\n\n    if (ref.barDom) {\n      ref.barDom.appendChild(audioElement);\n    } else {\n      document.querySelector('body').appendChild(audioElement);\n    }\n\n    audioElement.volume = ref.options.sounds.volume;\n\n    if (!ref.soundPlayed) {\n      audioElement.play();\n      ref.soundPlayed = true;\n    }\n\n    audioElement.onended = function () {\n      remove(audioElement);\n    };\n  }\n}\n\nfunction getExtension(fileName) {\n  return fileName.match(/\\.([^.]+)$/)[1];\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Defaults = exports.Store = exports.Queues = exports.DefaultMaxVisible = exports.docTitle = exports.DocModalCount = exports.PageHidden = undefined;\nexports.getQueueCounts = getQueueCounts;\nexports.addToQueue = addToQueue;\nexports.removeFromQueue = removeFromQueue;\nexports.queueRender = queueRender;\nexports.queueRenderAll = queueRenderAll;\nexports.ghostFix = ghostFix;\nexports.build = build;\nexports.hasButtons = hasButtons;\nexports.handleModal = handleModal;\nexports.handleModalClose = handleModalClose;\nexports.queueClose = queueClose;\nexports.dequeueClose = dequeueClose;\nexports.fire = fire;\nexports.openFlow = openFlow;\nexports.closeFlow = closeFlow;\n\nvar _utils = __webpack_require__(0);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PageHidden = exports.PageHidden = false;\nvar DocModalCount = exports.DocModalCount = 0;\n\nvar DocTitleProps = {\n  originalTitle: null,\n  count: 0,\n  changed: false,\n  timer: -1\n};\n\nvar docTitle = exports.docTitle = {\n  increment: function increment() {\n    DocTitleProps.count++;\n\n    docTitle._update();\n  },\n\n  decrement: function decrement() {\n    DocTitleProps.count--;\n\n    if (DocTitleProps.count <= 0) {\n      docTitle._clear();\n      return;\n    }\n\n    docTitle._update();\n  },\n\n  _update: function _update() {\n    var title = document.title;\n\n    if (!DocTitleProps.changed) {\n      DocTitleProps.originalTitle = title;\n      document.title = '(' + DocTitleProps.count + ') ' + title;\n      DocTitleProps.changed = true;\n    } else {\n      document.title = '(' + DocTitleProps.count + ') ' + DocTitleProps.originalTitle;\n    }\n  },\n\n  _clear: function _clear() {\n    if (DocTitleProps.changed) {\n      DocTitleProps.count = 0;\n      document.title = DocTitleProps.originalTitle;\n      DocTitleProps.changed = false;\n    }\n  }\n};\n\nvar DefaultMaxVisible = exports.DefaultMaxVisible = 5;\n\nvar Queues = exports.Queues = {\n  global: {\n    maxVisible: DefaultMaxVisible,\n    queue: []\n  }\n};\n\nvar Store = exports.Store = {};\n\nvar Defaults = exports.Defaults = {\n  type: 'alert',\n  layout: 'topRight',\n  theme: 'mint',\n  text: '',\n  timeout: false,\n  progressBar: true,\n  closeWith: ['click'],\n  animation: {\n    open: 'noty_effects_open',\n    close: 'noty_effects_close'\n  },\n  id: false,\n  force: false,\n  killer: false,\n  queue: 'global',\n  container: false,\n  buttons: [],\n  callbacks: {\n    beforeShow: null,\n    onShow: null,\n    afterShow: null,\n    onClose: null,\n    afterClose: null,\n    onHover: null,\n    onTemplate: null\n  },\n  sounds: {\n    sources: [],\n    volume: 1,\n    conditions: []\n  },\n  titleCount: {\n    conditions: []\n  },\n  modal: false,\n  visibilityControl: true\n};\n\n/**\n * @param {string} queueName\n * @return {object}\n */\nfunction getQueueCounts() {\n  var queueName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';\n\n  var count = 0;\n  var max = DefaultMaxVisible;\n\n  if (Queues.hasOwnProperty(queueName)) {\n    max = Queues[queueName].maxVisible;\n    Object.keys(Store).forEach(function (i) {\n      if (Store[i].options.queue === queueName && !Store[i].closed) count++;\n    });\n  }\n\n  return {\n    current: count,\n    maxVisible: max\n  };\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction addToQueue(ref) {\n  if (!Queues.hasOwnProperty(ref.options.queue)) {\n    Queues[ref.options.queue] = { maxVisible: DefaultMaxVisible, queue: [] };\n  }\n\n  Queues[ref.options.queue].queue.push(ref);\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction removeFromQueue(ref) {\n  if (Queues.hasOwnProperty(ref.options.queue)) {\n    var queue = [];\n    Object.keys(Queues[ref.options.queue].queue).forEach(function (i) {\n      if (Queues[ref.options.queue].queue[i].id !== ref.id) {\n        queue.push(Queues[ref.options.queue].queue[i]);\n      }\n    });\n    Queues[ref.options.queue].queue = queue;\n  }\n}\n\n/**\n * @param {string} queueName\n * @return {void}\n */\nfunction queueRender() {\n  var queueName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';\n\n  if (Queues.hasOwnProperty(queueName)) {\n    var noty = Queues[queueName].queue.shift();\n\n    if (noty) noty.show();\n  }\n}\n\n/**\n * @return {void}\n */\nfunction queueRenderAll() {\n  Object.keys(Queues).forEach(function (queueName) {\n    queueRender(queueName);\n  });\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction ghostFix(ref) {\n  var ghostID = Utils.generateID('ghost');\n  var ghost = document.createElement('div');\n  ghost.setAttribute('id', ghostID);\n  Utils.css(ghost, {\n    height: Utils.outerHeight(ref.barDom) + 'px'\n  });\n\n  ref.barDom.insertAdjacentHTML('afterend', ghost.outerHTML);\n\n  Utils.remove(ref.barDom);\n  ghost = document.getElementById(ghostID);\n  Utils.addClass(ghost, 'noty_fix_effects_height');\n  Utils.addListener(ghost, Utils.animationEndEvents, function () {\n    Utils.remove(ghost);\n  });\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction build(ref) {\n  findOrCreateContainer(ref);\n\n  var markup = '<div class=\"noty_body\">' + ref.options.text + '</div>' + buildButtons(ref) + '<div class=\"noty_progressbar\"></div>';\n\n  ref.barDom = document.createElement('div');\n  ref.barDom.setAttribute('id', ref.id);\n  Utils.addClass(ref.barDom, 'noty_bar noty_type__' + ref.options.type + ' noty_theme__' + ref.options.theme);\n\n  ref.barDom.innerHTML = markup;\n\n  fire(ref, 'onTemplate');\n}\n\n/**\n * @param {Noty} ref\n * @return {boolean}\n */\nfunction hasButtons(ref) {\n  return !!(ref.options.buttons && Object.keys(ref.options.buttons).length);\n}\n\n/**\n * @param {Noty} ref\n * @return {string}\n */\nfunction buildButtons(ref) {\n  if (hasButtons(ref)) {\n    var buttons = document.createElement('div');\n    Utils.addClass(buttons, 'noty_buttons');\n\n    Object.keys(ref.options.buttons).forEach(function (key) {\n      buttons.appendChild(ref.options.buttons[key].dom);\n    });\n\n    ref.options.buttons.forEach(function (btn) {\n      buttons.appendChild(btn.dom);\n    });\n    return buttons.outerHTML;\n  }\n  return '';\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction handleModal(ref) {\n  if (ref.options.modal) {\n    if (DocModalCount === 0) {\n      createModal(ref);\n    }\n\n    exports.DocModalCount = DocModalCount += 1;\n  }\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction handleModalClose(ref) {\n  if (ref.options.modal && DocModalCount > 0) {\n    exports.DocModalCount = DocModalCount -= 1;\n\n    if (DocModalCount <= 0) {\n      var modal = document.querySelector('.noty_modal');\n\n      if (modal) {\n        Utils.removeClass(modal, 'noty_modal_open');\n        Utils.addClass(modal, 'noty_modal_close');\n        Utils.addListener(modal, Utils.animationEndEvents, function () {\n          Utils.remove(modal);\n        });\n      }\n    }\n  }\n}\n\n/**\n * @return {void}\n */\nfunction createModal() {\n  var body = document.querySelector('body');\n  var modal = document.createElement('div');\n  Utils.addClass(modal, 'noty_modal');\n  body.insertBefore(modal, body.firstChild);\n  Utils.addClass(modal, 'noty_modal_open');\n\n  Utils.addListener(modal, Utils.animationEndEvents, function () {\n    Utils.removeClass(modal, 'noty_modal_open');\n  });\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction findOrCreateContainer(ref) {\n  if (ref.options.container) {\n    ref.layoutDom = document.querySelector(ref.options.container);\n    return;\n  }\n\n  var layoutID = 'noty_layout__' + ref.options.layout;\n  ref.layoutDom = document.querySelector('div#' + layoutID);\n\n  if (!ref.layoutDom) {\n    ref.layoutDom = document.createElement('div');\n    ref.layoutDom.setAttribute('id', layoutID);\n    Utils.addClass(ref.layoutDom, 'noty_layout');\n    document.querySelector('body').appendChild(ref.layoutDom);\n  }\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction queueClose(ref) {\n  if (ref.options.timeout) {\n    if (ref.options.progressBar && ref.progressDom) {\n      Utils.css(ref.progressDom, {\n        transition: 'width ' + ref.options.timeout + 'ms linear',\n        width: '0%'\n      });\n    }\n\n    clearTimeout(ref.closeTimer);\n\n    ref.closeTimer = setTimeout(function () {\n      ref.close();\n    }, ref.options.timeout);\n  }\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction dequeueClose(ref) {\n  if (ref.options.timeout && ref.closeTimer) {\n    clearTimeout(ref.closeTimer);\n    ref.closeTimer = -1;\n\n    if (ref.options.progressBar && ref.progressDom) {\n      Utils.css(ref.progressDom, {\n        transition: 'width 0ms linear',\n        width: '100%'\n      });\n    }\n  }\n}\n\n/**\n * @param {Noty} ref\n * @param {string} eventName\n * @return {void}\n */\nfunction fire(ref, eventName) {\n  if (ref.listeners.hasOwnProperty(eventName)) {\n    ref.listeners[eventName].forEach(function (cb) {\n      if (typeof cb === 'function') {\n        cb.apply(ref);\n      }\n    });\n  }\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction openFlow(ref) {\n  fire(ref, 'afterShow');\n  queueClose(ref);\n\n  Utils.addListener(ref.barDom, 'mouseenter', function () {\n    dequeueClose(ref);\n  });\n\n  Utils.addListener(ref.barDom, 'mouseleave', function () {\n    queueClose(ref);\n  });\n}\n\n/**\n * @param {Noty} ref\n * @return {void}\n */\nfunction closeFlow(ref) {\n  delete Store[ref.id];\n  ref.closing = false;\n  fire(ref, 'afterClose');\n\n  Utils.remove(ref.barDom);\n\n  if (ref.layoutDom.querySelectorAll('.noty_bar').length === 0 && !ref.options.container) {\n    Utils.remove(ref.layoutDom);\n  }\n\n  if (Utils.inArray('docVisible', ref.options.titleCount.conditions) || Utils.inArray('docHidden', ref.options.titleCount.conditions)) {\n    docTitle.decrement();\n  }\n\n  queueRender(ref.options.queue);\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NotyButton = undefined;\n\nvar _utils = __webpack_require__(0);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NotyButton = exports.NotyButton = function NotyButton(html, classes, cb) {\n  var _this = this;\n\n  var attributes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  _classCallCheck(this, NotyButton);\n\n  this.dom = document.createElement('button');\n  this.dom.innerHTML = html;\n  this.id = attributes.id = attributes.id || Utils.generateID('button');\n  this.cb = cb;\n  Object.keys(attributes).forEach(function (propertyName) {\n    _this.dom.setAttribute(propertyName, attributes[propertyName]);\n  });\n  Utils.addClass(this.dom, classes || 'noty_btn');\n\n  return this;\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Push = exports.Push = function () {\n  function Push() {\n    var workerPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/service-worker.js';\n\n    _classCallCheck(this, Push);\n\n    this.subData = {};\n    this.workerPath = workerPath;\n    this.listeners = {\n      onPermissionGranted: [],\n      onPermissionDenied: [],\n      onSubscriptionSuccess: [],\n      onSubscriptionCancel: [],\n      onWorkerError: [],\n      onWorkerSuccess: [],\n      onWorkerNotSupported: []\n    };\n    return this;\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {function} cb\n   * @return {Push}\n   */\n\n\n  _createClass(Push, [{\n    key: 'on',\n    value: function on(eventName) {\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n      if (typeof cb === 'function' && this.listeners.hasOwnProperty(eventName)) {\n        this.listeners[eventName].push(cb);\n      }\n\n      return this;\n    }\n  }, {\n    key: 'fire',\n    value: function fire(eventName) {\n      var _this = this;\n\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (this.listeners.hasOwnProperty(eventName)) {\n        this.listeners[eventName].forEach(function (cb) {\n          if (typeof cb === 'function') {\n            cb.apply(_this, params);\n          }\n        });\n      }\n    }\n  }, {\n    key: 'create',\n    value: function create() {\n      console.log('NOT IMPLEMENTED YET');\n    }\n\n    /**\n     * @return {boolean}\n     */\n\n  }, {\n    key: 'isSupported',\n    value: function isSupported() {\n      var result = false;\n\n      try {\n        result = window.Notification || window.webkitNotifications || navigator.mozNotification || window.external && window.external.msIsSiteMode() !== undefined;\n      } catch (e) {}\n\n      return result;\n    }\n\n    /**\n     * @return {string}\n     */\n\n  }, {\n    key: 'getPermissionStatus',\n    value: function getPermissionStatus() {\n      var perm = 'default';\n\n      if (window.Notification && window.Notification.permissionLevel) {\n        perm = window.Notification.permissionLevel;\n      } else if (window.webkitNotifications && window.webkitNotifications.checkPermission) {\n        switch (window.webkitNotifications.checkPermission()) {\n          case 1:\n            perm = 'default';\n            break;\n          case 0:\n            perm = 'granted';\n            break;\n          default:\n            perm = 'denied';\n        }\n      } else if (window.Notification && window.Notification.permission) {\n        perm = window.Notification.permission;\n      } else if (navigator.mozNotification) {\n        perm = 'granted';\n      } else if (window.external && window.external.msIsSiteMode() !== undefined) {\n        perm = window.external.msIsSiteMode() ? 'granted' : 'default';\n      }\n\n      return perm.toString().toLowerCase();\n    }\n\n    /**\n     * @return {string}\n     */\n\n  }, {\n    key: 'getEndpoint',\n    value: function getEndpoint(subscription) {\n      var endpoint = subscription.endpoint;\n      var subscriptionId = subscription.subscriptionId;\n\n      // fix for Chrome < 45\n      if (subscriptionId && endpoint.indexOf(subscriptionId) === -1) {\n        endpoint += '/' + subscriptionId;\n      }\n\n      return endpoint;\n    }\n\n    /**\n     * @return {boolean}\n     */\n\n  }, {\n    key: 'isSWRegistered',\n    value: function isSWRegistered() {\n      try {\n        return navigator.serviceWorker.controller.state === 'activated';\n      } catch (e) {\n        return false;\n      }\n    }\n\n    /**\n     * @return {void}\n     */\n\n  }, {\n    key: 'unregisterWorker',\n    value: function unregisterWorker() {\n      var self = this;\n      if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.getRegistrations().then(function (registrations) {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = registrations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var registration = _step.value;\n\n              registration.unregister();\n              self.fire('onSubscriptionCancel');\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n        });\n      }\n    }\n\n    /**\n     * @return {void}\n     */\n\n  }, {\n    key: 'requestSubscription',\n    value: function requestSubscription() {\n      var _this2 = this;\n\n      var userVisibleOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      var self = this;\n      var current = this.getPermissionStatus();\n      var cb = function cb(result) {\n        if (result === 'granted') {\n          _this2.fire('onPermissionGranted');\n\n          if ('serviceWorker' in navigator) {\n            navigator.serviceWorker.register(_this2.workerPath).then(function () {\n              navigator.serviceWorker.ready.then(function (serviceWorkerRegistration) {\n                self.fire('onWorkerSuccess');\n                serviceWorkerRegistration.pushManager.subscribe({\n                  userVisibleOnly: userVisibleOnly\n                }).then(function (subscription) {\n                  var key = subscription.getKey('p256dh');\n                  var token = subscription.getKey('auth');\n\n                  self.subData = {\n                    endpoint: self.getEndpoint(subscription),\n                    p256dh: key ? window.btoa(String.fromCharCode.apply(null, new Uint8Array(key))) : null,\n                    auth: token ? window.btoa(String.fromCharCode.apply(null, new Uint8Array(token))) : null\n                  };\n\n                  self.fire('onSubscriptionSuccess', [self.subData]);\n                }).catch(function (err) {\n                  self.fire('onWorkerError', [err]);\n                });\n              });\n            });\n          } else {\n            self.fire('onWorkerNotSupported');\n          }\n        } else if (result === 'denied') {\n          _this2.fire('onPermissionDenied');\n          _this2.unregisterWorker();\n        }\n      };\n\n      if (current === 'default') {\n        if (window.Notification && window.Notification.requestPermission) {\n          window.Notification.requestPermission(cb);\n        } else if (window.webkitNotifications && window.webkitNotifications.checkPermission) {\n          window.webkitNotifications.requestPermission(cb);\n        }\n      } else {\n        cb(current);\n      }\n    }\n  }]);\n\n  return Push;\n}();\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, global) {var require;/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.0\n */\n\n(function (global, factory) {\n     true ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  return typeof x === 'function' || typeof x === 'object' && x !== null;\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (!Array.isArray) {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n} else {\n  _isArray = Array.isArray;\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = __webpack_require__(9);\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        _resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      _reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      _reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    _reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return _resolve(promise, value);\n    }, function (reason) {\n      return _reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$) {\n  if (maybeThenable.constructor === promise.constructor && then$$ === then && maybeThenable.constructor.resolve === resolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$ === GET_THEN_ERROR) {\n      _reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$ === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$)) {\n      handleForeignThenable(promise, maybeThenable, then$$);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction _resolve(promise, value) {\n  if (promise === value) {\n    _reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction _reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      _reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      _resolve(promise, value);\n    } else if (failed) {\n      _reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      _reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      _resolve(promise, value);\n    }, function rejectPromise(reason) {\n      _reject(promise, reason);\n    });\n  } catch (e) {\n    _reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this._input = input;\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate();\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    _reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nEnumerator.prototype._enumerate = function () {\n  var length = this.length;\n  var _input = this._input;\n\n  for (var i = 0; this._state === PENDING && i < length; i++) {\n    this._eachEntry(_input[i], i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$ = c.resolve;\n\n  if (resolve$$ === resolve) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$) {\n        return resolve$$(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$(entry), i);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      _reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve;\nPromise.reject = reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;\n\nPromise.prototype = {\n  constructor: Promise,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\nfunction polyfill() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise;\n}\n\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\n\nreturn Promise;\n\n})));\n//# sourceMappingURL=es6-promise.map\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(7), __webpack_require__(8)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global VERSION */\n\n__webpack_require__(5);\n\nvar _es6Promise = __webpack_require__(4);\n\nvar _es6Promise2 = _interopRequireDefault(_es6Promise);\n\nvar _utils = __webpack_require__(0);\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _api = __webpack_require__(1);\n\nvar API = _interopRequireWildcard(_api);\n\nvar _button = __webpack_require__(2);\n\nvar _push = __webpack_require__(3);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Noty = function () {\n  /**\n   * @param {object} options\n   * @return {Noty}\n   */\n  function Noty() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Noty);\n\n    this.options = Utils.deepExtend({}, API.Defaults, options);\n    this.id = this.options.id || Utils.generateID('bar');\n    this.closeTimer = -1;\n    this.barDom = null;\n    this.layoutDom = null;\n    this.progressDom = null;\n    this.showing = false;\n    this.shown = false;\n    this.closed = false;\n    this.closing = false;\n    this.killable = this.options.timeout || this.options.closeWith.length > 0;\n    this.hasSound = this.options.sounds.sources.length > 0;\n    this.soundPlayed = false;\n    this.listeners = {\n      beforeShow: [],\n      onShow: [],\n      afterShow: [],\n      onClose: [],\n      afterClose: [],\n      onHover: [],\n      onTemplate: []\n    };\n    this.promises = {\n      show: null,\n      close: null\n    };\n    this.on('beforeShow', this.options.callbacks.beforeShow);\n    this.on('onShow', this.options.callbacks.onShow);\n    this.on('afterShow', this.options.callbacks.afterShow);\n    this.on('onClose', this.options.callbacks.onClose);\n    this.on('afterClose', this.options.callbacks.afterClose);\n    this.on('onHover', this.options.callbacks.onHover);\n    this.on('onTemplate', this.options.callbacks.onTemplate);\n\n    return this;\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {function} cb\n   * @return {Noty}\n   */\n\n\n  _createClass(Noty, [{\n    key: 'on',\n    value: function on(eventName) {\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n      if (typeof cb === 'function' && this.listeners.hasOwnProperty(eventName)) {\n        this.listeners[eventName].push(cb);\n      }\n\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'show',\n    value: function show() {\n      var _this = this;\n\n      if (this.options.killer === true && !API.PageHidden) {\n        Noty.closeAll();\n      } else if (typeof this.options.killer === 'string' && !API.PageHidden) {\n        Noty.closeAll(this.options.killer);\n      } else {\n        var queueCounts = API.getQueueCounts(this.options.queue);\n\n        if (queueCounts.current >= queueCounts.maxVisible || API.PageHidden) {\n          API.addToQueue(this);\n\n          if (API.PageHidden && this.hasSound && Utils.inArray('docHidden', this.options.sounds.conditions)) {\n            Utils.createAudioElements(this);\n          }\n\n          if (API.PageHidden && Utils.inArray('docHidden', this.options.titleCount.conditions)) {\n            API.docTitle.increment();\n          }\n\n          return this;\n        }\n      }\n\n      API.Store[this.id] = this;\n\n      API.fire(this, 'beforeShow');\n\n      this.showing = true;\n\n      if (this.closing) {\n        this.showing = false;\n        return this;\n      }\n\n      API.build(this);\n      API.handleModal(this);\n\n      if (this.options.force) {\n        this.layoutDom.insertBefore(this.barDom, this.layoutDom.firstChild);\n      } else {\n        this.layoutDom.appendChild(this.barDom);\n      }\n\n      if (this.hasSound && !this.soundPlayed && Utils.inArray('docVisible', this.options.sounds.conditions)) {\n        Utils.createAudioElements(this);\n      }\n\n      if (Utils.inArray('docVisible', this.options.titleCount.conditions)) {\n        API.docTitle.increment();\n      }\n\n      this.shown = true;\n      this.closed = false;\n\n      // bind button events if any\n      if (API.hasButtons(this)) {\n        Object.keys(this.options.buttons).forEach(function (key) {\n          var btn = _this.barDom.querySelector('#' + _this.options.buttons[key].id);\n          Utils.addListener(btn, 'click', function (e) {\n            Utils.stopPropagation(e);\n            _this.options.buttons[key].cb();\n          });\n        });\n      }\n\n      this.progressDom = this.barDom.querySelector('.noty_progressbar');\n\n      if (Utils.inArray('click', this.options.closeWith)) {\n        Utils.addClass(this.barDom, 'noty_close_with_click');\n        Utils.addListener(this.barDom, 'click', function (e) {\n          Utils.stopPropagation(e);\n          _this.close();\n        }, false);\n      }\n\n      Utils.addListener(this.barDom, 'mouseenter', function () {\n        API.fire(_this, 'onHover');\n      }, false);\n\n      if (this.options.timeout) Utils.addClass(this.barDom, 'noty_has_timeout');\n\n      if (Utils.inArray('button', this.options.closeWith)) {\n        Utils.addClass(this.barDom, 'noty_close_with_button');\n\n        var closeButton = document.createElement('div');\n        Utils.addClass(closeButton, 'noty_close_button');\n        closeButton.innerHTML = '';\n        this.barDom.appendChild(closeButton);\n\n        Utils.addListener(closeButton, 'click', function (e) {\n          Utils.stopPropagation(e);\n          _this.close();\n        }, false);\n      }\n\n      API.fire(this, 'onShow');\n\n      if (this.options.animation.open === null) {\n        this.promises.show = new _es6Promise2.default(function (resolve) {\n          resolve();\n        });\n      } else if (typeof this.options.animation.open === 'function') {\n        this.promises.show = new _es6Promise2.default(this.options.animation.open.bind(this));\n      } else {\n        Utils.addClass(this.barDom, this.options.animation.open);\n        this.promises.show = new _es6Promise2.default(function (resolve) {\n          Utils.addListener(_this.barDom, Utils.animationEndEvents, function () {\n            Utils.removeClass(_this.barDom, _this.options.animation.open);\n            resolve();\n          });\n        });\n      }\n\n      this.promises.show.then(function () {\n        var _t = _this;\n        setTimeout(function () {\n          API.openFlow(_t);\n        }, 100);\n      });\n\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      API.dequeueClose(this);\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'resume',\n    value: function resume() {\n      API.queueClose(this);\n      return this;\n    }\n\n    /**\n     * @param {int|boolean} ms\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setTimeout',\n    value: function (_setTimeout) {\n      function setTimeout(_x) {\n        return _setTimeout.apply(this, arguments);\n      }\n\n      setTimeout.toString = function () {\n        return _setTimeout.toString();\n      };\n\n      return setTimeout;\n    }(function (ms) {\n      this.stop();\n      this.options.timeout = ms;\n\n      if (this.barDom) {\n        if (this.options.timeout) {\n          Utils.addClass(this.barDom, 'noty_has_timeout');\n        } else {\n          Utils.removeClass(this.barDom, 'noty_has_timeout');\n        }\n\n        var _t = this;\n        setTimeout(function () {\n          // ugly fix for progressbar display bug\n          _t.resume();\n        }, 100);\n      }\n\n      return this;\n    })\n\n    /**\n     * @param {string} html\n     * @param {boolean} optionsOverride\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setText',\n    value: function setText(html) {\n      var optionsOverride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.barDom) {\n        this.barDom.querySelector('.noty_body').innerHTML = html;\n      }\n\n      if (optionsOverride) this.options.text = html;\n\n      return this;\n    }\n\n    /**\n     * @param {string} type\n     * @param {boolean} optionsOverride\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setType',\n    value: function setType(type) {\n      var _this2 = this;\n\n      var optionsOverride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.barDom) {\n        var classList = Utils.classList(this.barDom).split(' ');\n\n        classList.forEach(function (c) {\n          if (c.substring(0, 11) === 'noty_type__') {\n            Utils.removeClass(_this2.barDom, c);\n          }\n        });\n\n        Utils.addClass(this.barDom, 'noty_type__' + type);\n      }\n\n      if (optionsOverride) this.options.type = type;\n\n      return this;\n    }\n\n    /**\n     * @param {string} theme\n     * @param {boolean} optionsOverride\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setTheme',\n    value: function setTheme(theme) {\n      var _this3 = this;\n\n      var optionsOverride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (this.barDom) {\n        var classList = Utils.classList(this.barDom).split(' ');\n\n        classList.forEach(function (c) {\n          if (c.substring(0, 12) === 'noty_theme__') {\n            Utils.removeClass(_this3.barDom, c);\n          }\n        });\n\n        Utils.addClass(this.barDom, 'noty_theme__' + theme);\n      }\n\n      if (optionsOverride) this.options.theme = theme;\n\n      return this;\n    }\n\n    /**\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this4 = this;\n\n      if (this.closed) return this;\n\n      if (!this.shown) {\n        // it's in the queue\n        API.removeFromQueue(this);\n        return this;\n      }\n\n      API.fire(this, 'onClose');\n\n      this.closing = true;\n\n      if (this.options.animation.close === null) {\n        this.promises.close = new _es6Promise2.default(function (resolve) {\n          resolve();\n        });\n      } else if (typeof this.options.animation.close === 'function') {\n        this.promises.close = new _es6Promise2.default(this.options.animation.close.bind(this));\n      } else {\n        Utils.addClass(this.barDom, this.options.animation.close);\n        this.promises.close = new _es6Promise2.default(function (resolve) {\n          Utils.addListener(_this4.barDom, Utils.animationEndEvents, function () {\n            if (_this4.options.force) {\n              Utils.remove(_this4.barDom);\n            } else {\n              API.ghostFix(_this4);\n            }\n            resolve();\n          });\n        });\n      }\n\n      this.promises.close.then(function () {\n        API.closeFlow(_this4);\n        API.handleModalClose(_this4);\n      });\n\n      this.closed = true;\n\n      return this;\n    }\n\n    // API functions\n\n    /**\n     * @param {boolean|string} queueName\n     * @return {Noty}\n     */\n\n  }], [{\n    key: 'closeAll',\n    value: function closeAll() {\n      var queueName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      Object.keys(API.Store).forEach(function (id) {\n        if (queueName) {\n          if (API.Store[id].options.queue === queueName && API.Store[id].killable) {\n            API.Store[id].close();\n          }\n        } else if (API.Store[id].killable) {\n          API.Store[id].close();\n        }\n      });\n      return this;\n    }\n\n    /**\n     * @param {Object} obj\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'overrideDefaults',\n    value: function overrideDefaults(obj) {\n      API.Defaults = Utils.deepExtend({}, API.Defaults, obj);\n      return this;\n    }\n\n    /**\n     * @param {int} amount\n     * @param {string} queueName\n     * @return {Noty}\n     */\n\n  }, {\n    key: 'setMaxVisible',\n    value: function setMaxVisible() {\n      var amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : API.DefaultMaxVisible;\n      var queueName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'global';\n\n      if (!API.Queues.hasOwnProperty(queueName)) {\n        API.Queues[queueName] = { maxVisible: amount, queue: [] };\n      }\n\n      API.Queues[queueName].maxVisible = amount;\n      return this;\n    }\n\n    /**\n     * @param {string} innerHtml\n     * @param {String} classes\n     * @param {Function} cb\n     * @param {Object} attributes\n     * @return {NotyButton}\n     */\n\n  }, {\n    key: 'button',\n    value: function button(innerHtml) {\n      var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var cb = arguments[2];\n      var attributes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n      return new _button.NotyButton(innerHtml, classes, cb, attributes);\n    }\n\n    /**\n     * @return {string}\n     */\n\n  }, {\n    key: 'version',\n    value: function version() {\n      return \"3.1.0\";\n    }\n\n    /**\n     * @param {String} workerPath\n     * @return {Push}\n     */\n\n  }, {\n    key: 'Push',\n    value: function Push(workerPath) {\n      return new _push.Push(workerPath);\n    }\n  }]);\n\n  return Noty;\n}();\n\n// Document visibility change controller\n\n\nexports.default = Noty;\nUtils.visibilityChangeFlow();\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=noty.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/noty/lib/noty.js\n// module id = 9\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 10\n// module chunks = 0","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 11\n// module chunks = 0","import ContainerMain\tfrom './components/containerMain.es6';\nimport {get, setLink}\tfrom './helpers/requests.es6';\nimport GdsSet \t\t\tfrom './modules/gds';\nimport {AREA_LIST, GDS_LIST} from './constants.es6';\n\nlet Container, Gds;\n\nclass Terminal\n{\n\tconstructor( params )\n\t{\n\t\tGds = GdsSet.getList( GDS_LIST, params.settings.gds );\n\n\t\tsetLink( params['commandUrl'] );\n\n\t\tconst { permissions, buffer, openPqModal, requestId } = params;\n\n\t\twindow.TerminalState = new TerminalState({\n\t\t\tcurGds \t\t: Gds[params.settings.common['currentGds'] || 'apollo'],\n\t\t\tpermissions, buffer, openPqModal, requestId\n\t\t});\n\n\t\tContainer = new ContainerMain( params['htmlRootId'] || 'rootTerminal' );\n\t\twindow.TerminalState.change({}, '');\n\t}\n}\n\n\nexport class TerminalState\n{\n\tconstructor( params )\n\t{\n\t\tthis.state = {\n\t\t\tlanguage\t: 'APOLLO',\n\t\t\tfontSize\t: 1,\n\t\t\thideMenu\t: false,\n\t\t\tgdsObj\t\t: params.curGds,\n\t\t\tbuffer\t\t: params.buffer,\n\t\t\trequestId\t: params.requestId\n\t\t};\n\n\t\tthis.permissions\t= params.permissions;\n\t\tthis.openPqModal\t= params.openPqModal;\n\n\t\tthis.buffer = {\n\t\t\tgds : {}\n\t\t};\n\n\t\tif ( params.buffer && params.buffer.gds )\n\t\t\tthis.state.buffer = params.buffer.gds;\n\t}\n\n\tshowPqModal()\n\t{\n\t\treturn this.openPqModal({\n\t\t\tcanCreatePqErrors \t: this.state.gdsObj.canCreatePqErrors,\n\t\t\tonClose\t\t\t\t: () => this.action( 'CLOSE_PQ_WINDOW')\n\t\t})\n\t}\n\n\thasPermissions()\n\t{\n\t\treturn this.permissions;\n\t}\n\n\tgetMatrix()\n\t{\n\t\treturn this.state.gdsObj.matrix;\n\t}\n\n\tgetPcc()\n\t{\n\t\treturn this.state.gdsObj.pcc;\n\t}\n\n\tgetActiveTerminal()\n\t{\n\t\treturn this.state.gdsObj['activeTerminal'];\n\t}\n\n\tclearTerminal()\n\t{\n\t\twindow.activePlugin.purge();\n\t}\n\n\tgetGds()\n\t{\n\t\treturn this.state.gdsObj['name'];\n\t}\n\n\tgetLanguage()\n\t{\n\t\treturn this.state['language'];\n\t}\n\n\tgetAreaIndex()\n\t{\n\t\treturn this.state.gdsObj['sessionIndex'];\n\t}\n\n\tgetSessionAreaMap()\n\t{\n\t\tconst key = this.isGdsApollo() ? 'S': '';\n\t\treturn AREA_LIST.map( char => key + char );\n\t}\n\n\tgetHistory()\n\t{\n\t\treturn get(`terminal/lastCommands?rId=${this.state.requestId}&gds=${this.getGds()}`, false);\n\t}\n\n\tpurgeScreens()\n\t{\n\t\tContainer.purgeScreens( this.getGds() );\n\t\tget(`terminal/clearBuffer`, true);\n\t}\n\n\tswitchTerminals(gds, index, props)\n\t{\n\t\tconst terminal = Container.getTerminal(gds, index, props);\n\n\t\tif (terminal.plugin !== null)\n\t\t\treturn terminal.plugin.terminal.focus();\n\n\t\tterminal.context.click();\n\t}\n\n\texecCmd( commands )\n\t{\n\t\tconst term = this.getActiveTerminal();\n\n\t\tif (term)\n\t\t\tterm.exec( commands );\n\n\t\treturn false;\n\t}\n\n\tgetGdsList()\n\t{\n\t\tconsole.log( Gds );\n\t}\n\n\tisGdsApollo()\n\t{\n\t\treturn this.getGds() === 'apollo';\n\t}\n\n\tisLanguageApollo()\n\t{\n\t\treturn this.getLanguage() === 'APOLLO'; //when time comes uncomment\n\t}\n\n\taction( action, params )\n\t{\n\t\tswitch (action)\n\t\t{\n\t\t\tcase 'CHANGE_GDS':\n\t\t\t\t// save prev gds state\n\t\t\t\tGds[ this.getGds() ] = this.state.gdsObj;\n\n\t\t\t\t// replace gds params = index\n\t\t\t\tthis.change({\n\t\t\t\t\tgds\t\t: params,\n\t\t\t\t\tgdsObj \t: Gds[params]\n\t\t\t\t});\n\t\t\tbreak;\n\n\t\t\tcase 'CHANGE_SESSION_AREA' :\n\t\t\t\tthis.change({\n\t\t\t\t\tgdsObj : Object.assign( {}, this.state.gdsObj, {sessionIndex : params} )\n\t\t\t\t});\n\t\t\tbreak;\n\n\t\t\tcase 'CHANGE_SESSION_BY_MENU' :\n\t\t\t\tconst command\t= this.getSessionAreaMap()[params];\n\t\t\t\tthis.execCmd( [command] );\n\t\t\tbreak;\n\n\t\t\tcase 'CHANGE_MATRIX':\n\t\t\t\tlocalStorage.setItem('matrix', JSON.stringify( params ) );\n\n\t\t\t\tthis.change({\n\t\t\t\t\tgdsObj : Object.assign( {}, this.state.gdsObj, {matrix : params} )\n\t\t\t\t});\n\t\t\tbreak;\n\n\t\t\tcase 'CHANGE_ACTIVE_TERMINAL' :\n\t\t\t\tthis.change({\n\t\t\t\t\tgdsObj : Object.assign( {}, this.state.gdsObj, { activeTerminal : params } )\n\t\t\t\t});\n\t\t\tbreak;\n\n\t\t\tcase 'UPDATE_CUR_GDS' :\n\t\t\t\tconst pcc \t= Object.assign({}, this.state.gdsObj.pcc, { [ params['sessionIndex'] ] : params['lastPcc']} );\n\t\t\t\tconst gds \t= Object.assign({}, this.state.gdsObj, {pcc : pcc});\n\n\t\t\t\tthis.change({ gdsObj : Object.assign( {}, gds, params ) });\n\t\t\tbreak;\n\n\t\t\tcase 'PQ_MODAL_SHOW' :\n\t\t\t\tif (!this.state.gdsObj.canCreatePq)\n\t\t\t\t\treturn false;\n\n\t\t\t\tthis.showPqModal()\n\t\t\t\t\t.then(() => this.change({hideMenu: true}))\n\t\t\t\t\t.catch(() => console.log(' catch !!!') );\n\n\t\t\tbreak;\n\n\t\t\tcase 'CLOSE_PQ_WINDOW' :\n\t\t\t\tthis.change({ hideMenu: false});\n\t\t\tbreak;\n\n\t\t\tcase 'DEV_CMD_STACK_RUN' :\n\t\t\t\tthis.execCmd( params );\n\t\t\t\treturn false;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tchange( params = {} )\n\t{\n\t\tthis.state = Object.assign( {}, this.state, params );\n\n\t\tif (window.location.hash === '#terminalNavBtntab') // fixing bug where terminal freezes if i close pq popup while in other tab\n\t\t{\n\t\t\tContainer.render( this.state );\n\t\t}\n\t}\n}\n\nwindow.terminal = Terminal;\n\nlet resizeTimeout;\n\nwindow.onresize = () => {\n\n\tif (resizeTimeout)\n\t\tclearInterval(resizeTimeout);\n\n\tresizeTimeout = setTimeout( () => window.TerminalState.change(), 50 );\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app.es6","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/theme/main.less\n// module id = 13\n// module chunks = 0","'use strict';\n\nimport Matrix \tfrom './popovers/terminalMatrix.es6';\nimport Component from '../modules/component';\nimport Dom from '../helpers/dom';\n\nexport default class ActionsMenu extends Component{\n// export default class ActionsMenu{\n\n\tconstructor()\n\t{\n\t\tsuper('div.actions-btn-menu');\n\n\t\t// this.context =  Dom('div.actions-btn-menu');\n\n\t\tconst matrix =  new Matrix({\n\t\t\ticon\t\t: '<i class=\"fa fa-th-large\"></i>',\n\t\t\t// onSelect\t: value => { window.TerminalState.change({fontSize : value}) }\n\t\t}).getTrigger();\n\n\t\tmatrix.className = 'btn btn-purple';\n\n\t\tthis.context.appendChild( matrix );\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/actionsMenu.es6","'use strict';\n\nimport ActionsMenu \t\tfrom './actionsMenu';\nimport MenuPanel \t\tfrom './menuPanel';\nimport TerminalMatrix \tfrom './terminalMatrix';\nimport Component \t\tfrom '../modules/component';\n\nclass RightSide extends Component\n{\n\tconstructor()\n\t{\n\t\tsuper('aside.t-d-cell menu');\n\t\tthis.observe( new MenuPanel() );\n\t}\n\n\t_renderer()\n\t{\n\t\tthis.context.classList.toggle('hidden', this.props.hideMenu );\n\t}\n}\n\nlet matrix;\n\nclass Wrapper extends Component\n{\n\tconstructor()\n\t{\n\t\tsuper('div.term-body minimized');\n\n\t\tmatrix \t\t\t= new TerminalMatrix();\n\n\t\tconst leftSide \t= new Component('aside.t-d-cell left');\n\t\tconst rightSide = new RightSide();\n\n\t\tthis\n\t\t\t.append( leftSide )\n\t\t\t.append( rightSide );\n\n\t\tthis.addToObserve( rightSide );\n\t\tthis.addToObserve( leftSide );\n\n\t\tleftSide\n\t\t\t.observe( matrix )\n\t\t\t.observe( new ActionsMenu() );\n\t}\n\n\t_renderer()\n\t{\n\t\tconst gds = this.props.gds;\n\n\t\tif ( this.gds !== gds )\n\t\t{\n\t\t\tthis.gds \t\t\t\t= gds;\n\t\t\tthis.context.className = `term-body minimized ${gds}`; // change gds styles\n\t\t}\n\t}\n}\n\nexport default class Container extends Component {\n\n\tconstructor( rootId )\n\t{\n\t\tsuper('section');\n\n\t\tthis.observe( new Wrapper() );\n\n\t\tdocument.getElementById( rootId ).appendChild( this.getContext() );\n\t}\n\n\tpurgeScreens( gds )\n\t{\n\t\tmatrix.purgeScreens( gds );\n\t}\n\n\tgetTerminal(gds, index, props)\n\t{\n\t\treturn matrix.getTerminal(gds, index, props);\n\t}\n\n\t_renderer()\n\t{\n\t\tconst params = this.props;\n\n\t\tthis.context.className \t= 'terminal-wrap-custom term-f-size-' + params.fontSize;\n\n\t\tthis.props = {\n\t\t\thideMenu\t\t: params.hideMenu,\n\t\t\tgds \t\t\t: params.gdsObj['name'],\n\t\t\tcanCreatePq \t: params.gdsObj.canCreatePq,\n\t\t\tsessionIndex  \t: params.gdsObj.sessionIndex,\n\t\t\tactiveTerminal \t: params.gdsObj.activeTerminal,\n\t\t\tcellMatrix\t\t: params.gdsObj.matrix,\n\t\t\tcontainerWidth\t: this.context.clientWidth,\n\t\t\tbuffer\t\t\t: params.buffer\n\t\t};\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/containerMain.es6","import Dom\tfrom '../../helpers/dom.es6';\nimport ButtonPopOver\tfrom '../../modules/buttonPopover.es6';\n\nconst STORAGE_KEY = 'dedTerminalBufCmd';\n\n// import Terminal\t\tfrom '../../modules/terminal.es6';\nimport FullScreen\tfrom '../../modules/fullscreen.es6';\n\nclass CommandsBuffer extends ButtonPopOver\n{\n\tconstructor( params )\n\t{\n\t\tsuper( params );\n\n\t\tthis.settings.onOpen = () => this.area.focus();\n\t\tthis.makeTrigger();\n\t}\n\n\tbuild()\n\t{\n\t\tconst cmd = JSON.parse( window.localStorage.getItem(STORAGE_KEY) ) || [];\n\n\t\tconst area \t\t= Dom(`textarea.form-control`);\n\t\tconst btn \t\t= Dom('button.btn btn-sm btn-primary btn-block m-t font-bold');\n\t\tbtn.innerHTML\t= 'Run';\n\n\t\tarea.value = cmd.join(\"\\n\");\n\n\t\tarea.rows \t= 15;\n\t\tarea.cols \t= 20;\n\n\t\tbtn.onclick \t= () => {\n\t\t\tconst cmd = area.value.trim().split(/\\s+/);\n\n\t\t\twindow.localStorage.setItem(STORAGE_KEY, JSON.stringify(cmd));\n\t\t\twindow.TerminalState.action('DEV_CMD_STACK_RUN', cmd);\n\n\t\t\tthis.popover.close();\n\t\t};\n\n\t\tthis.popContent.appendChild( area );\n\t\tthis.popContent.appendChild( btn );\n\n\t\tthis.area = area;\n\t}\n}\n\nexport default class DevButtons\n{\n\tconstructor()\n\t{\n\t\tthis.context = Dom('div');\n\t\tthis.context.appendChild ( this.AddPqMacros() );\n\t\tthis.context.appendChild ( this.commandsBuffer() );\n\t\tthis.context.appendChild ( this.fullScreen() );\n\t}\n\n\tAddPqMacros()\n\t{\n\t\tthis.macros \t\t\t= Dom('span.btn btn-primary font-bold');\n\t\tthis.macros.innerHTML \t= 'Test pq';\n\t\tthis.macros.onclick \t= () => {\n\t\t\twindow.TerminalState.action('DEV_CMD_STACK_RUN', ['A/V/13SEPSEAMNL+DL', '01k1*', '*R', '$BN1+2*C09+3*inf']);\n\t\t\t// window.TerminalState.action('DEV_CMD_STACK_RUN', ['A10JUNKIVRIX', '01Y1Y2', '$B']);\n\t\t};\n\n\t\treturn this.macros;\n\t}\n\n\tcommandsBuffer()\n\t{\n\t\treturn this.commandsBuffer = new CommandsBuffer({\n\t\t\ticon : `<span>Dev Buf</span>`\n\t\t}).getTrigger();\n\t}\n\n\tfullScreen()\n\t{\n\t\tthis.macros \t\t\t= Dom('span.btn btn-primary font-bold');\n\t\tthis.macros.innerHTML \t= 'Full';\n\t\tthis.macros.onclick \t= () => FullScreen.show();\n\n\t\treturn this.macros;\n\t}\n\n\tgetContext()\n\t{\n\t\treturn this.context;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu/devButtons.es6","let button;\n\nexport default class PqButton\n{\n\tstatic makeButton()\n\t{\n\t\tconst button \t\t= document.createElement('button');\n\t\tbutton.className\t= 'btn btn-sm btn-mozilla font-bold';\n\t\tbutton.innerHTML\t= 'PQ';\n\n\t\tbutton.onclick = () => window.TerminalState.action('PQ_MODAL_SHOW', {});\n\n\t\treturn button;\n\t}\n\n\tstatic render( { canCreatePq } )\n\t{\n\t\tbutton \t\t\t= button || this.makeButton();\n\t\tbutton.disabled = !canCreatePq;\n\t\treturn button;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu/pqButton.es6","import Dom\tfrom '../../helpers/dom.es6';\n\nexport default class SessionKeys\n{\n\tconstructor( params )\n\t{\n\t\tthis.context \t= Dom('div');\n\t\tthis.settings \t= params;\n\t\tthis.collection\t= [];\n\t\tthis.trigger\t= [];\n\t\tthis.active\t\t= params.name === params.gds;\n\t}\n\n\tgetButtons()\n\t{\n\t\treturn this.settings.list.map( this.makeButton, this );\n\t}\n\n\tmakeButton(value, index)\n\t{\n\t\tconst pcc \t\t= window.TerminalState.getPcc()[index];\n\t\tconst isActive \t= this.settings.sessionIndex === index;\n\n\t\tconst button \t\t= Dom(`button.btn btn-sm btn-purple font-bold pos-rlt ${isActive ? 'active' : ''}`);\n\t\tbutton.innerHTML\t= value + ( pcc ? `<span class=\"pcc-label\">${pcc}</span>` : '');\n\n\t\tbutton.disabled \t= !this.settings.activeTerminal || isActive;\n\n\t\tbutton.addEventListener('click', () => {\n\t\t\tbutton.disabled = true;\n\t\t\tthis.settings.onAreaChange( index );\n\t\t});\n\n\t\treturn button;\n\t}\n\n\tgetTrigger()\n\t{\n\t\tthis.trigger \t\t\t= Dom('button.btn btn-sm btn-mint font-bold' + ( this.active ? ' active' : '' ));\n\t\tthis.trigger.innerHTML\t= this.settings['name'];\n\n\t\tif (!this.active)\n\t\t\tthis.trigger.addEventListener('click', () => this.settings.onGdsChange( this.settings['name'] ) );\n\n\t\treturn this.trigger;\n\t}\n\n\trender()\n\t{\n\t\tthis.context.appendChild( this.getTrigger() );\n\n\t\tif (this.active)\n\t\t\tthis.collection = this.getButtons().map( button => this.context.appendChild( button ) );\n\n\t\treturn this.context;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu/sessionButtons.es6","'use strict';\n\nimport Theme \t\t\tfrom './popovers/theme.es6';\nimport History \t\t\tfrom './popovers/history.es6';\nimport TextSize \t\tfrom './popovers/textSize.es6';\nimport Settings \t\tfrom './popovers/settings.es6';\nimport SessionButtons\tfrom './menu/sessionButtons.es6';\nimport PqButton\t\t\tfrom './menu/pqButton.es6';\nimport DevButtons\t\tfrom './menu/devButtons.es6';\nimport Dom\t\t\t\tfrom '../helpers/dom.es6';\nimport Component\t\tfrom '../modules/component';\nimport GdsSet \t\t\tfrom '../modules/gds';\nimport {cookieGet, cookieSet} \t\tfrom '../helpers/cookie';\n\nconst agentId\t\t= apiData.auth.id;\nlet oldThemeClass\t= cookieGet('terminalTheme_' + agentId) || 'terminaltheme_' + apiData['terminalThemes'][0]['id'];\n\nclass SettingsButtons extends Component\n{\n\tconstructor()\n\t{\n\t\tsuper('article');\n\t\tthis.children().map( element => this.context.appendChild( element ) );\n\t}\n\n\tchildren()\n\t{\n\t\tconst theme \t= new Theme({\n\t\t\ticon\t\t: '<i class=\"fa fa-paint-brush t-f-size-14\"></i>',\n\t\t\tonSelect\t: value => {\n\t\t\t\tconst terminalContext\t= document.getElementById('terminalContext');\n\t\t\t\tconst newThemeClass\t\t= 'terminaltheme_' + value.id;\n\n\t\t\t\tterminalContext.classList.remove(oldThemeClass);\n\t\t\t\tterminalContext.classList.add(newThemeClass);\n\n\t\t\t\toldThemeClass = newThemeClass;\n\n\t\t\t\tcookieSet('terminalTheme_' + agentId, newThemeClass, 30)\n\t\t\t}\n\t\t}).getTrigger();\n\n\t\tconst textSize \t= new TextSize({\n\t\t\ticon\t\t: '<i class=\"fa fa-text-height t-f-size-14\"></i>',\n\t\t\tonSelect\t: value => { window.TerminalState.change({fontSize : value}) }\n\t\t}).getTrigger();\n\n\t\tconst history\t= new History({\n\t\t\ticon\t\t\t: '<i class=\"fa fa-history t-f-size-14\"></i>',\n\t\t\taskServer\t\t: ()\t=> window.TerminalState.getHistory(),\n\t\t\tonHistorySelect\t: value => window.TerminalState.execCmd( value )\n\t\t}).getTrigger();\n\n\t\t/*const settings\t= new Settings({\n\t\t\ticon\t\t: '<i class=\"fa fa-gears t-f-size-14\"></i>'\n\t\t}).getTrigger();*/\n\n\t\treturn [theme, textSize, history];\n\t}\n}\n\nclass GdsAreas extends Component\n{\n\tconstructor()\n\t{\n\t\tsuper('article');\n\t}\n\n\t_renderer()\n\t{\n\t\tthis.context.innerHTML = '';\n\n\t\tconst { gds, sessionIndex, activeTerminal } = this.props;\n\n\t\tconst defParams \t\t= { gds, sessionIndex, activeTerminal };\n\t\tdefParams.onAreaChange \t= sessionIndex => window.TerminalState.action('CHANGE_SESSION_BY_MENU', sessionIndex);\n\t\tdefParams.onGdsChange \t= gds => window.TerminalState.action('CHANGE_GDS', gds);\n\n\t\tconst areas = GdsSet.getAreas(defParams);\n\n\t\tareas.map( areasPerGds => this.context.appendChild(\n\t\t\tnew SessionButtons(areasPerGds).render()\n\t\t));\n\t}\n}\n\nclass LanguageButtons extends Component {\n\n\tconstructor()\n\t{\n\t\tsuper('article');\n\t}\n\n\t_renderer()\n\t{\n\t\tthis.context.innerHTML = '';\n\n\t\tconst list = ['APOLLO','SABRE', 'AMADEUS'];\n\n\t\tlist.forEach( value => {\n\n\t\t\tconst button = Dom('button.btn btn-sm btn-gold font-bold' + ( window.TerminalState.getLanguage() === value ? ' active' : '') );\n\n\t\t\tbutton.innerHTML = value;\n\t\t\tbutton.addEventListener('click', () => window.TerminalState.change({ language : value }) );\n\n\t\t\tthis.context.appendChild( button );\n\t\t});\n\t}\n}\n\nclass PriceQuote extends Component {\n\n\tconstructor()\n\t{\n\t\tsuper('article');\n\t}\n\n\t_renderer()\n\t{\n\t\tthis.context.appendChild( PqButton.render( this.props ) )\n\t}\n}\n\nclass TestsButtons extends Component {\n\n\tconstructor()\n\t{\n\t\tsuper('article');\n\t\tthis.context.appendChild( new DevButtons().getContext() );\n\t}\n}\n\nexport default class MenuPanel extends Component\n{\n\tconstructor()\n\t{\n\t\tsuper('aside.sideMenu');\n\n\t\tthis.observe( new SettingsButtons() );\n\n\t\tthis.attach( Dom('span.label[Session]') );\n\t\tthis.observe( new GdsAreas() );\n\n\t\tthis.attach( Dom('span.label[Input Language]') );\n\t\tthis.observe( new LanguageButtons() );\n\n\t\tthis.observe( new PriceQuote() );\n\n\t\tif ( window.TerminalState.hasPermissions() )\n\t\t\tthis.observe( new TestsButtons() );\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/menuPanel.es6","'use strict';\n\n// import Request\t\t\tfrom '../../helpers/requests.es6';\nimport Dom \t\t\t\tfrom '../../helpers/dom.es6';\nimport ButtonPopOver\tfrom '../../modules/buttonPopover.es6';\n\nlet buffer = [];\n\nclass History extends ButtonPopOver\n{\n\tconstructor( params )\n\t{\n\t\tsuper( params );\n\n\t\tthis.popContent = Dom('div.historyContext');\n\t\tconst btn \t\t= this.makeTrigger();\n\n\t\tbtn.addEventListener( 'click', this.askServer.bind(this) );\n\t}\n\n\tmakeLi( value )\n\t{\n\t\tconst cb \t= Dom('input');\n\t\tcb.type \t= 'checkbox';\n\t\tcb.onclick\t= () => buffer.push( value );\n\n\t\tconst el \t= Dom(`a.t-pointer[${value}]`);\n\t\tel.onclick \t= () => cb.click();\n\n\t\tconst li = Dom('li.m-b-xs');\n\t\tli.appendChild( cb );\n\t\tli.appendChild( el );\n\n\t\tthis.list.appendChild( li );\n\t}\n\n\tmakeLaunchBtn()\n\t{\n\t\tconst el \t\t= Dom('button.btn btn-sm btn-purple font-bold btn-block m-t ');\n\t\tel.innerHTML \t= 'Perform';\n\n\t\tel.onclick \t\t= this.settings.onHistorySelect.bind(null, buffer);\n\t\tel.addEventListener('click', () => this.popover.close() );\n\n\t\tthis.popContent.appendChild( el );\n\t}\n\n\tmakeBody( response )\n\t{\n\t\tthis.list\t\t= Dom('ul.list');\n\t\tresponse.data.map( this.makeLi, this );\n\t\tthis.popContent.appendChild( this.list );\n\t}\n\n\tfinalize()\n\t{\n\t\tthis.list.scrollTop  = this.popContent.scrollHeight;\n\t}\n\n\taskServer()\n\t{\n\t\tbuffer \t\t\t\t\t\t= [];\n\t\tthis.popContent.innerHTML \t= '';\n\n\t\tthis.settings.askServer()\n\t\t\t.then( this.makeBody.bind(this) )\n\t\t\t.then( this.makeLaunchBtn.bind(this) )\n\t\t\t.then( this.finalize.bind(this) )\n\t}\n\n\tbuild()\n\t{\n\t\treturn false;\n\t}\n}\n\nexport default History;\n\n\n// WEBPACK FOOTER //\n// ./src/components/popovers/history.es6","'use strict';\n\nimport Dom \t\t\t\tfrom '../../helpers/dom.es6';\nimport ButtonPopOver\tfrom '../../modules/buttonPopover.es6';\n\nexport default class Settings extends ButtonPopOver\n{\n\tconstructor( params )\n\t{\n\t\tsuper( params );\n\n\t\t// this.popContent = Dom('div');\n\t\tthis.makeTrigger();\n\n\t\tthis.popContent.innerHTML = '<div class=\"wrapper\"> In Development </div>';\n\t}\n\n\t// build()\n\t// {\n\t// \tRequest.get('', true).then( ( response = ['No History'] ) => {\n\t// \t});\n\t// }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/popovers/settings.es6","'use strict';\n\nimport Dom \t\t\t \tfrom '../../helpers/dom.es6';\nimport ButtonPopOver\tfrom '../../modules/buttonPopover.es6';\n\nlet cellObj = [];\n\nconst ACTIVE_CLASS = 'bg-purple';\n\nexport default class Matrix extends ButtonPopOver\n{\n\tconstructor( params )\n\t{\n\t\tsuper( params );\n\n\t\tthis.popContent = Dom('table.matrix-table');\n\t\tthis.makeTrigger();\n\t}\n\n\tbuild()\n\t{\n\t\t[0, 1, 2, 3]\n\t\t\t.map( this._rows )\n\t\t\t.map( this._cells, this )\n\t\t\t.map( this._toTable, this );\n\t}\n\n\t_rows()\n\t{\n\t\tcellObj.push([]);\n\t\treturn document.createElement('tr');\n\t}\n\n\t_cells( row, rIndex )\n\t{\n\t\t[0, 1, 2, 3].map( cIndex => row.appendChild( this._cell( rIndex, cIndex) ) );\n\t\treturn row;\n\t}\n\n\t_cell( rIndex, cIndex)\n\t{\n\t\tconst cell = document.createElement('td');\n\n\t\tcellObj[rIndex].push(cell);\n\n\t\tcell.addEventListener( 'click', () => {\n\t\t\tthis.popover.close();\n\n\t\t\twindow.TerminalState.action( 'CHANGE_MATRIX', {\n\t\t\t\trows \t: rIndex,\n\t\t\t\tcells\t: cIndex\n\t\t\t});\n\t\t});\n\n\t\tcell.addEventListener('mouseover', () => {\n\n\t\t\tfor ( let i = 0; i <= rIndex; i++ )\n\t\t\t{\n\t\t\t\tcellObj[i].slice(0, cIndex + 1 ).forEach( cell => cell.classList.toggle(ACTIVE_CLASS) )\n\t\t\t}\n\n\t\t});\n\n\t\tcell.addEventListener('mouseleave', () => {\n\t\t\t[].forEach.call( this.popContent.querySelectorAll( '.' + ACTIVE_CLASS) , cell => cell.classList.toggle(ACTIVE_CLASS) );\n\t\t});\n\n\t\treturn cell;\n\t}\n\n\t_toTable( row )\n\t{\n\t\tthis.popContent.appendChild( row );\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/popovers/terminalMatrix.es6","'use strict';\n\nimport Dom \t\t\t from '../../helpers/dom.es6';\nimport ButtonPopOver from '../../modules/buttonPopover.es6';\n\nclass TextSize extends ButtonPopOver\n{\n\tconstructor( params )\n\t{\n\t\tsuper( params );\n\t\tthis.makeTrigger();\n\t}\n\n\tbuild( list )\n\t{\n\t\t[ '1', '2', '3', '4'].forEach( value => {\n\n\t\t\tconst button \t\t= Dom('button.list-group-item');\n\t\t\tbutton.innerHTML\t= value + 'x';\n\n\t\t\tbutton.addEventListener('click', () => {\n\t\t\t\tthis.popover.close();\n\t\t\t\tthis.settings.onSelect( value );\n\t\t\t});\n\n\t\t\tthis.popContent.appendChild( button );\n\t\t})\n\t}\n}\n\nexport default TextSize;\n\n\n// WEBPACK FOOTER //\n// ./src/components/popovers/textSize.es6","'use strict';\n\nimport Dom \t\t\t from '../../helpers/dom.es6';\nimport ButtonPopOver from '../../modules/buttonPopover.es6';\n\nclass Theme extends ButtonPopOver\n{\n\tconstructor( params )\n\t{\n\t\tsuper( params );\n\t\tthis.makeTrigger();\n\t}\n\n\tbuild()\n\t{\n\t\tconst themeList = window.apiData['terminalThemes'];\n\n\t\tif (themeList.length)\n\t\t{\n\t\t\tthemeList.map( value => {\n\n\t\t\t\tconst button \t\t= Dom('button.list-group-item');\n\t\t\t\tbutton.innerHTML\t= value.label;\n\n\t\t\t\tbutton.addEventListener('click', () => {\n\t\t\t\t\tthis.popover.close();\n\t\t\t\t\tthis.settings.onSelect( value );\n\t\t\t\t});\n\n\t\t\t\tthis.popContent.appendChild( button );\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport default Theme;\n\n\n// WEBPACK FOOTER //\n// ./src/components/popovers/theme.es6","import Dom\t\t\tfrom '../helpers/dom.es6';\nimport Terminal \tfrom '../modules/terminal.es6';\nimport Component \tfrom '../modules/component.es6';\n\nconst gdsSession\t= [];\nconst stringify \t= JSON.stringify;\nlet cells = [];\n\nclass DimensionCalculator\n{\n\tconstructor( context )\n\t{\n\t\tthis.context = context;\n\t}\n\n\tcalculate(rowCount, cellCount)\n\t{\n\t\treturn {\n\t\t\theight\t\t: Math.floor(this.context.clientHeight / rowCount),\n\t\t\twidth \t\t: Math.floor(this.context.clientWidth / cellCount),\n\t\t\tchar\t\t: this.getLineHeight()\n\t\t}\n\t}\n\n\tgetLineHeight()\n\t{\n\t\tconst  { width, height }\t= ( this.cursor || this.getCursor() ).getBoundingClientRect();\n\t\treturn { width, height };\n\t}\n\n\tgetCursor()\n\t{\n\t\tconst tempCmd \t\t= Dom('div.terminal temp-terminal');\n\t\tthis.context.appendChild( tempCmd );\n\t\ttempCmd.innerHTML \t= '<div class=\"cmd\"><span class=\"cursor\">&nbsp;</span></div>';\n\n\t\treturn this.cursor\t= tempCmd.querySelector('.cursor');\n\t}\n}\n\nclass TerminalsMatrix extends Component\n{\n\tconstructor()\n\t{\n\t\tsuper('table.terminals-table');\n\t}\n\n\tclear()\n\t{\n\t\tthis.context.innerHTML = '';\n\t\treturn this;\n\t}\n\n\tgetSizes()\n\t{\n\t\treturn this.sizer = this.sizer || new DimensionCalculator( this.getContext().parentNode );\n\t}\n\n\tmakeCells(rowCount,  cellCount)\n\t{\n\t\tconst makeRow \t= () => {\n\t\t\tconst row = Dom('tr');\n\t\t\tthis.context.appendChild( row );\n\t\t\treturn row;\n\t\t};\n\n\t\tconst makeCells = row => {\n\t\t\treturn [ ...new Array(cellCount) ]\n\t\t\t\t.map( () => {\n\t\t\t\t\tconst cell = Dom('td.terminal-cell .v-middle');\n\t\t\t\t\trow.appendChild(cell);\n\t\t\t\t\treturn cell;\n\t\t\t\t});\n\t\t};\n\n\t\treturn [].concat.apply( [], [ ...new Array(rowCount) ].map( makeRow ).map( makeCells ) );\n\t}\n\n\tpurgeScreens( gds )\n\t{\n\t\tgdsSession[ gds ].forEach( terminal => terminal.clear() );\n\t}\n\n\tgetTerminal(gds, index, props)\n\t{\n\t\treturn gdsSession[gds][index] = gdsSession[gds][index] || new Terminal( props );\n\t}\n\n\trenderIsNeeded( state )\n\t{\n\t\tif (!this.state)\n\t\t\treturn true;\n\n\t\treturn stringify(state) !== stringify(this.state);\n\t}\n\n\t_renderer()\n\t{\n\t\tconst params \t= this.props;\n\n\t\tconst rowCount \t= params.cellMatrix.rows \t+ 1;\n\t\tconst cellCount = params.cellMatrix.cells \t+ 1;\n\n\t\tgdsSession[ params.gds ] = gdsSession[ params.gds ] || [];\n\n\t\tconst state = {\n\t\t\tgds\t\t\t: params.gds,\n\t\t\tdimensions \t: this.getSizes().calculate(rowCount, cellCount),\n\t\t\twrapWidth\t: params.containerWidth,\n\t\t\thideMenu\t: params.hideMenu\n\t\t};\n\n\t\tconst needToRender = this.renderIsNeeded( state );\n\n\t\tif ( needToRender )\n\t\t{\n\t\t\tthis.context.innerHTML \t= '';\n\t\t\tthis.context.className \t= 't-matrix-w-' + ( cellCount - 1 );\n\n\t\t\tthis.state = state;\n\n\t\t\tcells = this.makeCells( rowCount, cellCount );\n\n\t\t\tcells.forEach( ( cell, index ) => {\n\n\t\t\t\tconst props = {\n\t\t\t\t\tname \t\t\t: index,\n\t\t\t\t\tsessionIndex\t: params.sessionIndex,\n\t\t\t\t\tgds\t\t\t\t: params.gds, // need for session\n\t\t\t\t\tbuffer\t\t\t: params.buffer && params.buffer[params.gds] ? params.buffer[params.gds]['terminals'][index + 1] : ''\n\t\t\t\t};\n\n\t\t\t\tthis.getTerminal( params.gds, index, props )\n\t\t\t\t\t.reattach( cell, this.getSizes().calculate(rowCount, cellCount) ); //sometimes calculate doesn't get actual parent context dimensions\n\t\t\t});\n\t\t}\n\n\t\tcells.forEach( (cell, index) => {\n\t\t\tconst isActive = params.activeTerminal && index === params.activeTerminal.name();\n\t\t\tcell.classList.toggle('activeWindow', isActive);\n\t\t});\n\t}\n}\n\nexport default TerminalsMatrix\n\n\n// WEBPACK FOOTER //\n// ./src/components/terminalMatrix.es6","'use strict';\n\nimport {currDate} \tfrom './helpers.es6';\n\n/*window.addEventListener(\"beforeunload\", function (e) {\n\tlet confirmationMessage = \"TEST\";\n\t(e || window.event).returnValue = confirmationMessage; //Gecko + IE\n\treturn confirmationMessage;                            //Webkit, Safari, Chrome\n});*/\n\n\nexport default class KeyBinding\n{\n\tstatic parse(evt, terminal, plugin)\n\t{\n\t\tconst keymap \t= evt.keyCode || evt.which;\n\t\tconst isApollo\t= window.TerminalState.isGdsApollo();\n\t\tconst gds\t\t= window.TerminalState.getGds();\n\n\t\tlet cmd\t\t\t= '';\n\n\t\t// if ( keymap === 13 )\n\t\t// \treturn false;\n\n\t\t// console.log(keymap);\n\t\t// evt.preventDefault();\n\t\t// evt.stopPropagation();\n\n\t\tif ( evt.ctrlKey || evt.metaKey )\n\t\t{\n\t\t\tswitch (keymap)\n\t\t\t{\n\t\t\t\tcase 8: //  CTRL + backSpace; || CTRL + S\n\t\t\t\t// case 83:\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t//terminal.clear();\n\t\t\t\t\twindow.TerminalState.purgeScreens();\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 87: //\tCTRL+W\n\t\t\t\t\twindow.TerminalState.clearTerminal();\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 68 : // CTRL+D\n\t\t\t\t\t// window.TerminalState.clearTerminal();\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 76 : // CTRL+L\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 82 : // CTRL+R\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 120 :\n\t\t\t\t\t// F9\n\t\t\t\t\t// Template for Apollo: :5S(paxOrder) (sellPrice) N1 (netPrice) F1 (fareAmount)\n\t\t\t\t\t// Example for Apollo: :5S1 985.00 N1 720.00 F1 500.00\n\t\t\t\t\t// Template for Sabre: 5S(paxOrder) (sellPrice) N1 (netPrice) F1 (fareAmount)\n\t\t\t\t\t// Example for Sabre: 5S1 985.00 N1 720.00 F1 500.00\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tconsole.log('F9');\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 38 : // Up arrow\n\t\t\t\t\t// Last performed format\n\n\t\t\t\t\tplugin.history.previous().then( command => {\n\t\t\t\t\t\tterminal.cmd().set( command );\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 40 : // down arrow\n\t\t\t\t\t//Next performed format, by default returns to the first format and than each one by one.\n\n\t\t\t\t\tplugin.history.next().then( command => {\n\t\t\t\t\t\tterminal.cmd().set( command );\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 112 :\t// f1\n\t\t\t\t\tswitch (gds)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 'apollo':\n\t\t\t\t\t\t\tcmd = 'S*CTY/';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'amadeus':\n\t\t\t\t\t\t\tcmd = 'DAC';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcmd = 'W/*'\n\t\t\t\t\t}\n\n\t\t\t\t\tterminal.insert( cmd );\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 113 :\n\t\t\t\t\t// f2\n\t\t\t\t\t// Apollo template: S*AIR/(Airline Code)\n\t\t\t\t\t// Apollo example: S*AIR/RIX\n\t\t\t\t\t// Sabre template: W/*(Airline Code)\n\t\t\t\t\t // Sabre example: W/*BT\n\n\t\t\t\t\tswitch (gds)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 'apollo':\n\t\t\t\t\t\t\tcmd = 'S*AIR/';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'amadeus':\n\t\t\t\t\t\t\tcmd = 'DNA';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcmd = 'W/*'\n\t\t\t\t\t}\n\n\t\t\t\t\tterminal.insert( cmd );\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\n\t\t\t\t// disabling these keys from terminal library to execute\n\t\t\t\t// these keys are used in terminalKeydown()\n\t\t\t\tcase 192 :\t// Ctrl + ~\n\t\t\t\tcase 48 :\t// Ctrl + 0\n\t\t\t\tcase 49 :\t// Ctrl + 1\n\t\t\t\tcase 50 :\t// Ctrl + 2\n\t\t\t\tcase 51 :\t// Ctrl + 3\n\t\t\t\tcase 52 :\t// Ctrl + 4\n\t\t\t\tcase 53 :\t// Ctrl + 5\n\t\t\t\tcase 54 :\t// Ctrl + 6\n\t\t\t\tcase 55 :\t// Ctrl + 7\n\t\t\t\tcase 56 :\t// Ctrl + 8\n\t\t\t\tcase 57 :\t// Ctrl + 9\n\t\t\t\t\treturn false;\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(' default ');\n\t\t\t}\n\t\t}\n\n\t\tif ( evt.shiftKey )\n\t\t{\n\t\t\tswitch (keymap)\n\t\t\t{\n\t\t\t\tcase 120 : //f9\n\t\t\t\t\tswitch (gds)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 'apollo':\n\t\t\t\t\t\t\tcmd = 'P:SFOAS/800-750-2238 ASAP CUSTOMER SUPPORT';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'amadeus':\n\t\t\t\t\t\t\tcmd = 'AP SFO 800-750-2238-A';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcmd = '91-800-750-2238-A';\n\t\t\t\t\t}\n\n\t\t\t\t\tterminal.exec(cmd);\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 116 : //F5\n\t\t\t\t\tswitch (gds)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 'apollo':\n\t\t\t\t\t\t\tcmd = 'SEM/2G52/AG';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcmd = 'AAA5E9H';\n\t\t\t\t\t}\n\n\t\t\t\t\tterminal.exec(cmd);\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 117: //F6\n\t\t\t\t\tterminal.exec(isApollo ? 'SEM/2G55/AG' : 'AAA6IIF');\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 118: //F7\n\t\t\t\t\tterminal.exec(isApollo ? 'SEM/2G2H/AG' : 'AAADK8H');\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 119: //F8\n\t\t\t\t\tterminal.exec(isApollo ? 'SEM/2BQ6/AG' : 'AAAW8K7');\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 187: //+\n\t\t\t\tcase 61 : //+ FireFox\n\t\t\t\tcase 188: //,\n\t\t\t\t\tterminal.insert('+');\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\n\t\t\t\t// disabling key from terminal library to execute\n\t\t\t\t// key is used in terminalKeydown()\n\t\t\t\tcase 192 :\t// Shift + ~\n\t\t\t\t\treturn false;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault :\n\t\t\t}\n\t\t}\n\n\t\tif ( evt.altKey )\n\t\t{\n\t\t\tswitch (keymap)\n\t\t\t{\n\t\t\t\tcase 8: // + backSpace;\n\t\t\t\t\tterminal.clear();\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 38 : // Up arrow\n\t\t\t\t\t// Last performed format\n\t\t\t\t\tplugin.history.previous().then( command => {\n\t\t\t\t\t\tterminal.cmd().set( command );\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tcase 40 : // down arrow\n\t\t\t\t\t//Next performed format, by default returns to the first format and than each one by one.\n\n\t\t\t\t\tplugin.history.next().then( command => {\n\t\t\t\t\t\tterminal.cmd().set( command );\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\tbreak;\n\n\t\t\t\tdefault :\n\t\t\t}\n\t\t}\n\n\t\tswitch (keymap)\n\t\t{\n\t\t\tcase 59\t: // ; firefox\n\t\t\tcase 186: // ; all other browsers\n\n\t\t\t\tif (!isApollo)\n\t\t\t\t{\n\t\t\t\t\t// terminal.cmd().delete(-1);\n\t\t\t\t\t// return false;\n\t\t\t\t}\n\n\t\t\tbreak;\n\n\t\t\tcase 34 : // page down\n\t\t\tcase 33 : //page up\n\n\t\t\t\tlet cmdA = keymap === 33 ? 'MU' : 'MD';\n\n\t\t\t\tif (plugin.lastCommand && plugin.lastCommand.toLowerCase() === '$bba')\n\t\t\t\t{\n\t\t\t\t\t\tterminal.exec(cmdA);\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (isApollo && plugin.lastCommand && plugin.lastCommand.substr(0, 2).toLowerCase() === '$b')\n\t\t\t\t{\n\t\t\t\t} else\n\t\t\t\t{\n\t\t\t\t\tterminal.exec(cmdA);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\tbreak;\n\n\t\t\tcase 38 : //UP\n\n\t\t\t\tplugin.history.previous().then( command => {\n\t\t\t\t\tterminal.cmd().set( command );\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\tbreak;\n\n\t\t\tcase 40 : //DOWN\n\t\t\t\tplugin.history.next().then( command => {\n\t\t\t\t\tterminal.cmd().set( command );\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\tbreak;\n\n\t\t\tcase 122 :\n\t\t\t\t// console.log('f11');\n\t\t\t\tconst d = currDate();\n\n\t\t\t\tswitch (gds)\n\t\t\t\t{\n\t\t\t\t\tcase 'apollo':\n\t\t\t\t\t\tcmd = 'T:TAU/';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'amadeus':\n\t\t\t\t\t\tcmd = 'TKTL';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcmd = '7TAW/'\n\t\t\t\t}\n\n\t\t\t\tterminal.exec(  cmd + d );\n\t\t\t\treturn false;\n\t\t\tbreak;\n\n\t\t\tcase 123 :\n\t\t\t\t// console.log('f12');\n\t\t\t\tswitch (gds)\n\t\t\t\t{\n\t\t\t\t\tcase 'apollo':\n\t\t\t\t\t\tcmd = 'R:';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'amadeus':\n\t\t\t\t\t\tcmd = 'RF';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcmd = '6'\n\t\t\t\t}\n\n\t\t\t\tterminal.exec( cmd + window.apiData.auth.login.toUpperCase() );\n\t\t\t\treturn false;\n\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t}\n\n\t\treturn true;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/keyBinding.es6","'use strict';\n\nconst $\t\t\t\t\t= require('jquery');\nwindow.$ \t\t\t\t= window.jQuery = $;\n\nrequire('jquery.terminal/js/jquery.terminal');\nrequire('keyboardevent-key-polyfill').polyfill();\n\nimport Noty \t\tfrom 'noty';\nimport Pagination \tfrom '../modules/pagination.es6';\nimport Session \t\tfrom '../modules/session.es6';\nimport Spinner \t\tfrom '../modules/spinner.es6';\nimport KeyBinding\tfrom '../helpers/keyBinding.es6';\nimport OutputLiner\tfrom '../modules/output.es6';\nimport TabManager\tfrom '../modules/tabManager.es6';\nimport F8Reader\t\tfrom '../modules/f8.es6';\nimport History \t\tfrom '../modules/history.es6';\n\nimport {terminalKeydown}\tfrom '../modules/switchTerminal.es6';\nimport {getReplacement}\t\tfrom '../helpers/helpers.es6';\n\nconst Debug = (txt, type) => {\n\tnew Noty({\n\t\ttext\t: `DEBUG : <strong>${txt}</strong>`,\n\t\tlayout \t: 'bottomCenter',\n\t\ttimeout : 1500,\n\t\ttheme\t: 'metroui',\n\t\ttype \t: type || 'info'\n\t}).show();\n};\n\nexport default class TerminalPlugin\n{\n\tconstructor( params )\n\t{\n\t\tthis.settings \t= params;\n\t\tthis.context\t= params.context;\n\t\tthis.name\t\t= params.name;\n\n\t\tthis.allowManualPaging = params.gds === 'sabre';\n\n\t\tthis.session = new Session({\n\t\t\tterminalIndex\t: params.name,\n\t\t\tsessionIndex\t: params.sessionIndex,\n\t\t\tgds\t\t\t\t: params.gds\n\t\t});\n\n\t\tthis.terminal \t\t= this.init();\n\n\t\tthis.pagination \t= new Pagination( this.terminal );\n\t\tthis.spinner \t\t= new Spinner( this.terminal );\n\n\t\tthis.outputLiner \t= new OutputLiner( this.terminal );\n\t\tthis.outputLiner.setNumRows(params.numOfRows);\n\n\t\tthis.tabCommands\t= new TabManager();\n\n\t\tthis.f8Reader\t\t= new F8Reader({\n\t\t\tterminal\t: this.terminal,\n\t\t\tgds\t\t\t: params.gds\n\t\t});\n\n\t\tthis.history \t\t= new History( params.gds );\n\t}\n\n\t/*\n\t* return false if char is don't belong cmd\n\t* */\n\tparseKeyBinds( evt, terminal )\n\t{\n\t\tif ( !KeyBinding.parse( evt, terminal, this ) )\n\t\t\treturn false;\n\n\t\tif ( this.f8Reader.getIsActive() ) // ignore Tab press\n\t\t{\n\t\t\tif (evt.which === 13)\n\t\t\t{\n\t\t\t\tthis.f8Reader.execCommand();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (evt.key.length === 1) // ctrl meta alt .. forbid\n\t\t\t\tthis.f8Reader.replaceChar();\n\t\t}\n\n\t\tconst replacement = getReplacement( evt, window.TerminalState.isLanguageApollo() );\n\n\t\tif ( replacement )\n\t\t{\n\t\t\tthis.replaceCommand = replacement;\n\t\t}\n\n\t\tif (replacement === false) // do not print nothing if char is forbidden\n\t\t\treturn false;\n\n\t\t// if test>>>asd+sa and cursor on + // execute only between last > and + cmd\n\t\tif (evt.which === 13)\n\t\t{\n\t\t\tlet\t\tcmd\t\t\t\t\t= terminal.cmd().get().substring(0, terminal.cmd().position() );\n\t\t\tconst\tlastPromptSignPos\t= cmd.lastIndexOf('>') + 1;\n\n\t\t\tif (lastPromptSignPos)\n\t\t\t\tcmd = cmd.substring(lastPromptSignPos, cmd.length);\n\n\t\t\tif (cmd)\n\t\t\t{\n\t\t\t\tterminal.exec(cmd);\n\t\t\t\tterminal.cmd().set('');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\tchangeActiveTerm(activeTerminal)\n\t{\n\t\tif (this.settings.name === 'fullScreen')\n\t\t\treturn false;\n\n\t\twindow.activePlugin = this; // SO SO DEPRECATED NOW\n\t\twindow.TerminalState.action('CHANGE_ACTIVE_TERMINAL', activeTerminal );\n\t}\n\n\tpurge()\n\t{\n\t\tthis.settings.clear();\n\t}\n\n\ttabPressed()\n\t{\n\t\tif ( this.f8Reader.getIsActive() )\n\t\t\treturn this.f8Reader.jumpToNextPos();\n\n\t\tthis.tabCommands.next().run( this.updateOutput.bind(this) );\n\t}\n\n\ttabShiftPressed()\n\t{\n\t\tthis.tabCommands.prev().run( this.updateOutput.bind(this) );\n\t}\n\n\tupdateOutput([cmd, str])\n\t{\n\t\tthis.terminal.update( -1,  str );\n\t\tthis.terminal.cmd().set( cmd );\n\t}\n\n\tresize( sizes )\n\t{\n\t\tthis.terminal.settings().numChars = sizes.numOfChars;\n\t\tthis.terminal.settings().numRows  = sizes.numOfRows;\n\n\t\tthis.terminal.resize();\n\t}\n\n\temptyLinesRecalculate( numOfRows, numOfChars, charHeight )\n\t{\n\t\tthis.outputLiner\n\t\t\t.setNumRows(numOfRows)\n\t\t\t.setNumChars(numOfChars)\n\t\t\t.setCharHeight(charHeight)\n\t\t\t.recalculate();\n\t}\n\n\tinit()\n\t{\n\t\t//caveats terminal.rows() - every time appends div with cursor span - not too smooth for performance\n\n\t\tconst context =  $(this.context).terminal( this.commandParser.bind(this), {\n\t\t\techoCommand\t\t: false,\n\n\t\t\tgreetings\t\t: '',\n\t\t\tname\t\t\t: this.name,\n\t\t\tprompt\t\t\t: '>',\n\n\t\t\tnumRows\t\t\t: this.settings.numOfRows || 0, // plugin calculates it in so shitty slow manner appending cursor to body 3 times per plugin\n\t\t\tnumChars\t\t: this.settings.numOfChars,\n\n\t\t\tmemory\t\t\t: true, // dont add to localStorage\n\n\t\t\t// scrollOnEcho\t: false,\n\t\t\t// keypress\t\t: this.parseChar.bind(this), // BUGGY BUGGY, assign on document wtf???\n\n\t\t\tkeypress\t\t: (e, terminal) => {\n\n\t\t\t\tif (this.replaceCommand)\n\t\t\t\t{\n\t\t\t\t\tterminal.insert(this.replaceCommand);\n\t\t\t\t\tthis.replaceCommand = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t}, // BUGGY BUGGY, assign on document wtf???\n\n\t\t\t// keypress\t\t: (e) => { // this function is super shitty prefer not to use it\n\t\t\t\t// console.log(' key press ');\n\t\t\t\t// if ( (e.ctrlKey) && [67].indexOf(e.which) !== -1 )\n\t\t\t\t// \treturn '';\n\t\t\t// },\n\n\t\t\tkeydown\t\t\t: this.parseKeyBinds.bind(this),\n\n\t\t\tclickTimeout\t: 300,\n\n\t\t\tonInit\t\t\t: this.changeActiveTerm.bind(this),\n\t\t\tonTerminalChange: this.changeActiveTerm.bind(this),\n\n\t\t\tonBeforeCommand : this.checkBeforeEnter.bind(this),\n\n\t\t\t// for hard scenario shortcut, others in keymap helper\n\t\t\tkeymap\t\t\t: {\n\t\t\t\t'CTRL+S'\t: () => window.TerminalState.purgeScreens(),\n\t\t\t\t// 'CTRL+C'\t: (e) => { console.log(' ??' , e)},\n\t\t\t\t'TAB'\t\t: () => this.tabPressed(),\n\t\t\t\t// 'SHIFT+TAB'\t: () => {; this.tabShiftPressed() }, moved to keyParse\n\t\t\t\t'F8'\t\t: () => this.f8Reader.tie(),\n\t\t\t\t'F5'\t\t: () => false,\n\t\t\t\t'.'\t\t\t: () => { return '.' }\n\t\t\t},\n\n\t\t\texceptionHandler( err )\n\t\t\t{\n\t\t\t\tconsole.warn('exc', err);\n\t\t\t}\n\t\t});\n\n\t\t// custom keydown events for each terminal\n\t\t// we introduced this approach because of terminal library adding keydown events to document\n\t\tterminalKeydown(context[0]);\n\n\t\treturn context;\n\t}\n\n\tcheckSabreCommand( command, terminal )\n\t{\n\t\tif ( this.allowManualPaging )\n\t\t{\n\t\t\tswitch (command.toUpperCase())\n\t\t\t{\n\t\t\t\tcase 'MD' :\n\t\t\t\t\tterminal.echo( this.pagination.next().print() );\n\t\t\t\t\treturn true;\n\n\t\t\t\tcase 'MU' :\n\t\t\t\t\tterminal.echo( this.pagination.prev().print() );\n\t\t\t\t\treturn true;\n\n\t\t\t\tcase 'MDA' :\n\t\t\t\t\tterminal.echo( this.pagination.printAll() );\n\t\t\t\t\treturn true;\n\n\t\t\t\tcase 'MDA5' :\n\t\t\t\t\treturn true;\n\n\t\t\t\tcase 'MDA20' :\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/*setTimeout( () => {\n\t\tthis.spinner.end();\n\t\tthis.loopCmdStack();\n\t\tthis.parseBackEnd({\n\t\t\tdata\t: {\n\t\t\t\toutput \t\t: 'THIS IS ONLY A TEST TEST TES TEST',\n\t\t\t\tclearScreen : true\n\t\t\t}\n\t\t})\n\t}, 1000 );*/\n\n\tcommandParser( command, terminal ) //pressed enter\n\t{\n\t\treturn false;\n\t}\n\n\tcheckBeforeEnter( terminal, command )\n\t{\n\t\tif ( !command || command === '' )\n\t\t{\n\t\t\tthis.terminal.echo('>');\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( this.checkSabreCommand( command, terminal ) )\n\t\t\treturn command;\n\n\t\tthis.spinner.start();\n\n\t\tthis.history.add( command );\n\n\t\tconst finish = response => {\n\t\t\tthis.spinner.end();\n\t\t\tthis.parseBackEnd( response, command );\n\t\t};\n\n\t\tconst before = () => {\n\t\t\tthis.outputLiner.prepare('');\n\t\t\tthis.spinner.start();\n\t\t\tthis.terminal.echo( `[[;;;usedCommand;]>${command.toUpperCase()}]` );\n\t\t};\n\n\t\tthis.session.pushCommand( command.toUpperCase(), finish, before );\n\n\t\tthis.session.perform();\n\n\t\treturn command;\n\t}\n\n\tparseBackEnd( response = {}, command )\n\t{\n\t\tthis.lastCommand = command;\n\n\t\tconst result = response['data'] || {};\n\n\t\tif ( result['output'] )\n\t\t{\n\t\t\tif ( result['output'].trim() === '*')\n\t\t\t{\n\t\t\t\tthis.terminal.update( -2 , command + ' *');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( this.allowManualPaging ) // sabre\n\t\t\t{\n\t\t\t\tconst output = this.pagination\n\t\t\t\t\t.bindOutput( result['output'], this.settings.numOfRows - 1, this.settings.numOfChars )\n\t\t\t\t\t.print();\n\n\t\t\t\tthis.terminal.echo( output );\n\t\t\t} else\n\t\t\t{\n\t\t\t\t// if 1 rows of terminal do not perform clear screen\n\t\t\t\tconst clearScreen = result['clearScreen'] && window.TerminalState.getMatrix().rows !== 0;\n\t\t\t\tthis.outputLiner.prepare( result['output'], clearScreen );\n\t\t\t}\n\t\t}\n\n\t\tthis.tabCommands.reset( result['tabCommands'], result['output'] );\n\n\t\twindow.TerminalState.action( 'UPDATE_CUR_GDS', {\n\t\t\tcanCreatePq \t\t: result['canCreatePq'],\n\t\t\tcanCreatePqErrors \t: result['canCreatePqErrors'],\n\t\t\tsessionIndex\t\t: ['A','B','C','D','E','F'].indexOf(result.area),\n\n\t\t\tlastPcc \t\t\t: result['pcc'] // TODO:: better deep-merge as pcc { sesionIndex : result[pcc] }\n\t\t});\n\n\t\tif ( window.TerminalState.hasPermissions() )\n\t\t\tthis.debugOutput( result );\n\t}\n\n\tdebugOutput( result )\n\t{\n\t\tif (result['clearScreen'])\n\t\t\tDebug( 'DEBUG: CLEAR SCREEN', 'info' );\n\n\t\tif ( result['canCreatePq'] )\n\t\t\tDebug( 'CAN CREATE PQ' , 'warning');\n\n\t\tif ( result['tabCommands'] && result['tabCommands'].length )\n\t\t\tDebug( 'FOUND TAB COMMANDS', 'success' );\n\n\t\tif ( result['pcc'] )\n\t\t\tDebug( 'CHANGE PCC', 'success' );\n\t}\n\t\n\tparseError(e)\n\t{\n\t\t// this.spinner.end();\n\t\t// console.error(' error', arguments );\n\t\t// this.terminal.error( String(e) );\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/plugin.es6","const rules = {\n\tapollo : {\n\t\tpos \t: ':3SSRDOCSYYHK1/N'.length,\n\t\tcmd\t\t: ':3SSRDOCSYYHK1/N ///// DMMMYY/ //          /          /',\n\n\t\trules\t: [\n\t\t\t' /////',\n\t\t\t// ':3SSRDOCSYYHK1/N',\n\t\t\t' DMMMYY',\n\t\t\t' // ',\n\t\t\t'          /',\n\t\t\t'          /',\n\t\t]\n\t},\n\n\tsabre \t: {\n\t\tpos\t\t: '3DOCSA/DB/'.length,\n\t\tcmd\t\t: '3DOCSA/DB/DDMMMYY/      /        /        -',\n\t\trules\t: [\n\t\t\t'3DOCSA/DB/'\n\t\t]\n\t},\n\n\tamadeus \t: {\n\t\tpos\t\t: 'SRDOCSYYHK1'.length,\n\t\tcmd\t\t: 'SRDOCSYYHK1-----  DDMMMYY   -     --        -       /P',\n\t\trules\t: [\n\t\t\t'SRDOCSYYHK1'\n\t\t]\n\t}\n};\n\nexport default class F8Reader\n{\n\tconstructor( {terminal, gds} )\n\t{\n\t\tthis.index\t\t= 0;\n\t\tthis.terminal \t= terminal;\n\t\tthis.isActive \t= false;\n\t\t// this.canReplace\t= false;\n\t\tthis.gds\t\t= gds;\n\n\t\tthis.currentCmd\t= rules[gds];\n\t}\n\n\tgetIsActive()\n\t{\n\t\treturn this.isActive;\n\t}\n\n\tgetNextTabPos()\n\t{\n\t\tconst subStr = this.currentCmd.rules[ this.index ];\n\t\treturn this.terminal.get_command().indexOf( subStr ); // + ( this.index === 0 ? subStr.length : 0 );\n\t}\n\n\tjumpToNextPos()\n\t{\n\t\tthis.terminal.cmd().position( this.getNextTabPos() );\n\n\t\tif ( !this.currentCmd.rules[this.index] )\n\t\t{\n\t\t\tthis.isActive \t= false;\n\t\t\tthis.index \t\t= 0;\n\t\t}\n\n\t\tthis.index++;\n\t}\n\n\treplaceChar()\n\t{\n\t\t/*const curPos \t\t\t= this.terminal.cmd().position();\n\t\tconst oldCmd \t\t\t= this.terminal.get_command();\n\n\t\tconst charToReplace \t= oldCmd.substr(curPos, 1);\n\n\t\tif (charToReplace === '/')\n\t\t\treturn false;\n\n\t\tconst newCmd = oldCmd.substr(0, curPos) + oldCmd.substr(curPos + 1);\n\n\t\tthis.terminal.set_command(newCmd);\n\t\tthis.terminal.cmd().position( curPos );*/\n\n\t\tconst curPos \t\t\t= this.terminal.cmd().position();\n\t\tconst charToReplace \t= this.terminal.get_command().substr(curPos, 1);\n\n\t\tif (charToReplace === '/')\n\t\t\treturn false;\n\n\t\tthis.terminal.cmd().delete(+1);\n\t}\n\n\ttie()\n\t{\n\t\tthis.index \t\t= 0;\n\t\tthis.isActive\t= true;\n\n\t\tthis.terminal.set_command( this.currentCmd.cmd );\n\t\tthis.jumpToNextPos();\n\t}\n\n\texecCommand()\n\t{\n\t\tconst cmd = this.terminal.before_cursor();\n\t\tthis.terminal.cmd().set('');\n\n\t\tthis.isActive\t= false; // BEWARE of dead loop!\n\t\tthis.terminal.exec(cmd);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/f8.es6","import Dom\t\tfrom '../helpers/dom.es6';\nimport Terminal\tfrom '../modules/terminal.es6';\nimport {cookieGet} \t\tfrom '../helpers/cookie';\n\n\nexport default class FullScreen {\n\n\tstatic makeBody()\n\t{\n\t\tif (!window.activePlugin)\n\t\t\treturn false;\n\n\t\tconst body \t\t= Dom('div.terminal-wrap-custom terminal-cell t-f-size-13 text-center t-height-100');\n\t\tconst body2 \t= Dom('div.terminal-body');\n\n\t\tbody.appendChild(body2);\n\t\treturn body;\n\t}\n\n\tstatic terminal( body )\n\t{\n\t\tconst props = {\n\t\t\tname \t\t\t: 'fullScreen',\n\t\t\tsessionIndex\t: window.TerminalState.getAreaIndex(), // to leave current active terminal\n\t\t\tgds\t\t\t\t: window.TerminalState.getGds(),\n\t\t\tbuffer\t\t\t: false\n\t\t};\n\n\t\tconst dimensions = {\n\t\t\theight\t\t: body.clientHeight,\n\t\t\twidth \t\t: body.clientWidth,\n\t\t\tchar\t\t: '',\n\t\t\t// char\t\t: {\n\t\t\t// \theight \t\t: '',\n\t\t\t// \twidth\t\t: ''\n\t\t\t// }\n\t\t};\n\n\t\tconst terminal = new Terminal( props );\n\t\tterminal.reattach(body, dimensions);\n\t\tterminal.context.innerHTML = window.activePlugin.terminal.get(0).innerHTML;\n\n\t\t// on close there is two cmd lines\n\t\tconst cmd = terminal.context.querySelector('.cmd');\n\t\tcmd.parentNode.removeChild( cmd );\n\n\t\t// remove cloned epmty lines\n\t\tconst emptyLines = terminal.context.querySelector('.emptyLinesWrapper');\n\t\temptyLines.parentNode.removeChild( emptyLines );\n\n\t\tterminal.init();\n\t}\n\n\tstatic show()\n\t{\n\t\tif (!window.activePlugin)\n\t\t{\n\t\t\talert('no terminal selected');\n\t\t\treturn false;\n\t\t}\n\n\t\tconst themeClass\t= cookieGet('terminalTheme_' + apiData.auth.id) || 'terminaltheme_' + apiData['terminalThemes'][0]['id'];\n\t\tconst body\t\t\t= this.makeBody();\n\n\t\twindow.apiData.Modal.make({\n\t\t\tdialog_class\t: 'modal-full no-footer',\n\t\t\tbody_class\t\t: 'no-padder ' + themeClass,\n\t\t\tbody\t\t\t: body,\n\t\t\tnoCloseBtn \t\t: 1,\n\t\t\theader\t\t\t: 'Full Screen'\n\t\t})\n\n\t\t.show( params => {\n\n\t\t\tparams.modal.on('hidden.bs.modal', e => {\n\t\t\t\twindow.TerminalState.change({});\n\t\t\t\tparams.modal.detach().remove();\n\t\t\t});\n\n\t\t\tthis.terminal( body );\n\t\t});\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/fullscreen.es6","'use strict';\n\nconst promises = {};\nconst commands = {};\n\nexport default function History( gds = 'apollo' )\n{\n\tlet pos \t= false;\n\tlet length\t= 0;\n\n\tcommands[gds] \t= commands[gds] || [];\n\n\tconst askServer = () => window.TerminalState.getHistory();\n\tconst getData \t= () => {\n\t\t// if ( promises[gds] && !pos )\n\t\t// \tpos = commands[gds].length - 1;\n\n\t\t// this will ask server only once per GDS\n\t\tpromises[gds] = promises[gds] || new Promise( resolve => {\n\n\t\t\taskServer()\n\t\t\t\t.then( response => {\n\t\t\t\t\tcommands[gds] \t= response.data;\n\t\t\t\t\tpos\t\t\t\t= commands[gds].length;\n\t\t\t\t\tlength\t\t\t= commands[gds].length;\n\t\t\t\t})\n\t\t\t\t.then( resolve );\n\t\t});\n\n\t\treturn promises[gds];\n\t};\n\n\tconst checkIfListUpdated = () => {\n\n\t\tif ( commands[gds] ) // when new commands were executed update position\n\t\t{\n\t\t\tif (commands[gds].length !== length)\n\t\t\t{\n\t\t\t\tlength \t= commands[gds].length;\n\t\t\t\tpos \t= length;\n\t\t\t}\n\t\t}\n\t};\n\n\treturn {\n\n\t\tadd\t: function ( cmd )\n\t\t{\n\t\t\tif ( commands[gds] )\n\t\t\t\tcommands[gds].push( cmd );\n\t\t},\n\n\t\tnext: function()\n\t\t{\n\t\t\tif ( length === 0 )\n\t\t\t\treturn getData();\n\n\t\t\tif (pos < commands[gds].length )\n\t\t\t\t++pos;\n\n\t\t\tcheckIfListUpdated();\n\n\t\t\treturn getData().then( () => commands[gds][pos] || '' );\n\t\t},\n\n\t\tprevious: function()\n\t\t{\n\t\t\tcheckIfListUpdated();\n\n\t\t\treturn getData().then( () => {\n\t\t\t\tif (pos > 0)\n\t\t\t\t\t--pos;\n\n\t\t\t\treturn commands[gds][pos];\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/history.es6","'use strict';\n\nimport {splitIntoLinesArr} from '../helpers/helpers.es6';\nimport Dom from '../helpers/dom.es6';\n\nexport default class Output\n{\n\tconstructor( terminal )\n\t{\n\t\tthis.terminal\t\t= terminal;\n\n\t\tthis.context \t\t= Dom('div.emptyLinesWrapper');\n\t\tthis.emptyLines \t= 0;\n\t\tthis.outputStrings\t= '';\n\t\tthis.cmdLineOffset \t= '';\n\n\t\tthis.terminal.cmd().after( this.context );\n\n\t\tthis.clearScreen \t= false;\n\t\tthis.numRows\t\t= 0;\n\t}\n\n\tsetNumRows( numRows )\n\t{\n\t\tthis.numRows = numRows;\n\t\treturn this;\n\t}\n\n\tsetNumChars( numOfChars )\n\t{\n\t\tthis.numOfChars = numOfChars;\n\t\treturn this;\n\t}\n\n\tsetCharHeight( charHeight )\n\t{\n\t\tthis.charHeight = charHeight;\n\t\treturn this;\n\t}\n\n\tcountEmpty()\n\t{\n\t\tif (!this.numRows)\n\t\t{\n\t\t\tconsole.warn('No num rows !!!!!!!!!!!!');\n\t\t}\n\n\t\tconst numOfRows = this.numRows || this.terminal.rows(); //this.terminal.rows() - slow dom append cursor to body\n\n\t\tconst noClearScreen\t= () => this.emptyLines > 0 ? this.emptyLines - this.getOutputLength() : 0 ;\n\t\tconst isClearScreen = () => numOfRows - ( this.getOutputLength() + 2 ); // 2 = cmd line + command name\n\n\t\tthis.emptyLines \t= this.clearScreen ? isClearScreen() : noClearScreen();\n\n\t\t// console.log( ' ==== ' );\n\t\t// console.log( this.terminal.rows() );\n\t\t// console.log( numOfRows );\n\t\t// console.log( this.getOutputLength() );\n\t\t// console.log( this.emptyLines );\n\n\t\tif (this.emptyLines < 0 )\n\t\t\tthis.emptyLines = 0;\n\n\t\treturn this;\n\t}\n\n\tprepare( output, clearScreen = false )\n\t{\n\t\tthis.outputStrings \t= output;\n\t\tthis.clearScreen\t= clearScreen;\n\n\t\tthis.countEmpty().printOutput().attachEmpty().scroll();\n\t}\n\n\trecalculate()\n\t{\n\t\t// console.log(' recalculate ');\n\t\tthis.countEmpty().attachEmpty().scroll();\n\t}\n\n\tattachEmpty()\n\t{\n\t\tthis.context.innerHTML = '';\n\n\t\tif (this.emptyLines > 0 )\n\t\t\tthis.context.innerHTML = [ ...new Array(  this.emptyLines + 1  ) ].join('<div><span>&nbsp;</span></div>');\n\n\t\treturn this;\n\t}\n\n\tgetOutputLength()\n\t{\n\t\tconst chars = this.numOfChars || this.terminal.cols();\n\n\t\t// console.log( chars )\n\t\t// console.log( this.numOfChars )\n\t\t// console.log( this.terminal.cols() )\n\n\t\t// console.log(' num of chars ', this.numOfChars );\n\t\t// console.log(' num of chars ', this.terminal.cols() );\n\t\t// console.log(' num of chars ', chars );\n\n\t\t// console.log('zzz', this.terminal.cols() );\n\t\t// console.log('zzz', chars  );\n\n\t\tconst lines = splitIntoLinesArr( this.outputStrings, chars );\n\n\t\treturn lines.length;\n\t}\n\n\tprintOutput()\n\t{\n\t\tthis.cmdLineOffset \t= this.terminal.cmd()[0].offsetTop  - ( this.charHeight ? this.charHeight : 0);\n\n\t\tconst chars = this.numOfChars || this.terminal.cols();\n\t\tthis.terminal.echo(this.outputStrings);\n\n\t\t// const lines = splitIntoLinesArr( this.outputStrings, chars );\n\t\t// this.terminal.echo(lines.join('\\n'));\n\n\t\treturn this;\n\t}\n\n\tscroll()\n\t{\n\t\tif (this.emptyLines === 0)\n\t\t{\n\t\t\tthis.terminal.scroll().scroll( this.cmdLineOffset ); // to first line, to desired line //TEST\n\t\t} else\n\t\t{\n\t\t\tthis.terminal.scroll_to_bottom(); // to first line, to desired line //TEST\n\t\t\t// this.terminal[0].scrollTop = this.terminal[0].scrollHeight;\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/output.es6","'use strict';\n\nimport {makePages} from '../helpers/helpers.es6';\n\nexport default class Pagination\n{\n\tconstructor()\n\t{\n\t\tthis.cache \t= [];\n\t\tthis.output\t= '';\n\t\tthis.page \t= 0;\n\t}\n\n\tbindOutput(output, rows = 0, cols = 0)\n\t{\n\t\tthis.page \t= 0;\n\t\tthis.output = output;\n\t\tthis.cache \t= makePages( output, rows, cols );\n\n\t\t// console.log(this.cache );\n\t\treturn this;\n\t}\n\n\tnext()\n\t{\n\t\tif (this.cache.length && this.page < this.cache.length)\n\t\t\tthis.page++;\n\n\t\treturn this;\n\t}\n\n\tprev()\n\t{\n\t\tif (this.page > 0 )\n\t\t\tthis.page--;\n\n\t\treturn this;\n\t}\n\n\tprint()\n\t{\n\t\treturn this.cache[ this.page ] || 'NOTHING TO SCROLL';\n\t}\n\n\tprintAll()\n\t{\n\t\treturn this.output;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/pagination.es6","'use strict';\n\n// import { TIME_FORMAT, ACCOUNT } from '../constants';\nimport Requests from '../helpers/requests.es6';\n\nlet commandStack \t= [];\nlet finishStack \t= [];\nlet beforeStack\t\t= [];\nlet isActive \t\t= false;\nlet promise \t\t= false;\n\nexport default class Session\n{\n\tconstructor( params )\n\t{\n\t\tthis.settings \t= params;\n\t\tthis.promise \t= false;\n\t}\n\n\trun( params )\n\t{\n\t\tconst rData = {\n\t\t\tterminalIndex\t: parseInt(this.settings['terminalIndex']) + 1,\n\t\t\tcommand\t\t\t: params['cmd'],\n\t\t\tgds\t\t\t\t: this.settings['gds'],\n\t\t\tlanguage\t\t: window.TerminalState.getLanguage().toLowerCase(),\n\t\t\tterminalData\t: window.apiData['terminalData']\n\t\t};\n\n\t\tpromise \t\t\t= Requests.runSyncCommand( rData );\n\n\t\tpromise.then( () \t=> {\n\t\t\tpromise \t\t= false;\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\tisActive()\n\t{\n\t\treturn promise;\n\t}\n\n\tperform()\n\t{\n\t\tif ( promise )\n\t\t\treturn false;\n\n\t\tconst cmd = commandStack[0];\n\n\t\tbeforeStack[0]();\n\n\t\treturn this.run({cmd}).then( response => {\n\n\t\t\tfinishStack[0]( response );\n\n\t\t\tcommandStack.shift();\n\t\t\tfinishStack.shift();\n\t\t\tbeforeStack.shift();\n\n\t\t\tif ( commandStack[0] ) // recursive self call\n\t\t\t{\n\t\t\t\tthis.perform( commandStack[0] );\n\t\t\t}\n\n\t\t\treturn response;\n\t\t});\n\t}\n\n\tpushCommand( termRun, finish, before )\n\t{\n\t\tcommandStack.push( termRun );\n\t\tfinishStack.push( finish );\n\t\tbeforeStack.push( before );\n\n\t\treturn this;\n\t}\n\n\t/*start()\n\t{\n\t\tRequests.runSyncCommand('startSession', {\n\t\t\ttimeFormat\t: TIME_FORMAT,\n\t\t\taccount\t\t: ACCOUNT\n\t\t})\n\t\t\t.then( function( response ) {\n\t\t\t\treturn response['data'];\n\t\t\t})\n\t\t\t.catch(function(err) {\n\t\t\t\tconsole.error('oh shit Error', err);\n\t\t\t});\n\t}\n\n\tend()\n\t{\n\t\tlet result = Requests.runSyncCommand('endSession', {\n\t\t\tsessionToken: this.settings['sessionToken']\n\t\t});\n\n\t\tif (result['success'])\n\t\t\treturn true;\n\t}*/\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/session.es6","'use strict';\n\nconst cliSpinners \t\t= require('cli-spinners');\n\nexport default class Spinner\n{\n\tconstructor( terminal )\n\t{\n\t\tthis.timer \t\t= false;\n\t\tthis.terminal \t= terminal;\n\t\tthis.prompt \t= '';\n\t\tthis.spinner\t= cliSpinners.simpleDots;\n\t\tthis.spinner.interval = 550;\n\t\tthis.frameCounter = 0;\n\t}\n\n\tset()\n\t{\n\t\tconst text = this.spinner.frames[this.frameCounter++ % this.spinner.frames.length];\n\t\tthis.terminal.set_prompt(text);\n\t}\n\n\tstart()\n\t{\n\t\tif (this.timer)\n\t\t{\n\t\t\t// this.end();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.terminal.find('.cursor').hide();\n\t\tthis.terminal.set_mask('');\n\n\t\tthis.prompt \t= this.terminal.get_prompt();\n\n\t\tthis.set();\n\t\tthis.timer \t\t= setInterval( this.set.bind(this), this.spinner.interval);\n\t}\n\n\tend()\n\t{\n\t\tclearInterval( this.timer );\n\n\t\tthis.terminal.set_prompt( this.prompt );\n\n\t\tthis.terminal.find('.cursor').show();\n\t\tthis.terminal.set_mask(false);\n\n\t\tthis.timer = false;\n\t}\n\n\tisActive()\n\t{\n\t\treturn !!this.timer;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/spinner.es6","'use strict';\n\nconst gridMaps = {\n\t'2x2' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 2,\n\t\t\t2: 1,\n\t\t\t3: 3\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 2,\n\t\t\t2: 1,\n\t\t\t3: 3\n\t\t}\n\t},\n\t'2x3' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 3,\n\t\t\t2: 1,\n\t\t\t3: 4,\n\t\t\t4: 2,\n\t\t\t5: 5\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 2,\n\t\t\t2: 4,\n\t\t\t3: 1,\n\t\t\t4: 3,\n\t\t\t5: 5\n\t\t}\n\t},\n\t'2x4' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 4,\n\t\t\t2: 1,\n\t\t\t3: 5,\n\t\t\t4: 2,\n\t\t\t5: 6,\n\t\t\t6: 3,\n\t\t\t7: 7\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 2,\n\t\t\t2: 4,\n\t\t\t3: 6,\n\t\t\t4: 1,\n\t\t\t5: 3,\n\t\t\t6: 5,\n\t\t\t7: 7\n\t\t}\n\t},\n\t'3x2' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 2,\n\t\t\t2: 4,\n\t\t\t3: 1,\n\t\t\t4: 3,\n\t\t\t5: 5\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 3,\n\t\t\t2: 1,\n\t\t\t3: 4,\n\t\t\t4: 2,\n\t\t\t5: 5\n\t\t}\n\t},\n\t'3x3' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 3,\n\t\t\t2: 6,\n\t\t\t3: 1,\n\t\t\t4: 4,\n\t\t\t5: 7,\n\t\t\t6: 2,\n\t\t\t7: 5,\n\t\t\t8: 8\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 3,\n\t\t\t2: 6,\n\t\t\t3: 1,\n\t\t\t4: 4,\n\t\t\t5: 7,\n\t\t\t6: 2,\n\t\t\t7: 5,\n\t\t\t8: 8\n\t\t}\n\t},\n\t'3x4' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 4,\n\t\t\t2: 8,\n\t\t\t3: 1,\n\t\t\t4: 5,\n\t\t\t5: 9,\n\t\t\t6: 2,\n\t\t\t7: 6,\n\t\t\t8: 10,\n\t\t\t9: 3,\n\t\t\t10: 7,\n\t\t\t11: 11\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 3,\n\t\t\t2: 6,\n\t\t\t3: 9,\n\t\t\t4: 1,\n\t\t\t5: 4,\n\t\t\t6: 7,\n\t\t\t7: 10,\n\t\t\t8: 2,\n\t\t\t9: 5,\n\t\t\t10: 8,\n\t\t\t11: 11\n\t\t}\n\t},\n\t'4x2' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 2,\n\t\t\t2: 4,\n\t\t\t3: 6,\n\t\t\t4: 1,\n\t\t\t5: 3,\n\t\t\t6: 5,\n\t\t\t7: 7\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 4,\n\t\t\t2: 1,\n\t\t\t3: 5,\n\t\t\t4: 2,\n\t\t\t5: 6,\n\t\t\t6: 3,\n\t\t\t7: 7\n\t\t}\n\t},\n\t'4x3' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 3,\n\t\t\t2: 6,\n\t\t\t3: 9,\n\t\t\t4: 1,\n\t\t\t5: 4,\n\t\t\t6: 7,\n\t\t\t7: 10,\n\t\t\t8: 2,\n\t\t\t9: 5,\n\t\t\t10: 8,\n\t\t\t11: 11\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 4,\n\t\t\t2: 8,\n\t\t\t3: 1,\n\t\t\t4: 5,\n\t\t\t5: 9,\n\t\t\t6: 2,\n\t\t\t7: 6,\n\t\t\t9: 3,\n\t\t\t10: 7,\n\t\t\t8: 10,\n\t\t\t11: 11\n\t\t}\n\t},\n\t'4x4' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 4,\n\t\t\t2: 8,\n\t\t\t3: 12,\n\t\t\t4: 1,\n\t\t\t5: 5,\n\t\t\t6: 9,\n\t\t\t7: 13,\n\t\t\t8: 2,\n\t\t\t9: 6,\n\t\t\t10: 10,\n\t\t\t11: 14,\n\t\t\t12: 3,\n\t\t\t13: 7,\n\t\t\t14: 11,\n\t\t\t15: 15\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 4,\n\t\t\t2: 8,\n\t\t\t4: 1,\n\t\t\t5: 5,\n\t\t\t6: 9,\n\t\t\t8: 2,\n\t\t\t9: 6,\n\t\t\t12: 3,\n\t\t\t13: 7,\n\t\t\t10: 10,\n\t\t\t14: 11,\n\t\t\t3: 12,\n\t\t\t7: 13,\n\t\t\t11: 14,\n\t\t\t15: 15\n\t\t}\n\t},\n\t'other' : {\n\t\tencode: {\n\t\t\t0: 0,\n\t\t\t1: 1,\n\t\t\t2: 2,\n\t\t\t3: 3,\n\t\t\t4: 4,\n\t\t\t5: 5,\n\t\t\t6: 6,\n\t\t\t7: 7,\n\t\t\t8: 8,\n\t\t\t9: 9\n\t\t},\n\t\tdecode: {\n\t\t\t0: 0,\n\t\t\t1: 1,\n\t\t\t2: 2,\n\t\t\t3: 3,\n\t\t\t4: 4,\n\t\t\t5: 5,\n\t\t\t6: 6,\n\t\t\t7: 7,\n\t\t\t8: 8,\n\t\t\t9: 9\n\t\t}\n\t}\n};\n\nfunction switchTerminal(keymap)\n{\n\tconst currentTerminalName\t= window.activePlugin.name;\n\tconst gds\t\t\t\t\t= window.TerminalState.getGds();\n\tconst matrix\t\t\t\t= window.TerminalState.state.gdsObj.matrix;\n\tconst rows\t\t\t\t\t= matrix.rows + 1;\n\tconst cells\t\t\t\t\t= matrix.cells + 1;\n\tconst gridCount\t\t\t\t= rows * cells;\n\tconst mapName\t\t\t\t= (rows === 1 || cells === 1) ? 'other' : rows + 'x' + cells;\n\n\tlet getId\t\t\t\t\t= 0;\n\n\tif (typeof keymap === 'number')\n\t{\n\t\tconst id\t\t= keymap === 48 ? 9 : keymap - 49;\n\t\tgetId\t\t\t= gridMaps[mapName]['encode'][id];\n\n\t\tif (typeof getId === 'undefined')\n\t\t\treturn false;\n\t} else {\n\t\tconst isNext\t= keymap === 'next';\n\t\tconst nextId\t= gridMaps[mapName]['decode'][currentTerminalName] + (isNext ? 1 : -1);\n\n\t\tif (isNext)\n\t\t{\n\t\t\tgetId\t= nextId >= gridCount ? 0 : gridMaps[mapName]['encode'][nextId];\n\t\t} else {\n\t\t\tgetId\t= nextId < 0 ? gridCount -1 : gridMaps[mapName]['encode'][nextId];\n\t\t}\n\t}\n\n\twindow.TerminalState.switchTerminals(gds, getId);\n}\n\nexport function terminalKeydown(terminal)\n{\n\tterminal.querySelector('textarea').addEventListener( 'keydown', (e) => {\n\t\tconst keymap \t= e.keyCode || e.which;\n\n\t\tif ( e.ctrlKey || e.metaKey )\n\t\t{\n\t\t\tswitch (keymap)\n\t\t\t{\n\t\t\t\tcase 192 :\t// Ctrl + ~\n\t\t\t\t\tswitchTerminal('next');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 48 :\t// Ctrl + 0\n\t\t\t\tcase 49 :\t// Ctrl + 1\n\t\t\t\tcase 50 :\t// Ctrl + 2\n\t\t\t\tcase 51 :\t// Ctrl + 3\n\t\t\t\tcase 52 :\t// Ctrl + 4\n\t\t\t\tcase 53 :\t// Ctrl + 5\n\t\t\t\tcase 54 :\t// Ctrl + 6\n\t\t\t\tcase 55 :\t// Ctrl + 7\n\t\t\t\tcase 56 :\t// Ctrl + 8\n\t\t\t\tcase 57 :\t// Ctrl + 9\n\t\t\t\t\tswitchTerminal(keymap);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (e.shiftKey)\n\t\t{\n\t\t\tif (keymap === 192)\t// Shift + ~\n\t\t\t{\n\t\t\t\tswitchTerminal('prev');\n\t\t\t}\n\t\t}\n\t});\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/switchTerminal.es6","export default class TabManager\n{\n\tconstructor()\n\t{\n\t\tthis.index \t= 0;\n\t\tthis.list\t= [];\n\t}\n\n\treset( list = [], output )\n\t{\n\t\tthis.list \t= list;\n\n\t\tthis.index \t= false;\n\t\tthis.output = output;\n\n\t\tif (list.length)\n\t\t{\n\t\t\tthis.list.push(''); // empty command line\n\t\t}\n\t}\n\n\tnext()\n\t{\n\t\tthis.index = this.index === false ? 0 : this.index + 1;\n\n\t\tif ( this.list.length <= this.index )\n\t\t\tthis.index = 0;\n\n\t\treturn this;\n\t}\n\n\tprev()\n\t{\n\t\tthis.index--;\n\n\t\tif ( this.index < 0)\n\t\t\tthis.index = this.list.length - 1;\n\n\t\treturn this;\n\t}\n\n\tgetCommand()\n\t{\n\t\treturn this.list[ this.index ];\n\t}\n\n\tformatOutput( cmd )\n\t{\n\t\tif (cmd) // last element in the array is an empty string\n\t\t{\n\t\t\tcmd \t\t= `>${cmd}`;\n\t\t\tconst pos = this.output.indexOf( cmd );\n\t\t\tconst index = pos + cmd.length;\n\n\t\t\tif (pos !== -1) // show this only if command is found\n\t\t\t\treturn this.output.substr(0, index) + `[[;red;blue;]]` +  this.output.substr( (index + 1 ) , this.output.length);\n\t\t}\n\n\t\treturn this.output;\n\t}\n\n\trun( replace )\n\t{\n\t\tconst cmd = this.getCommand();\n\n\t\tif ( cmd !== undefined )\n\t\t{\n\t\t\treplace([ cmd, this.formatOutput( cmd ) ]);\n\t\t}\n\n\t\treturn [];\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modules/tabManager.es6","'use strict';\nmodule.exports = require('./spinners.json');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cli-spinners/index.js\n// module id = 37\n// module chunks = 0","module.exports = {\n\t\"dots\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots2\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots3\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots4\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots5\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots6\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots7\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots8\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots9\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots10\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots11\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"dots12\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"line\": {\n\t\t\"interval\": 130,\n\t\t\"frames\": [\n\t\t\t\"-\",\n\t\t\t\"\\\\\",\n\t\t\t\"|\",\n\t\t\t\"/\"\n\t\t]\n\t},\n\t\"line2\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"-\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"-\"\n\t\t]\n\t},\n\t\"pipe\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"simpleDots\": {\n\t\t\"interval\": 400,\n\t\t\"frames\": [\n\t\t\t\".  \",\n\t\t\t\".. \",\n\t\t\t\"...\",\n\t\t\t\"   \"\n\t\t]\n\t},\n\t\"simpleDotsScrolling\": {\n\t\t\"interval\": 200,\n\t\t\"frames\": [\n\t\t\t\".  \",\n\t\t\t\".. \",\n\t\t\t\"...\",\n\t\t\t\" ..\",\n\t\t\t\"  .\",\n\t\t\t\"   \"\n\t\t]\n\t},\n\t\"star\": {\n\t\t\"interval\": 70,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"star2\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"+\",\n\t\t\t\"x\",\n\t\t\t\"*\"\n\t\t]\n\t},\n\t\"flip\": {\n\t\t\"interval\": 70,\n\t\t\"frames\": [\n\t\t\t\"_\",\n\t\t\t\"_\",\n\t\t\t\"_\",\n\t\t\t\"-\",\n\t\t\t\"`\",\n\t\t\t\"`\",\n\t\t\t\"'\",\n\t\t\t\"\",\n\t\t\t\"-\",\n\t\t\t\"_\",\n\t\t\t\"_\",\n\t\t\t\"_\"\n\t\t]\n\t},\n\t\"hamburger\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"growVertical\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"growHorizontal\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"balloon\": {\n\t\t\"interval\": 140,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\".\",\n\t\t\t\"o\",\n\t\t\t\"O\",\n\t\t\t\"@\",\n\t\t\t\"*\",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"balloon2\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\".\",\n\t\t\t\"o\",\n\t\t\t\"O\",\n\t\t\t\"\",\n\t\t\t\"O\",\n\t\t\t\"o\",\n\t\t\t\".\"\n\t\t]\n\t},\n\t\"noise\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"bounce\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"boxBounce\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"boxBounce2\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"triangle\": {\n\t\t\"interval\": 50,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"arc\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"circle\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"squareCorners\": {\n\t\t\"interval\": 180,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"circleQuarters\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"circleHalves\": {\n\t\t\"interval\": 50,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"squish\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle\": {\n\t\t\"interval\": 250,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle2\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle3\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle4\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle5\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle6\": {\n\t\t\"interval\": 300,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle7\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle8\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle9\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle10\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle11\": {\n\t\t\"interval\": 50,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle12\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"toggle13\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"=\",\n\t\t\t\"*\",\n\t\t\t\"-\"\n\t\t]\n\t},\n\t\"arrow\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"arrow2\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"arrow3\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\",\n\t\t\t\"\"\n\t\t]\n\t},\n\t\"bouncingBar\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"[    ]\",\n\t\t\t\"[   =]\",\n\t\t\t\"[  ==]\",\n\t\t\t\"[ ===]\",\n\t\t\t\"[====]\",\n\t\t\t\"[=== ]\",\n\t\t\t\"[==  ]\",\n\t\t\t\"[=   ]\"\n\t\t]\n\t},\n\t\"bouncingBall\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\",\n\t\t\t\"(     )\"\n\t\t]\n\t},\n\t\"smiley\": {\n\t\t\"interval\": 200,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"monkey\": {\n\t\t\"interval\": 300,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"hearts\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"clock\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"earth\": {\n\t\t\"interval\": 180,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"moon\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"runner\": {\n\t\t\"interval\": 140,\n\t\t\"frames\": [\n\t\t\t\" \",\n\t\t\t\" \"\n\t\t]\n\t},\n\t\"pong\": {\n\t\t\"interval\": 80,\n\t\t\"frames\": [\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \",\n\t\t\t\"       \"\n\t\t]\n\t},\n\t\"shark\": {\n\t\t\"interval\": 120,\n\t\t\"frames\": [\n\t\t\t\"|\\\\____________\",\n\t\t\t\"_|\\\\___________\",\n\t\t\t\"__|\\\\__________\",\n\t\t\t\"___|\\\\_________\",\n\t\t\t\"____|\\\\________\",\n\t\t\t\"_____|\\\\_______\",\n\t\t\t\"______|\\\\______\",\n\t\t\t\"_______|\\\\_____\",\n\t\t\t\"________|\\\\____\",\n\t\t\t\"_________|\\\\___\",\n\t\t\t\"__________|\\\\__\",\n\t\t\t\"___________|\\\\_\",\n\t\t\t\"____________|\\\\\",\n\t\t\t\"____________/|\",\n\t\t\t\"___________/|_\",\n\t\t\t\"__________/|__\",\n\t\t\t\"_________/|___\",\n\t\t\t\"________/|____\",\n\t\t\t\"_______/|_____\",\n\t\t\t\"______/|______\",\n\t\t\t\"_____/|_______\",\n\t\t\t\"____/|________\",\n\t\t\t\"___/|_________\",\n\t\t\t\"__/|__________\",\n\t\t\t\"_/|___________\",\n\t\t\t\"/|____________\"\n\t\t]\n\t},\n\t\"dqpb\": {\n\t\t\"interval\": 100,\n\t\t\"frames\": [\n\t\t\t\"d\",\n\t\t\t\"q\",\n\t\t\t\"p\",\n\t\t\t\"b\"\n\t\t]\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cli-spinners/spinners.json\n// module id = 38\n// module chunks = 0","/**@license\n *       __ _____                     ________                              __\n *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /\n *  __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /\n * /  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__\n * \\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/\n *           \\/              /____/                              version 1.7.0\n *\n * This file is part of jQuery Terminal. http://terminal.jcubic.pl\n *\n * Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>\n * Released under the MIT license\n *\n * Contains:\n *\n * Storage plugin Distributed under the MIT License\n * Copyright (c) 2010 Dave Schindler\n *\n * jQuery Timers licenced with the WTFPL\n * <http://jquery.offput.ca/timers/>\n *\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n *\n * jQuery Caret\n * Copyright (c) 2009, Gideon Sireling\n * 3 clause BSD License\n *\n * sprintf.js\n * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>\n * licensed under 3 clause BSD license\n *\n * Date: Tue, 12 Sep 2017 07:04:06 +0000\n */\n\n/* TODO:\n *\n * Debug interpreters names in LocalStorage\n * onPositionChange event add to terminal ???\n * different command line history for each login users (add login if present to\n * localStorage key)\n *\n * TEST: login + promises/exec\n *       json-rpc/object + promises\n *\n * NOTE: json-rpc don't need promises and delegate resume/pause because only\n *       exec can call it and exec call interpreter that work with resume/pause\n */\n/* global location, jQuery, setTimeout, window, global, localStorage, sprintf,\n         setImmediate, IntersectionObserver, MutationObserver, wcwidth,\n         module, require, define */\n/* eslint-disable */\n(function(ctx) {\n    var sprintf = function() {\n        if (!sprintf.cache.hasOwnProperty(arguments[0])) {\n            sprintf.cache[arguments[0]] = sprintf.parse(arguments[0]);\n        }\n        return sprintf.format.call(null, sprintf.cache[arguments[0]], arguments);\n    };\n\n    sprintf.format = function(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;\n        for (i = 0; i < tree_length; i++) {\n            node_type = get_type(parse_tree[i]);\n            if (node_type === 'string') {\n                output.push(parse_tree[i]);\n            }\n            else if (node_type === 'array') {\n                match = parse_tree[i]; // convenience purposes only\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor];\n                    for (k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw(sprintf('[sprintf] property \"%s\" does not exist', match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                }\n                else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]];\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (/[^s]/.test(match[8]) && (get_type(arg) !== 'number')) {\n                    throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));\n                }\n                switch (match[8]) {\n                    case 'b': arg = arg.toString(2); break;\n                    case 'c': arg = String.fromCharCode(arg); break;\n                    case 'd': arg = parseInt(arg, 10); break;\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\n                    case 'o': arg = arg.toString(8); break;\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\n                    case 'u': arg = arg >>> 0; break;\n                    case 'x': arg = arg.toString(16); break;\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\n                }\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? ' +' + arg : arg);\n                pad_character = match[4] ? match[4] === '0' ? '0' : match[4].charAt(1) : ' ';\n                pad_length = match[6] - String(arg).length;\n                pad = match[6] ? str_repeat(pad_character, pad_length) : '';\n                output.push(match[5] ? arg + pad : pad + arg);\n            }\n        }\n        return output.join('');\n    };\n\n    sprintf.cache = {};\n\n    sprintf.parse = function(fmt) {\n        var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\n        while (_fmt) {\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\n                parse_tree.push(match[0]);\n            }\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\n                parse_tree.push('%');\n            }\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    var field_list = [], replacement_field = match[2], field_match = [];\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1]);\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else {\n                                throw('[sprintf] huh?');\n                            }\n                        }\n                    }\n                    else {\n                        throw('[sprintf] huh?');\n                    }\n                    match[2] = field_list;\n                }\n                else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw('[sprintf] mixing positional and named placeholders is not (yet) supported');\n                }\n                parse_tree.push(match);\n            }\n            else {\n                throw('[sprintf] huh?');\n            }\n            _fmt = _fmt.substring(match[0].length);\n        }\n        return parse_tree;\n    };\n\n    var vsprintf = function(fmt, argv, _argv) {\n        _argv = argv.slice(0);\n        _argv.splice(0, 0, fmt);\n        return sprintf.apply(null, _argv);\n    };\n\n    /**\n     * helpers\n     */\n    function get_type(variable) {\n        return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    function str_repeat(input, multiplier) {\n        for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}\n        return output.join('');\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    ctx.sprintf = sprintf;\n    ctx.vsprintf = vsprintf;\n})(typeof global !== \"undefined\" ? global : window);\n/* eslint-enable */\n// UMD taken from https://github.com/umdjs/umd\n(function(factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node/CommonJS\n        module.exports = function(root, jQuery) {\n            if (jQuery === undefined) {\n                // require('jQuery') returns a factory that requires window to\n                // build a jQuery instance, we normalize how we use modules\n                // that require this pattern but the window provided is a noop\n                // if it's defined (how jquery works)\n                if (typeof window !== 'undefined') {\n                    jQuery = require('jquery');\n                }\n                else {\n                    jQuery = require('jquery')(root);\n                }\n            }\n            factory(jQuery);\n            return jQuery;\n        };\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n})(function($, undefined) {\n    'use strict';\n    // -----------------------------------------------------------------------\n    // :: Replacemenet for jQuery 2 deferred objects\n    // -----------------------------------------------------------------------\n    function DelayQueue() {\n        var callbacks = $.Callbacks();\n        var resolved = false;\n        this.resolve = function() {\n            callbacks.fire();\n            resolved = true;\n        };\n        this.add = function(fn) {\n            if (resolved) {\n                fn();\n            } else {\n                callbacks.add(fn);\n            }\n        };\n    }\n    // -----------------------------------------------------------------------\n    // :: map object to object\n    // -----------------------------------------------------------------------\n    $.omap = function(o, fn) {\n        var result = {};\n        $.each(o, function(k, v) {\n            result[k] = fn.call(o, k, v);\n        });\n        return result;\n    };\n    // -----------------------------------------------------------------------\n    // :: Deep clone of objects and arrays\n    // -----------------------------------------------------------------------\n    var Clone = {\n        clone_object: function(object) {\n            var tmp = {};\n            if (typeof object === 'object') {\n                if ($.isArray(object)) {\n                    return this.clone_array(object);\n                } else if (object === null) {\n                    return object;\n                } else {\n                    for (var key in object) {\n                        if ($.isArray(object[key])) {\n                            tmp[key] = this.clone_array(object[key]);\n                        } else if (typeof object[key] === 'object') {\n                            tmp[key] = this.clone_object(object[key]);\n                        } else {\n                            tmp[key] = object[key];\n                        }\n                    }\n                }\n            }\n            return tmp;\n        },\n        clone_array: function(array) {\n            if (!$.isFunction(Array.prototype.map)) {\n                throw new Error(\"Your browser don't support ES5 array map \" +\n                                'use es5-shim');\n            }\n            return array.slice(0).map(function(item) {\n                if (typeof item === 'object') {\n                    return this.clone_object(item);\n                } else {\n                    return item;\n                }\n            }.bind(this));\n        }\n    };\n    var clone = function(object) {\n        return Clone.clone_object(object);\n    };\n\n    /* eslint-disable */\n    var hasLS = function() {\n      var testKey = 'test', storage = window.localStorage;\n      try {\n        storage.setItem(testKey, '1');\n        storage.removeItem(testKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    };\n\n    // -----------------------------------------------------------------------\n    // :: Storage plugin\n    // -----------------------------------------------------------------------\n    // Private data\n    var isLS = hasLS();\n    // Private functions\n    function wls(n, v) {\n        var c;\n        if (typeof n === 'string' && typeof v === 'string') {\n            localStorage[n] = v;\n            return true;\n        } else if (typeof n === 'object' && typeof v === 'undefined') {\n            for (c in n) {\n                if (n.hasOwnProperty(c)) {\n                    localStorage[c] = n[c];\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function wc(n, v) {\n        var dt, e, c;\n        dt = new Date();\n        dt.setTime(dt.getTime() + 31536000000);\n        e = '; expires=' + dt.toGMTString();\n        if (typeof n === 'string' && typeof v === 'string') {\n            document.cookie = n + '=' + v + e + '; path=/';\n            return true;\n        } else if (typeof n === 'object' && typeof v === 'undefined') {\n            for (c in n) {\n                if (n.hasOwnProperty(c)) {\n                    document.cookie = c + '=' + n[c] + e + '; path=/';\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function rls(n) {\n        return localStorage[n];\n    }\n    function rc(n) {\n        var nn, ca, i, c;\n        nn = n + '=';\n        ca = document.cookie.split(';');\n        for (i = 0; i < ca.length; i++) {\n            c = ca[i];\n            while (c.charAt(0) === ' ') {\n                c = c.substring(1, c.length);\n            }\n            if (c.indexOf(nn) === 0) {\n                return c.substring(nn.length, c.length);\n            }\n        }\n        return null;\n    }\n    function dls(n) {\n        return delete localStorage[n];\n    }\n    function dc(n) {\n        return wc(n, '', -1);\n    }\n    /**\n    * Public API\n    * $.Storage.set(\"name\", \"value\")\n    * $.Storage.set({\"name1\":\"value1\", \"name2\":\"value2\", etc})\n    * $.Storage.get(\"name\")\n    * $.Storage.remove(\"name\")\n    */\n    $.extend({\n        Storage: {\n            set: isLS ? wls : wc,\n            get: isLS ? rls : rc,\n            remove: isLS ? dls : dc\n        }\n    });\n    // -----------------------------------------------------------------------\n    // :: jQuery Timers\n    // -----------------------------------------------------------------------\n    var jQuery = $;\n    jQuery.fn.extend({\n        everyTime: function(interval, label, fn, times, belay) {\n            return this.each(function() {\n                jQuery.timer.add(this, interval, label, fn, times, belay);\n            });\n        },\n        oneTime: function(interval, label, fn) {\n            return this.each(function() {\n                jQuery.timer.add(this, interval, label, fn, 1);\n            });\n        },\n        stopTime: function(label, fn) {\n            return this.each(function() {\n                jQuery.timer.remove(this, label, fn);\n            });\n        }\n    });\n\n    jQuery.extend({\n        timer: {\n            guid: 1,\n            global: {},\n            regex: /^([0-9]+)\\s*(.*s)?$/,\n            powers: {\n                // Yeah this is major overkill...\n                'ms': 1,\n                'cs': 10,\n                'ds': 100,\n                's': 1000,\n                'das': 10000,\n                'hs': 100000,\n                'ks': 1000000\n            },\n            timeParse: function(value) {\n                if (value === undefined || value === null) {\n                    return null;\n                }\n                var result = this.regex.exec(jQuery.trim(value.toString()));\n                if (result[2]) {\n                    var num = parseInt(result[1], 10);\n                    var mult = this.powers[result[2]] || 1;\n                    return num * mult;\n                } else {\n                    return value;\n                }\n            },\n            add: function(element, interval, label, fn, times, belay) {\n                var counter = 0;\n\n                if (jQuery.isFunction(label)) {\n                    if (!times) {\n                        times = fn;\n                    }\n                    fn = label;\n                    label = interval;\n                }\n\n                interval = jQuery.timer.timeParse(interval);\n\n                if (typeof interval !== 'number' ||\n                    isNaN(interval) ||\n                    interval <= 0) {\n                    return;\n                }\n                if (times && times.constructor !== Number) {\n                    belay = !!times;\n                    times = 0;\n                }\n\n                times = times || 0;\n                belay = belay || false;\n\n                if (!element.$timers) {\n                    element.$timers = {};\n                }\n                if (!element.$timers[label]) {\n                    element.$timers[label] = {};\n                }\n                fn.$timerID = fn.$timerID || this.guid++;\n\n                var handler = function() {\n                    if (belay && handler.inProgress) {\n                        return;\n                    }\n                    handler.inProgress = true;\n                    if ((++counter > times && times !== 0) ||\n                        fn.call(element, counter) === false) {\n                        jQuery.timer.remove(element, label, fn);\n                    }\n                    handler.inProgress = false;\n                };\n\n                handler.$timerID = fn.$timerID;\n\n                if (!element.$timers[label][fn.$timerID]) {\n                    element.$timers[label][fn.$timerID] = window.setInterval(handler, interval);\n                }\n\n                if (!this.global[label]) {\n                    this.global[label] = [];\n                }\n                this.global[label].push(element);\n\n            },\n            remove: function(element, label, fn) {\n                var timers = element.$timers, ret;\n\n                if (timers) {\n\n                    if (!label) {\n                        for (var lab in timers) {\n                            if (timers.hasOwnProperty(lab)) {\n                                this.remove(element, lab, fn);\n                            }\n                        }\n                    } else if (timers[label]) {\n                        if (fn) {\n                            if (fn.$timerID) {\n                                window.clearInterval(timers[label][fn.$timerID]);\n                                delete timers[label][fn.$timerID];\n                            }\n                        } else {\n                            for (var _fn in timers[label]) {\n                                if (timers[label].hasOwnProperty(_fn)) {\n                                    window.clearInterval(timers[label][_fn]);\n                                    delete timers[label][_fn];\n                                }\n                            }\n                        }\n\n                        for (ret in timers[label]) {\n                            if (timers[label].hasOwnProperty(ret)) {\n                                break;\n                            }\n                        }\n                        if (!ret) {\n                            ret = null;\n                            delete timers[label];\n                        }\n                    }\n\n                    for (ret in timers) {\n                        if (timers.hasOwnProperty(ret)) {\n                            break;\n                        }\n                    }\n                    if (!ret) {\n                        element.$timers = null;\n                    }\n                }\n            }\n        }\n    });\n\n    if (/(msie) ([\\w.]+)/.exec(navigator.userAgent.toLowerCase())) {\n        jQuery(window).one('unload', function() {\n            var global = jQuery.timer.global;\n            for (var label in global) {\n                if (global.hasOwnProperty(label)) {\n                    var els = global[label], i = els.length;\n                    while (--i) {\n                        jQuery.timer.remove(els[i], label);\n                    }\n                }\n            }\n        });\n    }\n    // -----------------------------------------------------------------------\n    // :: CROSS BROWSER SPLIT\n    // -----------------------------------------------------------------------\n    (function(undef) {\n\n        // prevent double include\n\n        if (!String.prototype.split.toString().match(/\\[native/)) {\n            return;\n        }\n\n        var nativeSplit = String.prototype.split,\n        compliantExecNpcg = /()??/.exec(\"\")[1] === undef, // NPCG: nonparticipating capturing group\n        self;\n\n        self = function(str, separator, limit) {\n            // If `separator` is not a regex, use `nativeSplit`\n            if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n                return nativeSplit.call(str, separator, limit);\n            }\n            var output = [],\n            flags = (separator.ignoreCase ? \"i\" : \"\") +\n                (separator.multiline  ? \"m\" : \"\") +\n                (separator.extended   ? \"x\" : \"\") + // Proposed for ES6\n                (separator.sticky     ? \"y\" : \"\"), // Firefox 3+\n                lastLastIndex = 0,\n            // Make `global` and avoid `lastIndex` issues by working with a copy\n            separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + \"g\");\n            str += \"\"; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            // ? Math.pow(2, 32) - 1 : ToUint32(limit)\n            limit = limit === undef ? -1 >>> 0 : limit >>> 0;\n            while (match = separator.exec(str)) {\n                    // `separator.lastIndex` is not reliable cross-browser\n                    lastIndex = match.index + match[0].length;\n                    if (lastIndex > lastLastIndex) {\n                        output.push(str.slice(lastLastIndex, match.index));\n                        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                        // nonparticipating capturing groups\n                        if (!compliantExecNpcg && match.length > 1) {\n                            match[0].replace(separator2, function() {\n                                for (var i = 1; i < arguments.length - 2; i++) {\n                                    if (arguments[i] === undef) {\n                                        match[i] = undef;\n                                    }\n                                }\n                            });\n                        }\n                        if (match.length > 1 && match.index < str.length) {\n                            Array.prototype.push.apply(output, match.slice(1));\n                        }\n                        lastLength = match[0].length;\n                        lastLastIndex = lastIndex;\n                        if (output.length >= limit) {\n                            break;\n                        }\n                    }\n                    if (separator.lastIndex === match.index) {\n                        separator.lastIndex++; // Avoid an infinite loop\n                    }\n                }\n            if (lastLastIndex === str.length) {\n                if (lastLength || !separator.test(\"\")) {\n                    output.push(\"\");\n                }\n            } else {\n                output.push(str.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n\n        // For convenience\n        String.prototype.split = function(separator, limit) {\n            return self(this, separator, limit);\n        };\n\n        return self;\n\n    })();\n    // -----------------------------------------------------------------------\n    // :: jQuery Caret\n    // -----------------------------------------------------------------------\n    $.fn.caret = function(pos) {\n        var target = this[0];\n        var isContentEditable = target.contentEditable === 'true';\n        //get\n        if (arguments.length === 0) {\n            //HTML5\n            if (window.getSelection) {\n                //contenteditable\n                if (isContentEditable) {\n                    target.focus();\n                    var range1 = window.getSelection().getRangeAt(0),\n                    range2 = range1.cloneRange();\n                    range2.selectNodeContents(target);\n                    range2.setEnd(range1.endContainer, range1.endOffset);\n                    return range2.toString().length;\n                }\n                //textarea\n                return target.selectionStart;\n            }\n            //IE<9\n            if (document.selection) {\n                target.focus();\n                //contenteditable\n                if (isContentEditable) {\n                    var range1 = document.selection.createRange(),\n                    range2 = document.body.createTextRange();\n                    range2.moveToElementText(target);\n                    range2.setEndPoint('EndToEnd', range1);\n                    return range2.text.length;\n                }\n                //textarea\n                var pos = 0,\n                range = target.createTextRange(),\n                range2 = document.selection.createRange().duplicate(),\n                bookmark = range2.getBookmark();\n                range.moveToBookmark(bookmark);\n                while (range.moveStart('character', -1) !== 0) pos++;\n                return pos;\n            }\n            //not supported\n            return 0;\n        }\n        //set\n        if (pos === -1)\n            pos = this[isContentEditable? 'text' : 'val']().length;\n        //HTML5\n        if (window.getSelection) {\n            //contenteditable\n            if (isContentEditable) {\n                target.focus();\n                window.getSelection().collapse(target.firstChild, pos);\n            }\n            //textarea\n            else\n                target.setSelectionRange(pos, pos);\n        }\n        //IE<9\n        else if (document.body.createTextRange) {\n            var range = document.body.createTextRange();\n            range.moveToElementText(target);\n            range.moveStart('character', pos);\n            range.collapse(true);\n            range.select();\n        }\n        if (!isContentEditable)\n            target.focus();\n        return pos;\n    };\n    /* eslint-enable */\n    var requestAnimationFrame =\n        window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        function(fn) {\n            return window.setTimeout(fn, 20);\n        };\n    // -----------------------------------------------------------------------\n    // :: Cross-browser resize element plugin\n    // :: Taken from ResizeSensor.js file from marcj/css-element-queries (MIT license)\n    // :: not all jQuerifided\n    // -----------------------------------------------------------------------\n    $.fn.resizer = function(callback) {\n        var unbind = arguments[0] === \"unbind\";\n        if (!unbind && !$.isFunction(callback)) {\n            throw new Error(\n                'Invalid argument, it need to a function of string \"unbind\".'\n            );\n        }\n        return this.each(function() {\n            var $this = $(this);\n            if (unbind) {\n                $(this).removeData('callbacks').find('.resizer').remove();\n            } else if ($this.data('callbacks')) {\n                $(this).data('callbacks').push(callback);\n            } else {\n                $this.data('callbacks', [callback]);\n                var self = this;\n                var resizer = $('<div/>').addClass('resizer').appendTo(this)[0];\n                var style =\n                    'position: absolute; left: 0; top: 0; right: 0; bottom: 0; ' +\n                    'overflow: hidden; z-index: -1; visibility: hidden;';\n                var styleChild = 'position: absolute; left: 0; top: 0; transition: 0s;';\n                resizer.style.cssText = style;\n                resizer.innerHTML =\n                    '<div class=\"resize-sensor-expand\" style=\"' + style + '\">' +\n                    '<div style=\"' + styleChild + '\"></div>' + \"</div>\" +\n                    '<div class=\"resize-sensor-shrink\" style=\"' + style + '\">' +\n                    '<div style=\"' + styleChild + ' width: 200%; height: 200%\"></div>' +\n                    \"</div>\";\n\n                var expand = resizer.childNodes[0];\n                var expandChild = expand.childNodes[0];\n                var shrink = resizer.childNodes[1];\n                var dirty, rafId, newWidth, newHeight;\n                var lastWidth = self.offsetWidth;\n                var lastHeight = self.offsetHeight;\n\n                var reset = function() {\n                    expandChild.style.width = '100000px';\n                    expandChild.style.height = '100000px';\n\n                    expand.scrollLeft = 100000;\n                    expand.scrollTop = 100000;\n\n                    shrink.scrollLeft = 100000;\n                    shrink.scrollTop = 100000;\n                };\n\n                reset();\n\n                var onResized = function() {\n                    rafId = 0;\n\n                    if (!dirty) {\n                        return;\n                    }\n\n                    lastWidth = newWidth;\n                    lastHeight = newHeight;\n                    var callbacks = $this.data('callbacks');\n                    if (callbacks && callbacks.length) {\n                        callbacks.forEach(function(fn) {\n                            fn();\n                        });\n                    }\n                };\n\n                var onScroll = function() {\n                    newWidth = self.offsetWidth;\n                    newHeight = self.offsetHeight;\n                    dirty = newWidth !== lastWidth || newHeight !== lastHeight;\n\n                    if (dirty && !rafId) {\n                        rafId = requestAnimationFrame(onResized);\n                    }\n\n                    reset();\n                };\n                $(expand).on(\"scroll\", onScroll);\n                $(shrink).on(\"scroll\", onScroll);\n            }\n        });\n    };\n    // -----------------------------------------------------------------------\n    // :: hide elements from screen readers\n    // -----------------------------------------------------------------------\n    function a11y_hide(element) {\n        element.attr({\n            role: 'presentation',\n            'aria-hidden': 'true'\n        });\n    }\n    // -----------------------------------------------------------------------\n    // :: CYCLE DATA STRUCTURE\n    // -----------------------------------------------------------------------\n    function Cycle() {\n        var data = [].slice.call(arguments);\n        var pos = 0;\n        $.extend(this, {\n            get: function() {\n                return data;\n            },\n            index: function() {\n                return pos;\n            },\n            rotate: function(skip) {\n                if (!skip) {\n                    var defined = data.filter(function(item) {\n                        return typeof item !== 'undefined';\n                    });\n                    if (!defined.length) {\n                        return;\n                    }\n                }\n                if (data.length === 1) {\n                    return data[0];\n                } else {\n                    if (pos === data.length - 1) {\n                        pos = 0;\n                    } else {\n                        ++pos;\n                    }\n                    if (typeof data[pos] !== 'undefined') {\n                        return data[pos];\n                    } else {\n                        return this.rotate(true);\n                    }\n                }\n            },\n            length: function() {\n                return data.length;\n            },\n            remove: function(index) {\n                delete data[index];\n            },\n            set: function(item) {\n                for (var i = data.length; i--;) {\n                    if (data[i] === item) {\n                        pos = i;\n                        return;\n                    }\n                }\n                this.append(item);\n                pos = data.length - 1;\n            },\n            front: function() {\n                if (data.length) {\n                    var index = pos;\n                    var restart = false;\n                    while (!data[index]) {\n                        index++;\n                        if (index > data.length) {\n                            if (restart) {\n                                break;\n                            }\n                            index = 0;\n                            restart = true;\n                        }\n                    }\n                    return data[index];\n                }\n            },\n            map: function(fn) {\n                return data.filter(Boolean).map(fn);\n            },\n            forEach: function(fn) {\n                data.filter(Boolean).forEach(fn);\n            },\n            append: function(item) {\n                data.push(item);\n            }\n        });\n    }\n    // -----------------------------------------------------------------------\n    // :: STACK DATA STRUCTURE\n    // -----------------------------------------------------------------------\n    function Stack(init) {\n        var data = init instanceof Array ? init : init ? [init] : [];\n        $.extend(this, {\n            data: function() {\n                return data;\n            },\n            map: function(fn) {\n                return $.map(data, fn);\n            },\n            size: function() {\n                return data.length;\n            },\n            pop: function() {\n                if (data.length === 0) {\n                    return null;\n                } else {\n                    var value = data[data.length - 1];\n                    data = data.slice(0, data.length - 1);\n                    return value;\n                }\n            },\n            push: function(value) {\n                data = data.concat([value]);\n                return value;\n            },\n            top: function() {\n                return data.length > 0 ? data[data.length - 1] : null;\n            },\n            clone: function() {\n                return new Stack(data.slice(0));\n            }\n        });\n    }\n    // -------------------------------------------------------------------------\n    // :: HISTORY CLASS\n    // -------------------------------------------------------------------------\n    function History(name, size, memory) {\n        var enabled = true;\n        var storage_key = '';\n        if (typeof name === 'string' && name !== '') {\n            storage_key = name + '_';\n        }\n        storage_key += 'commands';\n        var data;\n        if (memory) {\n            data = [];\n        } else {\n            data = $.Storage.get(storage_key);\n            data = data ? JSON.parse(data) : [];\n        }\n        var pos = data.length - 1;\n        $.extend(this, {\n            append: function(item) {\n                if (enabled) {\n                    if (data[data.length - 1] !== item) {\n                        data.push(item);\n                        if (size && data.length > size) {\n                            data = data.slice(-size);\n                        }\n                        pos = data.length - 1;\n                        if (!memory) {\n                            $.Storage.set(storage_key, JSON.stringify(data));\n                        }\n                    }\n                }\n            },\n            set: function(new_data) {\n                if (new_data instanceof Array) {\n                    data = new_data;\n                    if (!memory) {\n                        $.Storage.set(storage_key, JSON.stringify(data));\n                    }\n                }\n            },\n            data: function() {\n                return data;\n            },\n            reset: function() {\n                pos = data.length - 1;\n            },\n            last: function() {\n                return data[data.length - 1];\n            },\n            end: function() {\n                return pos === data.length - 1;\n            },\n            position: function() {\n                return pos;\n            },\n            current: function() {\n                return data[pos];\n            },\n            next: function() {\n                if (pos < data.length - 1) {\n                    ++pos;\n                }\n                if (pos !== -1) {\n                    return data[pos];\n                }\n            },\n            previous: function() {\n                var old = pos;\n                if (pos > 0) {\n                    --pos;\n                }\n                if (old !== -1) {\n                    return data[pos];\n                }\n            },\n            clear: function() {\n                data = [];\n                this.purge();\n            },\n            enabled: function() {\n                return enabled;\n            },\n            enable: function() {\n                enabled = true;\n            },\n            purge: function() {\n                if (!memory) {\n                    $.Storage.remove(storage_key);\n                }\n            },\n            disable: function() {\n                enabled = false;\n            }\n        });\n    }\n    // -------------------------------------------------------------------------\n    // :: COMMAND LINE PLUGIN\n    // -------------------------------------------------------------------------\n    var cmd_index = 0;\n    $.fn.cmd = function(options) {\n        var self = this;\n        var maybe_data = self.data('cmd');\n        if (maybe_data) {\n            return maybe_data;\n        }\n        var id = cmd_index++;\n        self.addClass('cmd');\n        self.append('<span class=\"prompt\"></span><span></span>' +\n                    '<span class=\"cursor\">&nbsp;</span><span></span>');\n        // a11y: don't read command it's in textarea that's in focus\n        a11y_hide(self.find('span').not(':eq(0)'));\n        // on mobile the only way to hide textarea on desktop it's needed because\n        // textarea show up after focus\n        //self.append('<span class=\"mask\"></mask>');\n        var clip = $('<textarea>').attr({\n            autocapitalize: 'off',\n            spellcheck: 'false',\n            tabindex: 1\n        }).addClass('clipboard').appendTo(self);\n        // we don't need this but leave it as a comment just in case\n        //var contentEditable = $('<div contentEditable></div>')\n        //$(document.body).append(contentEditable);\n        if (options.width) {\n            self.width(options.width);\n        }\n        var num_chars; // calculated by draw_prompt\n        var prompt_len;\n        var prompt_node = self.find('.prompt');\n        var reverse_search = false;\n        var rev_search_str = '';\n        var reverse_search_position = null;\n        var backup_prompt;\n        var mask = options.mask || false;\n        var command = '';\n        var last_command;\n        // text from selection using CTRL+SHIFT+C (as in Xterm)\n        var kill_text = ''; // text from command that kill part of the command\n        var position = 0;\n        var prompt;\n        var enabled;\n        var historySize = options.historySize || 60;\n        var name, history;\n        var cursor = self.find('.cursor');\n        var animation;\n        var paste_count = 0;\n        function get_char_size() {\n            var span = $('<span>&nbsp;</span>').appendTo(self);\n            var rect = span[0].getBoundingClientRect();\n            span.remove();\n            return rect;\n        }\n        function get_focus_offset() {\n            var sel;\n            if ((sel = window.getSelection()) && (sel.focusNode !== null)) {\n                return sel.focusOffset;\n            }\n        }\n        function get_char_pos(e) {\n            var focus = get_focus_offset();\n            var col;\n            var size = get_char_size();\n            var height = size.height;\n            var offset = self.offset();\n            var row = Math.floor((e.pageY - offset.top) / height);\n            if ($.isNumeric(focus)) {\n                var node = $(e.target).closest('[role=\"presentation\"]');\n                if (node.is('div')) {\n                    col = focus;\n                } else if (node.next().is('.cursor')) {\n                    col = focus;\n                } else if (node.is('.cursor')) {\n                    return position;\n                } else if (node.prev().is('.cursor')) {\n                    return position + focus;\n                } else {\n                    col = 0;\n                }\n            } else {\n                return command.length;\n            }\n            var lines = get_splited_command_line(command);\n            var try_pos;\n            if (row > 0 && lines.length > 1) {\n                try_pos = col + lines.slice(0, row).reduce(function(sum, line) {\n                    return sum + line.length;\n                }, 0);\n            } else {\n                try_pos = col;\n            }\n            // tabs are 4 spaces and newline don't show up in results\n            var text = command.replace(/\\t/g, '\\x00\\x00\\x00\\x00').replace(/\\n/, '');\n            var before = text.slice(0, try_pos);\n            var len = before.replace(/\\x00{4}/g, '\\t').replace(/\\x00+/, '').length;\n            var command_len = command.length;\n            return len > command_len ? command_len : len;\n        }\n        function get_key(e) {\n            if (e.key) {\n                var key = e.key.toUpperCase();\n                if (key === 'CONTROL') {\n                    return 'CTRL';\n                } else {\n                    var combo = [];\n                    if (e.ctrlKey) {\n                        combo.push('CTRL');\n                    }\n                    if (e.metaKey && key !== 'META') {\n                        combo.push('META');\n                    }\n                    if (e.shiftKey && key !== 'SHIFT') {\n                        combo.push('SHIFT');\n                    }\n                    if (e.altKey && key !== 'ALT') {\n                        combo.push('ALT');\n                    }\n                    if (e.key) {\n                        if (key === 'DEL') { // IE11\n                            combo.push('DELETE');\n                        } else {\n                            combo.push(key);\n                        }\n                    }\n                    return combo.join('+');\n                }\n            }\n        }\n        var keymap;\n        var default_keymap = {\n            'ALT+D': function() {\n                self.set(command.slice(0, position) +\n                         command.slice(position).\n                         replace(/ *[^ ]+ *(?= )|[^ ]+$/, ''), true);\n                // chrome jump to address bar\n                return false;\n            },\n            'ENTER': function() {\n                if (history && command && !mask &&\n                    ($.isFunction(options.historyFilter) &&\n                     options.historyFilter(command)) ||\n                    (options.historyFilter instanceof RegExp &&\n                     command.match(options.historyFilter)) ||\n                    !options.historyFilter) {\n                    history.append(command);\n                }\n                var tmp = command;\n                history.reset();\n\n                // for next input event on firefox/android with google keyboard\n                text = '';\n                no_keydown = true;\n\n                self.set('');\n                if (options.commands) {\n                    options.commands(tmp);\n                }\n                if ($.isFunction(prompt)) {\n                    draw_prompt();\n                }\n                $('.clipboard').val('');\n                return false;\n            },\n            'SHIFT+ENTER': function() {\n                self.insert('\\n');\n                return true;\n            },\n            'BACKSPACE': function() {\n                if (reverse_search) {\n                    rev_search_str = rev_search_str.slice(0, -1);\n                    draw_reverse_prompt();\n                } else if (command !== '' && position > 0) {\n                    self['delete'](-1);\n                }\n                // for next input after naitve backspace\n                no_keydown = true;\n            },\n            'TAB': function() {\n                self.insert('\\t');\n            },\n            'CTRL+D': function() {\n                self['delete'](1);\n                return false;\n            },\n            'DELETE': function() {\n                self['delete'](1);\n                return true;\n            },\n            'ARROWUP': prev_history,\n            'UP': prev_history, // IE\n            'CTRL+P': prev_history,\n            'ARROWDOWN': next_history,\n            'DOWN': next_history, // IE\n            'CTRL+N': next_history,\n            'ARROWLEFT': left,\n            'LEFT': left, // IE\n            'CTRL+B': left,\n            'CTRL+ARROWLEFT': function() {\n                // jump to one character after last space before prevoius word\n                var len = position - 1;\n                var pos = 0;\n                if (command[len] === ' ') {\n                    --len;\n                }\n                for (var i = len; i > 0; --i) {\n                    if (command[i] === ' ' && command[i + 1] !== ' ') {\n                        pos = i + 1;\n                        break;\n                    } else if (command[i] === '\\n' &&\n                               command[i + 1] !== '\\n') {\n                        pos = i;\n                        break;\n                    }\n                }\n                self.position(pos);\n            },\n            'CTRL+R': function() {\n                if (reverse_search) {\n                    reverse_history_search(true);\n                } else {\n                    backup_prompt = prompt;\n                    draw_reverse_prompt();\n                    last_command = command;\n                    self.set('');\n                    redraw();\n                    reverse_search = true;\n                }\n                return false;\n            },\n            'CTRL+G': function() {\n                if (reverse_search) {\n                    prompt = backup_prompt;\n                    draw_prompt();\n                    self.set(last_command);\n                    redraw();\n                    reverse_search = false;\n                    rev_search_str = '';\n                    return false;\n                }\n            },\n            'ARROWRIGHT': right,\n            'CTRL+F': right,\n            'RIGHT': right, // IE\n            'CTRL+ARROWRIGHT': function() {\n                // jump to beginning or end of the word\n                if (command[position] === ' ') {\n                    ++position;\n                }\n                var re = /\\S[\\n\\s]{2,}|[\\n\\s]+\\S?/;\n                var match = command.slice(position).match(re);\n                if (!match || match[0].match(/^\\s+$/)) {\n                    self.position(command.length);\n                } else if (match[0][0] !== ' ') {\n                    position += match.index + 1;\n                } else {\n                    position += match.index + match[0].length - 1;\n                    if (match[0][match[0].length - 1] !== ' ') {\n                        --position;\n                    }\n                }\n                redraw();\n            },\n            'F12': return_true, // Allow Firebug\n            'END': end,\n            'CTRL+E': end,\n            'HOME': home,\n            'CTRL+A': home,\n            'SHIFT+INSERT': paste_event,\n            'CTRL+SHIFT+T': return_true, // open closed tab\n            'CTRL+W': function() {\n                // don't work in Chromium (can't prevent close tab)\n                if (command !== '' && position !== 0) {\n                    var m = command.slice(0, position).match(/([^ ]+ *$)/);\n                    if (m[0].length) {\n                        kill_text = self['delete'](-m[0].length);\n                        text_to_clipboard(self, kill_text);\n                    }\n                }\n                return false;\n            },\n            'CTRL+H': function() {\n                if (command !== '' && position > 0) {\n                    self['delete'](-1);\n                }\n                return false;\n            },\n            'CTRL+X': return_true,\n            'CTRL+C': return_true,\n            'CTRL+T': return_true,\n            'CTRL+Y': function() {\n                if (kill_text !== '') {\n                    self.insert(kill_text);\n                }\n            },\n            'CTRL+V': paste_event,\n            'META+V': paste_event,\n            'CTRL+K': function() {\n                if (command.length - position) {\n                    kill_text = self['delete'](command.length - position);\n                    text_to_clipboard(self, kill_text);\n                }\n                return false;\n            },\n            'CTRL+U': function() {\n                if (command !== '' && position !== 0) {\n                    kill_text = self['delete'](-position);\n                    text_to_clipboard(self, kill_text);\n                }\n                return false;\n            },\n            'CTRL+TAB': function() {\n                return false;\n            },\n            'META+`': return_true, // CMD+` switch browser window on Mac\n            'META+R': return_true, // CMD+R page reload in Chrome Mac\n            'META+L': return_true  // CLD+L jump into Ominbox on Chrome Mac\n        };\n        function return_true() {\n            return true;\n        }\n        function paste_event() {\n            clip.val('');\n            paste_count = 0;\n            clip.trigger('focus', [true]);\n            clip.on('input', function input(e) {\n                paste(e);\n                clip.off('input', input);\n            });\n            return true;\n        }\n        function prev_history() {\n            if (first_up_history) {\n                last_command = command;\n                self.set(history.current());\n            } else {\n                self.set(history.previous());\n            }\n            first_up_history = false;\n            return false;\n        }\n        function next_history() {\n            self.set(history.end() ? last_command : history.next());\n            return false;\n        }\n        function left() {\n            if (position > 0) {\n                self.position(-1, true);\n                redraw();\n            }\n        }\n        function right() {\n            if (position < command.length) {\n                self.position(1, true);\n            }\n            return false;\n        }\n        function home() {\n            self.position(0);\n        }\n        function end() {\n            self.position(command.length);\n        }\n        function mobile_focus() {\n            //if (is_touch) {\n            var focus = clip.is(':focus');\n            if (enabled) {\n                if (!focus) {\n                    //clip.trigger('focus', [true]);\n                }\n                self.oneTime(10, function() {\n                    if (!clip.is(':focus') && enabled) {\n                        clip.trigger('focus', [true]);\n                    }\n                });\n            } else if (focus && (is_mobile || !enabled)) {\n                clip.trigger('blur', [true]);\n            }\n        }\n        // on mobile you can't delete character if input is empty (event\n        // will not fire) so we fake text entry, we could just put dummy\n        // data but we put real command and position\n        function fix_textarea() {\n            // delay worked while experimenting\n            self.oneTime(10, function() {\n                clip.val(command);\n                if (enabled) {\n                    self.oneTime(10, function() {\n                        try {\n                            clip.caret(position);\n                        } catch (e) {\n                            // firefox throw NS_ERROR_FAILURE ignore\n                        }\n                    });\n                }\n            });\n        }\n        // terminal animation don't work on andorid because they animate\n        // 2 properties\n        if (support_animations && !is_android) {\n            animation = function(toggle) {\n                if (toggle) {\n                    cursor.addClass('blink');\n                } else {\n                    cursor.removeClass('blink');\n                }\n            };\n        } else {\n            var animating = false;\n            animation = function(toggle) {\n                if (toggle && !animating) {\n                    animating = true;\n                    cursor.addClass('inverted blink');\n                    self.everyTime(500, 'blink', blink);\n                } else if (animating && !toggle) {\n                    animating = false;\n                    self.stopTime('blink', blink);\n                    cursor.removeClass('inverted blink');\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: Blinking cursor function\n        // ---------------------------------------------------------------------\n        function blink() {\n            cursor.toggleClass('inverted');\n        }\n        // ---------------------------------------------------------------------\n        // :: Set prompt for reverse search\n        // ---------------------------------------------------------------------\n        function draw_reverse_prompt() {\n            prompt = '(reverse-i-search)`' + rev_search_str + \"': \";\n            draw_prompt();\n        }\n        // ---------------------------------------------------------------------\n        // :: Disable reverse search\n        // ---------------------------------------------------------------------\n        function clear_reverse_state() {\n            prompt = backup_prompt;\n            reverse_search = false;\n            reverse_search_position = null;\n            rev_search_str = '';\n        }\n        // ---------------------------------------------------------------------\n        // :: Search through command line history. If next is not defined or\n        // :: false it searches for the first item from the end. If true it\n        // :: search for the next item\n        // ---------------------------------------------------------------------\n        function reverse_history_search(next) {\n            var history_data = history.data();\n            var regex, save_string;\n            var len = history_data.length;\n            if (next && reverse_search_position > 0) {\n                len -= reverse_search_position;\n            }\n            if (rev_search_str.length > 0) {\n                for (var j = rev_search_str.length; j > 0; j--) {\n                    save_string = $.terminal.escape_regex(rev_search_str.substring(0, j));\n                    regex = new RegExp(save_string);\n                    for (var i = len; i--;) {\n                        if (regex.test(history_data[i])) {\n                            reverse_search_position = history_data.length - i;\n                            self.position(history_data[i].indexOf(save_string));\n                            self.set(history_data[i], true);\n                            redraw();\n                            if (rev_search_str.length !== j) {\n                                rev_search_str = rev_search_str.substring(0, j);\n                                draw_reverse_prompt();\n                            }\n                            return;\n                        }\n                    }\n                }\n            }\n            rev_search_str = ''; // clear if not found any\n        }\n        // ---------------------------------------------------------------------\n        // :: Recalculate number of characters in command line\n        // ---------------------------------------------------------------------\n        function change_num_chars() {\n            var $prompt = self.find('.prompt').text('&nbsp;');\n            var W = self.width();\n            var w = $prompt[0].getBoundingClientRect().width;\n            num_chars = Math.floor(W / w);\n            draw_prompt();\n        }\n        // ---------------------------------------------------------------------\n        // :: Split String that fit into command line where first line need to\n        // :: fit next to prompt (need to have less characters)\n        // ---------------------------------------------------------------------\n        function get_splited_command_line(string) {\n            function split(string) {\n                return $.terminal.split_equal(string, num_chars);\n            }\n            var prompt = prompt_node.text();\n            var re = new RegExp('^' + $.terminal.escape_regex(prompt));\n            var array;\n            if (string.match(/\\n/)) {\n                var tmp = string.split('\\n');\n                var first_len = num_chars - prompt_len - 1;\n                for (var i = 0; i < tmp.length - 1; ++i) {\n                    tmp[i] += ' ';\n                }\n                // split first line\n                if (strlen(tmp[0]) > first_len) {\n                    array = split(prompt + tmp[0], num_chars);\n                    array[0] = array[0].replace(re, '');\n                } else {\n                    array = [tmp[0]];\n                }\n                // process rest of the lines\n                for (i = 1; i < tmp.length; ++i) {\n                    if (tmp[i].length > num_chars) {\n                        array = array.concat(split(tmp[i], num_chars));\n                    } else {\n                        array.push(tmp[i]);\n                    }\n                }\n            } else {\n                array = split(prompt + string, num_chars);\n                array[0] = array[0].replace(re, '');\n            }\n            return array;\n        }\n        // ---------------------------------------------------------------------\n        // :: use custom formatting\n        // ---------------------------------------------------------------------\n        function formatting(string) {\n            // we don't want to format command when user type formatting in\n            string = $.terminal.escape_formatting(string);\n            try {\n                return $.terminal.apply_formatters(string);\n            } catch (e) {\n                alert(e.message + '\\n' + (e.stack ? e.stack : e));\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: format end encode the string\n        // ---------------------------------------------------------------------\n        function format(string) {\n            return $.terminal.format($.terminal.encode(string));\n        }\n        // ---------------------------------------------------------------------\n        // :: Function that displays the command line. Split long lines and\n        // :: place cursor in the right place\n        // ---------------------------------------------------------------------\n        var redraw = (function() {\n            var before = cursor.prev();\n            var after = cursor.next();\n            // -----------------------------------------------------------------\n            // :: Draw line with the cursor\n            // -----------------------------------------------------------------\n            function slice(string, start, end) {\n                return $.terminal.substring(string, start, end);\n            }\n            function draw_cursor_line(string, position) {\n                var len = string.length;\n                string = formatting(string);\n                if (position === len) {\n                    before.html(format(string));\n                    cursor.html('&nbsp;');\n                    after.html('');\n                } else if (position === 0) {\n                    before.html('');\n                    //fix for tilda in IE\n                    cursor.html(format(slice(string, 0, 1)));\n                    //cursor.html(format(string[0]));\n                    after.html(format(slice(string, 1)));\n                } else {\n                    var before_str = slice(string, 0, position);\n                    before.html(format(before_str));\n                    //fix for tilda in IE\n                    var c = slice(string, position, position + 1);\n                    //cursor.html(string[position]);\n                    cursor.html(format(c));\n                    if (position === string.length - 1) {\n                        after.html('');\n                    } else {\n                        after.html(format(slice(string, position + 1)));\n                    }\n                }\n            }\n            function div(string) {\n                return '<div role=\"presentation\">' +\n                    format(formatting(string)) +\n                    '</div>';\n            }\n            // -----------------------------------------------------------------\n            // :: Display lines after the cursor\n            // -----------------------------------------------------------------\n            function lines_after(lines) {\n                var last_ins = after;\n                $.each(lines, function(i, line) {\n                    last_ins = $(div(line)).insertAfter(last_ins);\n                });\n            }\n            // -----------------------------------------------------------------\n            // :: Display lines before the cursor\n            // -----------------------------------------------------------------\n            function lines_before(lines) {\n                $.each(lines, function(i, line) {\n                    before.before(div(line));\n                });\n            }\n            // -----------------------------------------------------------------\n            // :: Redraw function\n            // -----------------------------------------------------------------\n            return function() {\n                var string;\n                switch (typeof mask) {\n                    case 'boolean':\n                        string = mask ? command.replace(/./g, '*') : command;\n                        break;\n                    case 'string':\n                        string = command.replace(/./g, mask);\n                        break;\n                }\n                var i;\n                self.find('div').remove();\n                before.html('');\n                // long line\n                if (strlen(string) > num_chars - prompt_len - 1 ||\n                    string.match(/\\n/)) {\n                    var tabs = string.match(/\\t/g);\n                    var tabs_rm = tabs ? tabs.length * 3 : 0;\n                    //quick tabulation hack\n                    if (tabs) {\n                        string = string.replace(/\\t/g, '\\x00\\x00\\x00\\x00');\n                    }\n                    var array = get_splited_command_line(string);\n                    if (tabs) {\n                        array = $.map(array, function(line) {\n                            return line.replace(/\\x00\\x00\\x00\\x00/g, '\\t');\n                        });\n                    }\n                    var first_len = array[0].length;\n                    //cursor in first line\n                    if (first_len === 0 && array.length === 1) {\n                        // skip empty line\n                    } else if (position < first_len) {\n                        draw_cursor_line(array[0], position);\n                        lines_after(array.slice(1));\n                    } else if (position === first_len) {\n                        before.before(div(array[0]));\n                        draw_cursor_line(array[1] || '', 0);\n                        if (array.length > 1) {\n                            lines_after(array.slice(2));\n                        }\n                    } else {\n                        var num_lines = array.length;\n                        if (position < first_len) {\n                            draw_cursor_line(array[0], position);\n                            lines_after(array.slice(1));\n                        } else if (position === first_len) {\n                            before.before(div(array[0]));\n                            draw_cursor_line(array[1], 0);\n                            lines_after(array.slice(2));\n                        } else {\n                            var last = array.slice(-1)[0];\n                            var from_last = string.length - position - tabs_rm;\n                            var last_len = last.length;\n                            var pos = 0;\n                            if (from_last <= last_len) { // in last line\n                                lines_before(array.slice(0, -1));\n                                if (last_len === from_last) {\n                                    pos = 0;\n                                } else {\n                                    pos = last_len - from_last;\n                                }\n                                draw_cursor_line(last, pos);\n                            } else if (num_lines === 3) { // in the middle\n                                var str = format(array[0]);\n                                before.before('<div role=\"presentation\">' +\n                                              str +\n                                              '</div>');\n                                draw_cursor_line(array[1], position - first_len - 1);\n                                str = format(formatting(array[2]));\n                                after.after('<div role=\"presentation\">' +\n                                            str +\n                                            '</div>');\n                            } else {\n                                // more lines, cursor in the middle\n                                var line_index;\n                                var current;\n                                pos = position;\n                                for (i = 0; i < array.length; ++i) {\n                                    var current_len = array[i].length;\n                                    if (pos > current_len) {\n                                        pos -= current_len;\n                                    } else {\n                                        break;\n                                    }\n                                }\n                                current = array[i];\n                                line_index = i;\n                                // cursor on first character in line\n                                if (pos === current.length) {\n                                    pos = 0;\n                                    current = array[++line_index];\n                                    if (current === undefined) {\n                                        //should never happen\n                                        var msg = $.terminal.defaults.strings.redrawError;\n                                        throw new Error(msg);\n                                    }\n                                }\n                                draw_cursor_line(current, pos);\n                                lines_before(array.slice(0, line_index));\n                                lines_after(array.slice(line_index + 1));\n                            }\n                        }\n                    }\n                } else if (string === '') {\n                    before.html('');\n                    cursor.html('&nbsp;');\n                    after.html('');\n                } else {\n                    draw_cursor_line(string, position);\n                }\n            };\n        })();\n        // ---------------------------------------------------------------------\n        // :: Draw prompt that can be a function or a string\n        // ---------------------------------------------------------------------\n        var draw_prompt = (function() {\n            function set(prompt) {\n                var lines = $.terminal.split_equal(\n                    $.terminal.encode(prompt),\n                    num_chars\n                );\n                var last_line = lines.slice(-1).map($.terminal.format)[0];\n                var formatted = lines.slice(0, -1).map(function(line) {\n                    line = $.terminal.format(line);\n                    if (line.match(/class=\"/)) {\n                        return line.replace(/class=\"/, 'class=\"line ');\n                    } else {\n                        return line.replace(/^<span/, '<span class=\"line\"');\n                    }\n                }).concat([last_line]).join('\\n');\n                prompt_node.html(formatted);\n                prompt_len = strlen($('<span>' + last_line + '</span>').text());\n            }\n            return function() {\n                switch (typeof prompt) {\n                    case 'string':\n                        set(prompt);\n                        break;\n                    case 'function':\n                        prompt(set);\n                        break;\n                }\n            };\n        })();\n        // ---------------------------------------------------------------------\n        // :: Paste content to terminal using hidden textarea\n        // ---------------------------------------------------------------------\n        function paste() {\n            if (paste_count++ > 0) {\n                return;\n            }\n            if (self.isenabled()) {\n                var clip = self.find('textarea');\n                if (!clip.is(':focus')) {\n                    clip.trigger('focus', [true]);\n                }\n                //wait until Browser insert text to textarea\n                self.oneTime(100, function() {\n                    self.insert(clip.val());\n                    clip.val(command);\n                    fix_textarea();\n                });\n            }\n        }\n        function fire_change_command() {\n            if ($.isFunction(options.onCommandChange)) {\n                options.onCommandChange(command);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Command Line Methods\n        // ---------------------------------------------------------------------\n        $.extend(self, {\n            name: function(string) {\n                if (string !== undefined) {\n                    name = string;\n                    var enabled = history && history.enabled() || !history;\n                    history = new History(\n                        string,\n                        historySize,\n                        options.history === 'memory'\n                    );\n                    // disable new history if old was disabled\n                    if (!enabled) {\n                        history.disable();\n                    }\n                    return self;\n                } else {\n                    return name;\n                }\n            },\n            purge: function() {\n                history.clear();\n                return self;\n            },\n            history: function() {\n                return history;\n            },\n            'delete': function(n, stay) {\n                var removed;\n                if (n === 0) {\n                    return self;\n                } else if (n < 0) {\n                    if (position > 0) {\n                        // this may look weird but if n is negative we need\n                        // to use +\n                        removed = command.slice(0, position).slice(n);\n                        command = command.slice(0, position + n) +\n                            command.slice(position, command.length);\n                        if (!stay) {\n                            self.position(position + n);\n                        }\n                        fire_change_command();\n                    }\n                } else if (command !== '' && position < command.length) {\n                    removed = command.slice(position).slice(0, n);\n                    command = command.slice(0, position) +\n                        command.slice(position + n, command.length);\n                    fire_change_command();\n                }\n                redraw();\n                fix_textarea();\n                return removed;\n            },\n            set: function(string, stay) {\n                if (string !== undefined) {\n                    command = string;\n                    if (!stay) {\n                        self.position(command.length);\n                    }\n                    redraw();\n                    fix_textarea();\n                    fire_change_command();\n                }\n                return self;\n            },\n            keymap: function(new_keymap) {\n                if (typeof new_keymap === 'undefined') {\n                    return keymap;\n                } else {\n                    keymap = $.extend(\n                        {},\n                        default_keymap,\n                        $.omap(new_keymap || {}, function(key, fn) {\n                            return function(e) {\n                                // new keymap function will get default as 2nd argument\n                                return fn(e, default_keymap[key]);\n                            };\n                        })\n                    );\n                    return self;\n                }\n            },\n            insert: function(string, stay) {\n                if (position === command.length) {\n                    command += string;\n                } else if (position === 0) {\n                    command = string + command;\n                } else {\n                    command = command.slice(0, position) +\n                        string + command.slice(position);\n                }\n                if (!stay) {\n                    self.position(string.length, true);\n                } else {\n                    fix_textarea();\n                }\n                redraw();\n                fire_change_command();\n                return self;\n            },\n            get: function() {\n                return command;\n            },\n            commands: function(commands) {\n                if (commands) {\n                    options.commands = commands;\n                    return self;\n                } else {\n                    return commands;\n                }\n            },\n            destroy: function() {\n                doc.unbind('keypress.cmd', keypress_event);\n                doc.unbind('keydown.cmd', keydown_event);\n                doc.unbind('input.cmd', input_event);\n                self.stopTime('blink', blink);\n                self.find('.cursor').next().remove().end().prev().remove().\n                    end().remove();\n                self.find('.prompt, .clipboard').remove();\n                self.removeClass('cmd').removeData('cmd').off('.cmd');\n                return self;\n            },\n            prompt: function(user_prompt) {\n                if (user_prompt === undefined) {\n                    return prompt;\n                } else {\n                    if (typeof user_prompt === 'string' ||\n                        typeof user_prompt === 'function') {\n                        prompt = user_prompt;\n                    } else {\n                        throw new Error('prompt must be a function or string');\n                    }\n                    draw_prompt();\n                    // we could check if command is longer then numchars-new\n                    // prompt\n                    redraw();\n                    return self;\n                }\n            },\n            kill_text: function() {\n                return kill_text;\n            },\n            position: function(n, relative) {\n                if (typeof n === 'number') {\n                    // if (position !== n) { this don't work, don't know why\n                    if (relative) {\n                        position += n;\n                    } else if (n < 0) {\n                        position = 0;\n                    } else if (n > command.length) {\n                        position = command.length;\n                    } else {\n                        position = n;\n                    }\n                    if ($.isFunction(options.onPositionChange)) {\n                        options.onPositionChange(position);\n                    }\n                    redraw();\n                    fix_textarea();\n                    return self;\n                } else {\n                    return position;\n                }\n            },\n            visible: (function() {\n                var visible = self.visible;\n                return function() {\n                    visible.apply(self, []);\n                    redraw();\n                    draw_prompt();\n                };\n            })(),\n            show: (function() {\n                var show = self.show;\n                return function() {\n                    show.apply(self, []);\n                    redraw();\n                    draw_prompt();\n                };\n            })(),\n            resize: function(num) {\n                if (num) {\n                    num_chars = num;\n                } else {\n                    change_num_chars();\n                }\n                redraw();\n                draw_prompt();\n                return self;\n            },\n            enable: function() {\n                if (!enabled) {\n                    enabled = true;\n                    self.addClass('enabled');\n                    try {\n                        clip.caret(position);\n                    } catch (e) {\n                        // firefox throw NS_ERROR_FAILURE ignore\n                    }\n                    animation(true);\n                    draw_prompt();\n                }\n                mobile_focus();\n                return self;\n            },\n            isenabled: function() {\n                return enabled;\n            },\n            disable: function(focus) {\n                enabled = false;\n                self.removeClass('enabled');\n                animation(false);\n                if (!focus) {\n                    mobile_focus();\n                }\n                return self;\n            },\n            mask: function(new_mask) {\n                if (typeof new_mask === 'undefined') {\n                    return mask;\n                } else {\n                    mask = new_mask;\n                    redraw();\n                    return self;\n                }\n            }\n        });\n        // ---------------------------------------------------------------------\n        // :: INIT\n        // ---------------------------------------------------------------------\n        self.name(options.name || options.prompt || '');\n        if (typeof options.prompt === 'string') {\n            prompt = options.prompt;\n        } else {\n            prompt = '> ';\n        }\n        draw_prompt();\n        if (options.enabled === undefined || options.enabled === true) {\n            self.enable();\n        }\n        if (!options.history) {\n            history.disable();\n        }\n        var first_up_history = true;\n        // prevent_keypress - hack for Android that was inserting characters on\n        // backspace\n        var prevent_keypress = false;\n        var dead_key = false;\n        var single_key = false;\n        var no_keypress = false;\n        var no_key = false;\n        var no_keydown = true;\n        var backspace = false;\n        var process = false;\n        var skip_insert;\n        // we hold text before keydown to fix backspace for Android/Chrome/SwiftKey\n        // keyboard that generate keycode 229 for all keys #296\n        var text = '';\n        // ---------------------------------------------------------------------\n        // :: Keydown Event Handler\n        // ---------------------------------------------------------------------\n        function keydown_event(e) {\n            debug('keydown \"' + e.key + '\" ' + e.fake);\n            process = (e.key || '').toLowerCase() === 'process';\n            var result;\n            dead_key = no_keypress && single_key;\n            // special keys don't trigger keypress fix #293\n            try {\n                if (!e.fake) {\n                    single_key = e.key && e.key.length === 1 && !e.ctrlKey;\n                    // chrome on android support key property but it's \"Unidentified\"\n                    no_key = String(e.key).toLowerCase() === 'unidentified';\n                    backspace = e.key.toUpperCase() === 'BACKSPACE' || e.which === 8;\n                }\n            } catch (exception) {}\n            // keydown created in input will have text already inserted and we\n            // want text before input\n            if (e.key === \"Unidentified\") {\n                no_keydown = true;\n                // android swift keyboard have always which == 229 we will triger proper\n                // event in input with e.fake == true\n                return;\n            }\n            if (!e.fake) {\n                no_keypress = true;\n                no_keydown = false;\n            }\n            var key = get_key(e);\n            if ($.isFunction(options.keydown)) {\n                result = options.keydown(e);\n                if (result !== undefined) {\n                    //prevent_keypress = true;\n                    if (!result) {\n                        skip_insert = true;\n                    }\n                    return result;\n                }\n            }\n            if (enabled) {\n                // CTRL+V don't fire keypress in IE11\n                skip_insert = ['CTRL+V', 'META+V'].indexOf(key) !== -1;\n                if (e.which !== 38 && !(e.which === 80 && e.ctrlKey)) {\n                    first_up_history = true;\n                }\n                // arrows / Home / End / ENTER\n                if (reverse_search && (e.which === 35 || e.which === 36 ||\n                                       e.which === 37 || e.which === 38 ||\n                                       e.which === 39 || e.which === 40 ||\n                                       e.which === 13 || e.which === 27)) {\n                    clear_reverse_state();\n                    draw_prompt();\n                    if (e.which === 27) { // ESC\n                        self.set('');\n                    }\n                    redraw();\n                    // finish reverse search and execute normal event handler\n                    /* jshint validthis:true */\n                    keydown_event.call(this, e);\n                } else if ($.isFunction(keymap[key])) {\n                    result = keymap[key]();\n                    if (result === true) {\n                        return;\n                    }\n                    if (result !== undefined) {\n                        return result;\n                    }\n                } else if (e.altKey) {\n                    return;\n                } else {\n                    prevent_keypress = false;\n                    return;\n                }\n                // this will prevent for instance backspace to go back one page\n                //prevent_keypress = true;\n                //e.preventDefault();\n            }\n        }\n        var doc = $(document.documentElement || window);\n        self.keymap(options.keymap || {});\n        function keypress_event(e) {\n            debug('keypress \"' + e.key + '\" ' + e.fake);\n            var result;\n            if (!e.fake) {\n                no_keypress = false;\n            }\n            if ((e.ctrlKey || e.metaKey) && !e.altKey) {\n                return;\n            }\n            if (prevent_keypress) {\n                return;\n            }\n            if ($.isFunction(options.keypress)) {\n                result = options.keypress(e);\n                if (result !== undefined) {\n                    if (!result) {\n                        skip_insert = true;\n                    }\n                    return result;\n                }\n            }\n            if (enabled) {\n                if (e.fake) {\n                    // event created in input, we prevent inserting text\n                    // in different interpreter when keydown called pop\n                    return;\n                }\n                // key polyfill is not correct for keypress\n                // https://github.com/cvan/keyboardevent-key-polyfill/issues/15\n                var key;\n                if (is_key_native() || e.fake) {\n                    key = e.key;\n                }\n                if (!key || no_key) {\n                    key = String.fromCharCode(e.which);\n                }\n                if (key.toUpperCase() === 'SPACEBAR') { // fix IE issue\n                    key = ' ';\n                }\n                if ($.inArray(e.which, [13, 0, 8]) > -1) {\n                    if (e.keyCode === 123) { // for F12 which === 0\n                        return;\n                    }\n                    return false;\n                    // which === 100 - d\n                } else if (key && (!e.ctrlKey || (e.ctrlKey && e.ctrlKey)) &&\n                           (!(e.altKey && e.which === 100) || e.altKey) &&\n                           !dead_key) {\n                    // dead_key are handled by input event\n                    if (reverse_search) {\n                        rev_search_str += key;\n                        reverse_history_search();\n                        draw_reverse_prompt();\n                    } else {\n                        self.insert(key);\n                    }\n                }\n            }\n        }\n        function event(type, chr, which) {\n            var event = $.Event(type);\n            event.which = which;\n            event.key = chr;\n            event.fake = true;\n            doc.trigger(event);\n        }\n        function debug(str) {\n            if (false) {\n                console.log(str);\n                //$.terminal.active().echo(str);\n            }\n        }\n        function input_event() {\n            debug('input ' + no_keydown + ' || ' + process + ' ((' + no_keypress +\n                  ' || ' + dead_key + ') && !' + skip_insert + ' && (' + single_key +\n                  ' || ' + no_key + ') && !' + backspace + ')');\n            // Some Androids don't fire keypress - #39\n            // if there is dead_key we also need to grab real character #158\n            // Firefox/Android with google keyboard don't fire keydown and keyup #319\n            if (no_keydown || process || ((no_keypress || dead_key) && !skip_insert &&\n                                          (single_key || no_key) && !backspace)) {\n                var pos = position;\n                var val = clip.val();\n                // backspace is set in keydown if no keydown we need to get new one\n                if (no_keydown) {\n                    backspace = text.substring(0, text.length - 1) === text.length;\n                }\n                if (reverse_search) {\n                    rev_search_str = val;\n                    reverse_history_search();\n                    draw_reverse_prompt();\n                } else {\n                    var chr = val.substring(position);\n                    if (chr.length === 1 || backspace) {\n                        // we trigger events so keypress and keydown callback work\n                        if (no_keydown) {\n                            var keycode;\n                            if (backspace) {\n                                keycode = 8;\n                            } else {\n                                keycode = chr.toUpperCase().charCodeAt(0);\n                            }\n                            event('keydown', backspace ? 'Backspace' : chr, keycode);\n                        }\n                        if (no_keypress && !backspace) {\n                            event('keypress', chr, chr.charCodeAt(0));\n                        }\n                    }\n                    if (backspace) {\n                        text = command;\n                        return;\n                    }\n                    // if user return false in keydown we don't want to insert text\n                    if (skip_insert) {\n                        skip_insert = false;\n                        return;\n                    }\n                    self.set(val);\n                }\n                if (backspace) {\n                    self.position(pos - 1);\n                } else {\n                    // user enter more then one character if click on complete word\n                    // on android\n                    self.position(pos + Math.abs(val.length - text.length));\n                }\n            }\n            text = command;\n            skip_insert = false;\n            no_keydown = true;\n        }\n        doc.bind('keypress.cmd', keypress_event).bind('keydown.cmd', keydown_event)\n            .bind('input.cmd', input_event);\n        (function() {\n            var was_down = false;\n            var count = 0;\n            self.on('mousedown.cmd', function() {\n                was_down = true;\n            }).on('mouseup.cmd', function(e) {\n                if (get_selected_text() === '') {\n                    var name = 'click_' + id;\n                    if (++count === 1) {\n                        var down = was_down;\n                        if (enabled) {\n                            self.oneTime(options.clickTimeout, name, function() {\n                                if (!$(e.target).is('.prompt') && down) {\n                                    if ($(e.target).is('.cmd')) {\n                                        self.position(command.length);\n                                    } else {\n                                        self.position(get_char_pos(e));\n                                    }\n                                }\n                                count = 0;\n                            });\n                        } else {\n                            count = 0;\n                        }\n                    } else {\n                        self.stopTime(name);\n                        count = 0;\n                    }\n                }\n                was_down = false;\n            });\n        })();\n        self.data('cmd', self);\n        if (!('KeyboardEvent' in window && 'key' in window.KeyboardEvent.prototype)) {\n            setTimeout(function() {\n                throw new Error('key event property not supported try ' +\n                                'https://github.com/cvan/keyboardevent-key-polyfill');\n            }, 0);\n        }\n        return self;\n    }; // cmd plugin\n    // -------------------------------------------------------------------------\n    /* eslint-disable */\n    // https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n    var mobile_re = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i;\n    var tablet_re = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i;\n    var format_split_re = /(\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\](?:[^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]?)/i;\n    var format_parts_re = /\\[\\[([!gbiuso]*);([^;]*);([^;\\]]*);?([^;\\]]*);?([^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]?/gi;\n    var format_re = /\\[\\[([!gbiuso]*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]?/gi;\n    var format_exist_re = /\\[\\[([!gbiuso]*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]/gi;\n    var format_full_re = /^\\[\\[([!gbiuso]*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^[]*\\[[^\\]]*)\\]$/gi;\n    var color_hex_re = /^#([0-9a-f]{3}|[0-9a-f]{6})$/i;\n    var url_re = /(\\bhttps?:\\/\\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\\s\"'<>\\][)])+\\b)/gi;\n    var url_nf_re = /\\b(https?:\\/\\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\\s\"'<>\\][)])+)\\b(?![^[\\]]*])/gi;\n    var email_re = /((([^<>('\")[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,})))/g;\n    var command_re = /((?:\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\\/[^\\/\\\\]*(?:\\\\[\\S\\s][^\\/\\\\]*)*\\/[gimy]*(?=\\s|$)|(?:\\\\\\s|\\S))+)(?=\\s|$)/gi;\n    var format_begin_re = /(\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\])/i;\n    var format_start_re = /^(\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\])/i;\n    var format_end_re = /\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\]?$/i;\n    var format_exec_re = /(\\[\\[(?:[^\\]]|\\\\\\])+\\]\\])/;\n    var float_re = /^[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?$/;\n    var re_re = /^\\/((?:\\\\\\/|[^/]|\\[[^\\]]*\\/[^\\]]*\\])+)\\/([gimy]*)$/;\n    var unclosed_strings_re = /^(?=((?:[^\"']+|\"[^\"\\\\]*(?:\\\\[^][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[^][^'\\\\]*)*')*))\\1./;\n    /* eslint-enable */\n    // -------------------------------------------------------------------------\n    // :: TOOLS\n    // -------------------------------------------------------------------------\n    // taken from https://hacks.mozilla.org/2011/09/detecting-and-generating-\n    // css-animations-in-javascript/\n    var support_animations = (function() {\n        var animation = false,\n            domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n            elm = document.createElement('div');\n        if (elm.style.animationName) {\n            animation = true;\n        }\n        if (animation === false) {\n            for (var i = 0; i < domPrefixes.length; i++) {\n                var name = domPrefixes[i] + 'AnimationName';\n                if (elm.style[name] !== undefined) {\n                    animation = true;\n                    break;\n                }\n            }\n        }\n        return animation;\n    })();\n    // -------------------------------------------------------------------------\n    var is_android = navigator.userAgent.toLowerCase().indexOf('android') !== -1;\n    // -------------------------------------------------------------------------\n    var strlen = (function() {\n        if (typeof wcwidth === 'undefined') {\n            return function(string) {\n                return string.length;\n            };\n        } else {\n            return wcwidth;\n        }\n    })();\n    // -------------------------------------------------------------------------\n    var is_mobile = (function(a) {\n        var check = false;\n        if (mobile_re.test(a) || tablet_re.test(a.substr(0, 4))) {\n            check = true;\n        }\n        return check;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    var get_selected_text = (function() {\n        if (window.getSelection || document.getSelection) {\n            return function() {\n                var selection = (window.getSelection || document.getSelection)();\n                if (selection.text) {\n                    return selection.text;\n                } else {\n                    return selection.toString();\n                }\n            };\n        } else if (document.selection && document.selection.type !== \"Control\") {\n            return function() {\n                return document.selection.createRange().text;\n            };\n        }\n        return function() {\n            return '';\n        };\n    })();\n    // -------------------------------------------------------------------------\n    function process_command(string, fn) {\n        var array = string.match(command_re) || [];\n        if (array.length) {\n            var name = array.shift();\n            var args = $.map(array, fn);\n            var quotes = $.map(array, function(arg) {\n                var m = arg.match(/^(['\"]).*\\1$/);\n                return m && m[1] || '';\n            });\n            var rest = string.substring(name.length).trim();\n            return {\n                command: string,\n                name: name,\n                args: args,\n                args_quotes: quotes,\n                rest: rest\n            };\n        } else {\n            return {\n                command: string,\n                name: '',\n                args: [],\n                args_quotes: quotes,\n                rest: ''\n            };\n        }\n    }\n    $.terminal = {\n        version: '1.7.0',\n        // colors from http://www.w3.org/wiki/CSS/Properties/color/keywords\n        color_names: [\n            'transparent', 'currentcolor', 'black', 'silver', 'gray', 'white',\n            'maroon', 'red', 'purple', 'fuchsia', 'green', 'lime', 'olive',\n            'yellow', 'navy', 'blue', 'teal', 'aqua', 'aliceblue',\n            'antiquewhite', 'aqua', 'aquamarine', 'azure', 'beige', 'bisque',\n            'black', 'blanchedalmond', 'blue', 'blueviolet', 'brown',\n            'burlywood', 'cadetblue', 'chartreuse', 'chocolate', 'coral',\n            'cornflowerblue', 'cornsilk', 'crimson', 'cyan', 'darkblue',\n            'darkcyan', 'darkgoldenrod', 'darkgray', 'darkgreen', 'darkgrey',\n            'darkkhaki', 'darkmagenta', 'darkolivegreen', 'darkorange',\n            'darkorchid', 'darkred', 'darksalmon', 'darkseagreen',\n            'darkslateblue', 'darkslategray', 'darkslategrey', 'darkturquoise',\n            'darkviolet', 'deeppink', 'deepskyblue', 'dimgray', 'dimgrey',\n            'dodgerblue', 'firebrick', 'floralwhite', 'forestgreen', 'fuchsia',\n            'gainsboro', 'ghostwhite', 'gold', 'goldenrod', 'gray', 'green',\n            'greenyellow', 'grey', 'honeydew', 'hotpink', 'indianred', 'indigo',\n            'ivory', 'khaki', 'lavender', 'lavenderblush', 'lawngreen',\n            'lemonchiffon', 'lightblue', 'lightcoral', 'lightcyan',\n            'lightgoldenrodyellow', 'lightgray', 'lightgreen', 'lightgrey',\n            'lightpink', 'lightsalmon', 'lightseagreen', 'lightskyblue',\n            'lightslategray', 'lightslategrey', 'lightsteelblue', 'lightyellow',\n            'lime', 'limegreen', 'linen', 'magenta', 'maroon',\n            'mediumaquamarine', 'mediumblue', 'mediumorchid', 'mediumpurple',\n            'mediumseagreen', 'mediumslateblue', 'mediumspringgreen',\n            'mediumturquoise', 'mediumvioletred', 'midnightblue', 'mintcream',\n            'mistyrose', 'moccasin', 'navajowhite', 'navy', 'oldlace', 'olive',\n            'olivedrab', 'orange', 'orangered', 'orchid', 'palegoldenrod',\n            'palegreen', 'paleturquoise', 'palevioletred', 'papayawhip',\n            'peachpuff', 'peru', 'pink', 'plum', 'powderblue', 'purple', 'red',\n            'rosybrown', 'royalblue', 'saddlebrown', 'salmon', 'sandybrown',\n            'seagreen', 'seashell', 'sienna', 'silver', 'skyblue', 'slateblue',\n            'slategray', 'slategrey', 'snow', 'springgreen', 'steelblue', 'tan',\n            'teal', 'thistle', 'tomato', 'turquoise', 'violet', 'wheat',\n            'white', 'whitesmoke', 'yellow', 'yellowgreen'],\n        // for unit tests\n        Cycle: Cycle,\n        History: History,\n        Stack: Stack,\n        // ---------------------------------------------------------------------\n        // :: Validate html color (it can be name or hex)\n        // ---------------------------------------------------------------------\n        valid_color: function valid_color(color) {\n            if (color.match(color_hex_re)) {\n                return true;\n            } else {\n                return $.inArray(color.toLowerCase(),\n                                 $.terminal.color_names) !== -1;\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: function check if given string contain invalid strings\n        // ---------------------------------------------------------------------\n        unclosed_strings: function unclosed_strings(string) {\n            return !!string.match(unclosed_strings_re);\n        },\n        // ---------------------------------------------------------------------\n        // :: Escape all special regex characters, so it can be use as regex to\n        // :: match exact string that contain those characters\n        // ---------------------------------------------------------------------\n        escape_regex: function escape_regex(str) {\n            if (typeof str === 'string') {\n                var special = /([-\\\\^$[\\]()+{}?*.|])/g;\n                return str.replace(special, '\\\\$1');\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: test if string contain formatting\n        // ---------------------------------------------------------------------\n        have_formatting: function have_formatting(str) {\n            return typeof str === 'string' && !!str.match(format_exist_re);\n        },\n        is_formatting: function is_formatting(str) {\n            return typeof str === 'string' && !!str.match(format_full_re);\n        },\n        // ---------------------------------------------------------------------\n        // :: return array of formatting and text between them\n        // ---------------------------------------------------------------------\n        format_split: function format_split(str) {\n            return str.split(format_split_re).filter(Boolean);\n        },\n        // ---------------------------------------------------------------------\n        // :: helper function used by substring and split_equal it loop over\n        // :: string and execute callback with text count and other data\n        // ---------------------------------------------------------------------\n        iterate_formatting: function iterate_formatting(string, callback) {\n            function is_space() {\n                return string.substring(i - 6, i) === '&nbsp;' ||\n                    string.substring(i - 1, i) === ' ';\n            }\n            function match_entity(index) {\n                return string.substring(index).match(/^(&[^;]+;)/);\n            }\n            var formatting = false;\n            var in_text = false;\n            var count = 0;\n            var match;\n            var space = -1;\n            for (var i = 0; i < string.length; i++) {\n                match = string.substring(i).match(format_start_re);\n                if (match) {\n                    formatting = match[1];\n                    in_text = false;\n                } else if (formatting) {\n                    if (string[i] === ']') {\n                        if (in_text) {\n                            formatting = '';\n                            in_text = false;\n                        } else {\n                            in_text = true;\n                        }\n                    }\n                } else {\n                    in_text = true;\n                }\n                var not_formatting = (formatting && in_text) || !formatting;\n                var opening = string[i] === '[' && string[i + 1] === '[';\n                if (is_space() && (not_formatting || opening)) {\n                    space = i;\n                }\n                var braket = string[i].match(/[[\\]]/);\n                if (not_formatting) {\n                    if (string[i] === '&') { // treat entity as one character\n                        match = match_entity(i);\n                        if (match) {\n                            i += match[1].length - 2; // because continue adds 1 to i\n                            continue;\n                        }\n                        ++count;\n                    } else if (string[i] === ']' && string[i - 1] === '\\\\') {\n                        // escape \\] counts as one character\n                        --count;\n                    } else if (!braket) {\n                        ++count;\n                    }\n                }\n                if (!braket && not_formatting) {\n                    if (strlen(string[i]) === 2) {\n                        count++;\n                    }\n                    var data = {\n                        count: count,\n                        index: i,\n                        formatting: formatting,\n                        text: in_text,\n                        space: space\n                    };\n                    var ret = callback(data);\n                    if (ret === false) {\n                        break;\n                    } else if (ret) {\n                        if (ret.count !== undefined) {\n                            count = ret.count;\n                        }\n                        if (ret.space !== undefined) {\n                            space = ret.space;\n                        }\n                        if (ret.index !== undefined) {\n                            i = ret.index;\n                        }\n                    }\n                }\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: formatting aware substring function\n        // ---------------------------------------------------------------------\n        substring: function substring(string, start_index, end_index) {\n            var strip = $('<span>' + $.terminal.strip(string) + '</span>').text();\n            if (strip.substring(start_index, end_index) === '') {\n                return '';\n            }\n            var start;\n            var end = string.length;\n            var start_formatting = '';\n            var end_formatting = '';\n            $.terminal.iterate_formatting(string, function(data) {\n                if (data.count === start_index) {\n                    start = data.index + 1;\n                    if (data.formatting) {\n                        start_formatting = data.formatting;\n                    }\n                }\n                if (end_index && data.count === end_index) {\n                    end = data.index + 1;\n                    end_formatting = data.formatting;\n                }\n            });\n            string = start_formatting + string.substring(start, end);\n            if (end_formatting) {\n                string += ']';\n            }\n            return string;\n        },\n        // ---------------------------------------------------------------------\n        // :: add format text as 5th paramter to formatting it's used for\n        // :: data attribute in format function\n        // ---------------------------------------------------------------------\n        normalize: function normalize(string) {\n            return string.replace(format_re, function(_, format, text) {\n                if (text === '') {\n                    return '';\n                }\n                var semicolons = format.match(/;/g).length;\n                // missing semicolons\n                if (semicolons >= 4) {\n                    var args = format.split(/;/);\n                    var start = args.slice(0, 4).join(';');\n                    var arg = args.slice(4).join(';');\n                    return '[[' + start + ';' + (arg || text) + ']' + text + ']';\n                } else if (semicolons === 2) {\n                    semicolons = ';;';\n                } else if (semicolons === 3) {\n                    semicolons = ';';\n                } else {\n                    semicolons = '';\n                }\n                // return '[[' + format + ']' + text + ']';\n                // closing braket will break formatting so we need to escape\n                // those using html entity equvalent\n                var safe = text.replace(/\\\\\\]/g, '&#93;').replace(/\\n/g, '\\\\n').\n                    replace(/&nbsp;/g, ' ');\n                return '[[' + format + semicolons + safe + ']' + text + ']';\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :: split text into lines with equal length so each line can be\n        // :: rendered separately (text formatting can be longer then a line).\n        // ---------------------------------------------------------------------\n        split_equal: function split_equal(str, length, keep_words) {\n            var prev_format = '';\n            var result = [];\n            var array = $.terminal.normalize(str).split(/\\n/g);\n            for (var i = 0, len = array.length; i < len; ++i) {\n                if (array[i] === '') {\n                    result.push('');\n                    continue;\n                }\n                var line = array[i];\n                var first_index = 0;\n                var output;\n                var line_length = line.length;\n                $.terminal.iterate_formatting(line, function(data) {\n                    // we don't iterate over last closing bracket\n                    var last_bracket = data.index === line_length - 2 &&\n                        line[data.index + 1] === ']';\n                    var last_iteraction = data.index === line_length - 1 || last_bracket;\n                    if (data.count >= length || last_iteraction ||\n                        (data.count === length - 1 &&\n                         strlen(line[data.index + 1]) === 2)) {\n                        if (keep_words) {\n                            var text = $.terminal.strip(line.substring(data.space));\n                            // replace html entities with characters\n                            text = $('<span>' + text + '</span>').text();\n                            // real length, not counting formatting\n                            var text_len = text.length;\n                            var limit = data.index + length + 1;\n                            text = text.substring(0, limit);\n                            var can_break = false;\n                            if (text.match(/\\s/) || limit > text_len) {\n                                can_break = true;\n                            }\n                        }\n                        // if words is true we split at last space and make next loop\n                        // continue where the space where located\n                        if (keep_words && !last_bracket && data.space !== -1 &&\n                            data.index !== line_length - 1 && can_break) {\n                            output = line.substring(first_index, data.space);\n                            var new_index = data.space - 1;\n                        } else {\n                            output = line.substring(first_index, data.index + 1);\n                        }\n                        if (keep_words) {\n                            output = output.replace(/(&nbsp;|\\s)+$/g, '');\n                        }\n                        first_index = (new_index || data.index) + 1;\n                        // prev_format added in fix_close function\n                        if (prev_format) {\n                            var closed_formatting = output.match(/^[^\\]]*\\]/);\n                            output = prev_format + output;\n                            if (closed_formatting) {\n                                prev_format = '';\n                            }\n                        }\n                        if (last_bracket) {\n                            output += ']';\n                            prev_format = '';\n                        }\n                        var matched = output.match(format_re);\n                        if (matched) {\n                            var last = matched[matched.length - 1];\n                            if (last[last.length - 1] !== ']') {\n                                prev_format = last.match(format_begin_re)[1];\n                                output += ']';\n                            } else if (output.match(format_end_re)) {\n                                output = output.replace(format_end_re, '');\n                                prev_format = last.match(format_begin_re)[1];\n                            }\n                        }\n                        result.push(output);\n                        // modify loop by returing new data\n                        return {index: new_index, count: 0, space: -1};\n                    }\n                });\n            }\n            return result;\n        },\n        // ---------------------------------------------------------------------\n        // :: Escape & that's not part of entity\n        // ---------------------------------------------------------------------\n        amp: function(str) {\n            return str.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g, '&amp;');\n        },\n        // ---------------------------------------------------------------------\n        // :: Encode formating as html for insertion into DOM\n        // ---------------------------------------------------------------------\n        encode: function encode(str) {\n            return $.terminal.amp(str).replace(/</g, '&lt;').replace(/>/g, '&gt;')\n                .replace(/ /g, '&nbsp;')\n                .replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');\n        },\n        // -----------------------------------------------------------------------\n        // :: Default formatter that allow for nested formatting, example:\n        // :: [[;;#000]hello [[;#f00;]red] world]\n        // -----------------------------------------------------------------------\n        nested_formatting: function nested_formatting(string) {\n            if (!$.terminal.have_formatting(string)) {\n                return string;\n            }\n            var stack = [];\n            var re = /(\\[\\[(?:[^\\]]|\\\\\\])+\\](?:[^\\][]|\\\\\\])*\\]?)/;\n            var format_re = /(\\[\\[(?:[^\\]]|\\\\\\])+\\])[\\s\\S]*/;\n            return string.split(re).filter(Boolean).map(function(string) {\n                if (string.match(/^\\[\\[/)) {\n                    if (!$.terminal.is_formatting(string)) {\n                        string += ']';\n                        stack.push(string.replace(format_re, '$1'));\n                    }\n                } else {\n                    var pop = false;\n                    if (string.match(/\\]/)) {\n                        pop = true;\n                    }\n                    if (stack.length) {\n                        string = stack[stack.length - 1] + string;\n                    }\n                    if (pop) {\n                        stack.pop();\n                    } else if (stack.length) {\n                        string += ']';\n                    }\n                }\n                return string;\n            }).join('');\n        },\n        // ---------------------------------------------------------------------\n        // :: safe function that will render text as it is\n        // ---------------------------------------------------------------------\n        escape_formatting: function escape_formatting(string) {\n            return $.terminal.escape_brackets(string);\n        },\n        // ---------------------------------------------------------------------\n        // :: apply custom formatters only to text\n        // ---------------------------------------------------------------------\n        apply_formatters: function(string) {\n            var formatters = $.terminal.defaults.formatters;\n            return $.terminal.format_split(string).map(function(string) {\n                if ($.terminal.is_formatting(string)) {\n                    return string;\n                } else {\n                    for (var i = 0; i < formatters.length; ++i) {\n                        try {\n                            if (typeof formatters[i] === 'function') {\n                                var ret = formatters[i](string);\n                                if (typeof ret === 'string') {\n                                    string = ret;\n                                }\n                            }\n                        } catch (e) {\n                            throw new Error('Error in formatter [' + i + ']');\n                        }\n                    }\n                    return string;\n                }\n            }).join('');\n        },\n        // ---------------------------------------------------------------------\n        // :: Replace terminal formatting with html\n        // ---------------------------------------------------------------------\n        format: function format(str, options) {\n            var settings = $.extend({}, {\n                linksNoReferrer: false\n            }, options || {});\n            if (typeof str === 'string') {\n                // support for formating foo[[u;;]bar]baz[[b;#fff;]quux]zzz\n                var splitted = $.terminal.format_split(str);\n                str = $.map(splitted, function(text) {\n                    if (text === '') {\n                        return text;\n                    } else if ($.terminal.is_formatting(text)) {\n                        // fix &nbsp; inside formatting because encode is called\n                        // before format\n                        text = text.replace(/\\[\\[[^\\]]+\\]/, function(text) {\n                            return text.replace(/&nbsp;/g, ' ');\n                        });\n                        return text.replace(format_parts_re, function(s,\n                                                                      style,\n                                                                      color,\n                                                                      background,\n                                                                      _class,\n                                                                      data_text,\n                                                                      text) {\n                            if (text === '') {\n                                return ''; //'<span>&nbsp;</span>';\n                            }\n                            text = text.replace(/\\\\]/g, ']');\n                            var style_str = '';\n                            if (style.indexOf('b') !== -1) {\n                                style_str += 'font-weight:bold;';\n                            }\n                            var text_decoration = [];\n                            if (style.indexOf('u') !== -1) {\n                                text_decoration.push('underline');\n                            }\n                            if (style.indexOf('s') !== -1) {\n                                text_decoration.push('line-through');\n                            }\n                            if (style.indexOf('o') !== -1) {\n                                text_decoration.push('overline');\n                            }\n                            if (text_decoration.length) {\n                                style_str += 'text-decoration:' +\n                                    text_decoration.join(' ') + ';';\n                            }\n                            if (style.indexOf('i') !== -1) {\n                                style_str += 'font-style:italic;';\n                            }\n                            if ($.terminal.valid_color(color)) {\n                                style_str += 'color:' + color + ';';\n                                if (style.indexOf('g') !== -1) {\n                                    style_str += 'text-shadow:0 0 5px ' + color + ';';\n                                }\n                            }\n                            if ($.terminal.valid_color(background)) {\n                                style_str += 'background-color:' + background;\n                            }\n                            var data;\n                            if (data_text === '') {\n                                data = text;\n                            } else {\n                                data = data_text.replace(/&#93;/g, ']');\n                            }\n                            var result;\n                            if (style.indexOf('!') !== -1) {\n                                if (data.match(email_re)) {\n                                    result = '<a href=\"mailto:' + data + '\"';\n                                } else {\n                                    result = '<a target=\"_blank\" href=\"' + data + '\"';\n                                    if (settings.linksNoReferrer) {\n                                        result += ' rel=\"noreferrer noopener\"';\n                                    } else {\n                                        result += ' rel=\"noopener\"';\n                                    }\n                                }\n                                // make focus to terminal textarea that will enable\n                                // terminal when pressing tab and terminal is disabled\n                                result += ' tabindex=\"1000\"';\n                            } else {\n                                result = '<span';\n                            }\n                            if (style_str !== '') {\n                                result += ' style=\"' + style_str + '\"';\n                            }\n                            if (_class !== '') {\n                                result += ' class=\"' + _class + '\"';\n                            }\n                            if (style.indexOf('!') !== -1) {\n                                result += '>' + text + '</a>';\n                            } else {\n                                result += ' data-text=\"' +\n                                    data.replace('\"', '&quote;') + '\">' +\n                                    text + '</span>';\n                            }\n                            return result;\n                        });\n                    } else {\n                        return '<span>' + text.replace(/\\\\\\]/g, ']') + '</span>';\n                    }\n                }).join('');\n                return str.replace(/<span><br\\s*\\/?><\\/span>/gi, '<br/>');\n            } else {\n                return '';\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: Replace brackets with html entities\n        // ---------------------------------------------------------------------\n        escape_brackets: function escape_brackets(string) {\n            return string.replace(/\\[/g, '&#91;').replace(/\\]/g, '&#93;');\n        },\n        // ---------------------------------------------------------------------\n        // :: Remove formatting from text\n        // ---------------------------------------------------------------------\n        strip: function strip(str) {\n            str = str.replace(format_parts_re, '$6');\n            return str.replace(/(\\\\?)([[\\]])/g, function(whole, slash) {\n                if (slash) {\n                    return whole;\n                } else {\n                    return '';\n                }\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :: Return active terminal\n        // ---------------------------------------------------------------------\n        active: function active() {\n            return terminals.front();\n        },\n        // ---------------------------------------------------------------------\n        // :: Implmentation detail id is always length of terminals Cycle\n        // ---------------------------------------------------------------------\n        last_id: function last_id() {\n            var len = terminals.length();\n            if (len) {\n                return len - 1;\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: Function that works with strings like 'asd' 'asd\\' asd' \"asd asd\"\n        // :: asd\\ 123 -n -b / [^ ]+ / /\\s+/ asd\\ a it creates a regex and\n        // :: numbers and replaces escape characters in double quotes\n        // :: if strict is set to false it only strips single and double quotes\n        // :: and escapes spaces\n        // ---------------------------------------------------------------------\n        parse_argument: function parse_argument(arg, strict) {\n            function parse_string(string) {\n                // remove quotes if before are even number of slashes\n                // we don't remove slases becuase they are handled by JSON.parse\n                //string = string.replace(/([^\\\\])['\"]$/, '$1');\n                if (string.match(/^['\"]/)) {\n                    var quote = string[0];\n                    var re = new RegExp(\"((^|[^\\\\\\\\])(?:\\\\\\\\\\\\\\\\)*)\" + quote, \"g\");\n                    string = string.replace(re, \"$1\");\n                }\n                // use build in function to parse rest of escaped characters\n                return JSON.parse('\"' + string + '\"');\n            }\n            if (strict === false) {\n                if (arg[0] === \"'\" && arg[arg.length - 1] === \"'\") {\n                    return arg.replace(/^'|'$/g, '');\n                } else if (arg[0] === '\"' && arg[arg.length - 1] === '\"') {\n                    return arg.replace(/^\"|\"$/g, '').replace(/\\\\([\" ])/g, '$1');\n                } else if (arg.match(/\\/.*\\/[gimy]*$/)) {\n                    return arg;\n                } else if (arg.match(/['\"]]/)) {\n                    // part of arg is in quote\n                    return parse_string(arg);\n                } else {\n                    return arg.replace(/\\\\ /g, ' ');\n                }\n            }\n            var regex = arg.match(re_re);\n            if (regex) {\n                return new RegExp(regex[1], regex[2]);\n            } else if (arg.match(/['\"]/)) {\n                return parse_string(arg);\n            } else if (arg.match(/^-?[0-9]+$/)) {\n                return parseInt(arg, 10);\n            } else if (arg.match(float_re)) {\n                return parseFloat(arg);\n            } else {\n                return arg.replace(/\\\\(['\"() ])/g, '$1');\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: function split and parse arguments\n        // ---------------------------------------------------------------------\n        parse_arguments: function parse_arguments(string) {\n            return $.map(string.match(command_re) || [], $.terminal.parse_argument);\n        },\n        // ---------------------------------------------------------------------\n        // :: Function split and strips single and double quotes\n        // :: and escapes spaces\n        // ---------------------------------------------------------------------\n        split_arguments: function(string) {\n            return $.map(string.match(command_re) || [], function(arg) {\n                return $.terminal.parse_argument(arg, false);\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :: Function that returns an object {name,args}. Arguments are parsed\n        // :: using the function parse_arguments\n        // ---------------------------------------------------------------------\n        parse_command: function parse_command(string) {\n            return process_command(string, $.terminal.parse_argument);\n        },\n        // ---------------------------------------------------------------------\n        // :: Same as parse_command but arguments are parsed using split_arguments\n        // ---------------------------------------------------------------------\n        split_command: function(string) {\n            return process_command(string, function(arg) {\n                return $.terminal.parse_argument(arg, false);\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :: function executed for each text inside [{ .... }]\n        // ---------------------------------------------------------------------\n        extended_command: function extended_command(term, string) {\n            try {\n                change_hash = false;\n                term.exec(string, true).done(function() {\n                    change_hash = true;\n                });\n            } catch (e) {\n                // error is process in exec\n            }\n        }\n    };\n    // -----------------------------------------------------------------------\n    // Helper plugins and functions\n    // -----------------------------------------------------------------------\n    $.fn.visible = function() {\n        return this.css('visibility', 'visible');\n    };\n    $.fn.hidden = function() {\n        return this.css('visibility', 'hidden');\n    };\n    // -----------------------------------------------------------------------\n    // :: hack to get scroll element if terminal attached to the body\n    // :: is better then userAgent sniffing because other browsers beside\n    // :: chrome may use body as scroll element instead of html like\n    // :: IE and FireFox\n    // -----------------------------------------------------------------------\n    $.fn.scroll_element = function() {\n        var defaults = $.fn.scroll_element.defaults;\n        return this.map(function() {\n            var $this = $(this);\n            if ($this.is('body')) {\n                var html = $('html');\n                var body = $('body');\n                var scrollTop = body.scrollTop() || html.scrollTop();\n                var pre = $('<pre/>').css(defaults.pre).appendTo('body');\n                pre.html(new Array(defaults.lines).join('\\n'));\n                $('body,html').scrollTop(10);\n                var scroll_object;\n                if (body.scrollTop() === 10) {\n                    body.scrollTop(scrollTop);\n                    scroll_object = body[0];\n                } else if (html.scrollTop() === 10) {\n                    html.scrollTop(scrollTop);\n                    scroll_object = html[0];\n                }\n                pre.remove();\n                return scroll_object;\n            } else {\n                return this;\n            }\n        });\n    };\n    $.fn.scroll_element.defaults = {\n        lines: 2000,\n        pre: {\n            'font-size': '100px',\n            'white-space': 'pre' // just in case if user overwrite css for pre tag\n        }\n    };\n    // -----------------------------------------------------------------------\n    function is_key_native() {\n        if (!('KeyboardEvent' in window && 'key' in window.KeyboardEvent.prototype)) {\n            return false;\n        }\n        var proto = window.KeyboardEvent.prototype;\n        var get = Object.getOwnPropertyDescriptor(proto, 'key').get;\n        return get.toString().match(/\\[native code\\]/);\n    }\n    // -----------------------------------------------------------------------\n    function warn(msg) {\n        msg = '[jQuery Terminal] ' + msg;\n        if (console && console.warn) {\n            console.warn(msg);\n        } else {\n            // prevent catching in outer try..catch\n            setTimeout(function() {\n                throw new Error('WARN: ' + msg);\n            }, 0);\n        }\n    }\n    // -----------------------------------------------------------------------\n    // JSON-RPC CALL\n    // -----------------------------------------------------------------------\n    var ids = {}; // list of url based ids of JSON-RPC\n    $.jrpc = function(url, method, params, success, error) {\n        var options;\n        if ($.isPlainObject(url)) {\n            options = url;\n        } else {\n            options = {\n                url: url,\n                method: method,\n                params: params,\n                success: success,\n                error: error\n            };\n        }\n        function validJSONRPC(response) {\n            return $.isNumeric(response.id) &&\n                (typeof response.result !== 'undefined' ||\n                 typeof response.error !== 'undefined');\n        }\n        ids[options.url] = ids[options.url] || 0;\n        var request = {\n            'jsonrpc': '2.0',\n            'method': options.method,\n            'params': options.params,\n            'id': ++ids[options.url]\n        };\n        return $.ajax({\n            url: options.url,\n            beforeSend: function beforeSend(jxhr, settings) {\n                if ($.isFunction(options.request)) {\n                    options.request(jxhr, request);\n                }\n                settings.data = JSON.stringify(request);\n            },\n            success: function success(response, status, jqXHR) {\n                var content_type = jqXHR.getResponseHeader('Content-Type');\n                if (!content_type.match(/(application|text)\\/json/)) {\n                    warn('Response Content-Type is neither application/json' +\n                         ' nor text/json');\n                }\n                var json;\n                try {\n                    json = JSON.parse(response);\n                } catch (e) {\n                    if (options.error) {\n                        options.error(jqXHR, 'Invalid JSON', e);\n                    } else {\n                        throw new Error('Invalid JSON');\n                    }\n                    return;\n                }\n                if ($.isFunction(options.response)) {\n                    options.response(jqXHR, json);\n                }\n                if (validJSONRPC(json) || options.method === 'system.describe') {\n                    // don't catch errors in success callback\n                    options.success(json, status, jqXHR);\n                } else if (options.error) {\n                    options.error(jqXHR, 'Invalid JSON-RPC');\n                } else {\n                    throw new Error('Invalid JSON-RPC');\n                }\n            },\n            error: options.error,\n            contentType: 'application/json',\n            dataType: 'text',\n            async: true,\n            cache: false,\n            // timeout: 1,\n            type: 'POST'\n        });\n    };\n\n    // -----------------------------------------------------------------------\n    /*\n    function is_scrolled_into_view(elem) {\n        var docViewTop = $(window).scrollTop();\n        var docViewBottom = docViewTop + $(window).height();\n\n        var elemTop = $(elem).offset().top;\n        var elemBottom = elemTop + $(elem).height();\n\n        return ((elemBottom >= docViewTop) && (elemTop <= docViewBottom));\n    }\n    */\n    // -----------------------------------------------------------------------\n    // :: Create fake terminal to calcualte the dimention of one character\n    // :: this will make terminal work if terminal div is not added to the\n    // :: DOM at init like with:\n    // :: $('<div/>').terminal().echo('foo bar').appendTo('body');\n    // -----------------------------------------------------------------------\n    function get_char_size() {\n        var temp = $('<div class=\"terminal temp\"><div class=\"cmd\"><span cla' +\n                     'ss=\"prompt\">&nbsp;</span></div></div>').appendTo('body');\n        var rect = temp.find('span')[0].getBoundingClientRect();\n        var result = {\n            width: rect.width,\n            height: rect.height\n        };\n        temp.remove();\n        return result;\n    }\n    // -----------------------------------------------------------------------\n    // :: calculate numbers of characters\n    // -----------------------------------------------------------------------\n    function get_num_chars(terminal, char_size) {\n        var width = terminal.find('.terminal-fill').width();\n        var result = Math.floor(width / char_size.width);\n        // random number to not get NaN in node but big enough to not wrap exception\n        return result || 1000;\n    }\n    // -----------------------------------------------------------------------\n    // :: Calculate number of lines that fit without scroll\n    // -----------------------------------------------------------------------\n    function get_num_rows(terminal, char_size) {\n        return Math.floor(terminal.find('.terminal-fill').height() / char_size.height);\n    }\n    // -----------------------------------------------------------------------\n    // :: try to copy given DOM element text to clipboard\n    // -----------------------------------------------------------------------\n    function text_to_clipboard(container, text) {\n        var $div = $('<div>' + text.replace(/\\n/, '<br/>') + '<div>');\n        var range;\n        container.append($div);\n        if (document.body.createTextRange) {\n            range = document.body.createTextRange();\n            range.moveToElementText($div[0]);\n            range.select();\n        } else if (window.getSelection) {\n            var selection = window.getSelection();\n            if (selection.setBaseAndExtent) {\n                selection.setBaseAndExtent($div[0], 0, $div[0], 1);\n            } else if (document.createRange) {\n                range = document.createRange();\n                range.selectNodeContents($div[0]);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n        }\n        try {\n            document.execCommand('copy');\n        } catch (e) {}\n        $div.remove();\n    }\n    function all(array, fn) {\n        var same = array.filter(function(item) {\n            return item[fn]() === item;\n        });\n        return same.length === array.length;\n    }\n    function string_case(string) {\n        var array = string.split('');\n        if (all(array, 'toLowerCase')) {\n            return 'lower';\n        } else if (all(array, 'toUpperCase')) {\n            return 'upper';\n        } else {\n            return 'mixed';\n        }\n    }\n    function same_case(string) {\n        return string_case(string) !== 'mixed';\n    }\n    // -----------------------------------------------------------------------\n    // :: TERMINAL PLUGIN CODE\n    // -----------------------------------------------------------------------\n    var version_set = !$.terminal.version.match(/^\\{\\{/);\n    var copyright = 'Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic' +\n        '.pl/me>';\n    var version_string = version_set ? ' v. ' + $.terminal.version : ' ';\n    // regex is for placing version string aligned to the right\n    var reg = new RegExp(' {' + version_string.length + '}$');\n    var name_ver = 'jQuery Terminal Emulator' +\n        (version_set ? version_string : '');\n    // -----------------------------------------------------------------------\n    // :: Terminal Signatures\n    // -----------------------------------------------------------------------\n    var signatures = [\n        ['jQuery Terminal', '(c) 2011-2017 jcubic'],\n        [name_ver, copyright.replace(/^Copyright | *<.*>/g, '')],\n        [name_ver, copyright.replace(/^Copyright /, '')],\n        [\n            '      _______                 ________                        __',\n            '     / / _  /_ ____________ _/__  ___/______________  _____  / /',\n            ' __ / / // / // / _  / _/ // / / / _  / _/     / /  \\\\/ / _ \\\\/ /',\n            '/  / / // / // / ___/ // // / / / ___/ // / / / / /\\\\  / // / /__',\n            '\\\\___/____ \\\\\\\\__/____/_/ \\\\__ / /_/____/_//_/_/_/ /_/  \\\\/\\\\__\\\\_\\\\___/',\n            '         \\\\/          /____/                                   '\n                .replace(reg, ' ') + version_string,\n            copyright\n        ],\n        [\n            '      __ _____                     ________                            ' +\n                '  __',\n            '     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___ ' +\n                ' / /',\n            ' __ / // // // // // _  // _// // / / // _  // _//     // //  \\\\/ // _ ' +\n                '\\\\/ /',\n            '/  / // // // // // ___// / / // / / // ___// / / / / // // /\\\\  // // ' +\n                '/ /__',\n            '\\\\___//____ \\\\\\\\___//____//_/ _\\\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\\\' +\n                '__\\\\_\\\\___/',\n            ('          \\\\/              /____/                                      ' +\n             '    ').replace(reg, '') + version_string,\n            copyright\n        ]\n    ];\n    // -----------------------------------------------------------------------\n    // :: Default options\n    // -----------------------------------------------------------------------\n    $.terminal.defaults = {\n        prompt: '> ',\n        history: true,\n        exit: true,\n        clear: true,\n        enabled: true,\n        maskChar: '*',\n        wrap: true,\n        checkArity: true,\n        raw: false,\n        exceptionHandler: null,\n        pauseEvents: true,\n        softPause: false,\n        memory: false,\n        cancelableAjax: true,\n        processArguments: true,\n        linksNoReferrer: false,\n        processRPCResponse: null,\n        completionEscape: true,\n        convertLinks: true,\n        extra: {},\n        historySize: 60,\n        historyState: false,\n        importHistory: false,\n        historyFilter: null,\n        echoCommand: true,\n        scrollOnEcho: true,\n        login: null,\n        outputLimit: -1,\n        formatters: [$.terminal.nested_formatting],\n        onAjaxError: null,\n        scrollBottomOffset: 20,\n        wordAutocomplete: true,\n        caseSensitiveAutocomplete: true,\n        clickTimeout: 200,\n        request: $.noop,\n        response: $.noop,\n        describe: 'procs',\n        onRPCError: null,\n        completion: false,\n        onInit: $.noop,\n        onClear: $.noop,\n        onBlur: $.noop,\n        onFocus: $.noop,\n        onTerminalChange: $.noop,\n        onExit: $.noop,\n        onPush: $.noop,\n        onPop: $.noop,\n        keypress: $.noop,\n        keydown: $.noop,\n        onAfterRedraw: $.noop,\n        onEchoCommand: $.noop,\n        strings: {\n            comletionParameters: 'From version 1.0.0 completion function need to' +\n                ' have two arguments',\n            wrongPasswordTryAgain: 'Wrong password try again!',\n            wrongPassword: 'Wrong password!',\n            ajaxAbortError: 'Error while aborting ajax call!',\n            wrongArity: \"Wrong number of arguments. Function '%s' expects %s got\" +\n                ' %s!',\n            commandNotFound: \"Command '%s' Not Found!\",\n            oneRPCWithIgnore: 'You can use only one rpc with describe == false ' +\n                'or rpc without system.describe',\n            oneInterpreterFunction: \"You can't use more than one function (rpc \" +\n                'without system.describe or with option describe == false count' +\n                 's as one)',\n            loginFunctionMissing: \"You didn't specify a login function\",\n            noTokenError: 'Access denied (no token)',\n            serverResponse: 'Server responded',\n            wrongGreetings: 'Wrong value of greetings parameter',\n            notWhileLogin: \"You can't call `%s' function while in login\",\n            loginIsNotAFunction: 'Authenticate must be a function',\n            canExitError: \"You can't exit from main interpreter\",\n            invalidCompletion: 'Invalid completion',\n            invalidSelector: 'Sorry, but terminal said that \"%s\" is not valid ' +\n                'selector!',\n            invalidTerminalId: 'Invalid Terminal ID',\n            login: 'login',\n            password: 'password',\n            recursiveCall: 'Recursive call detected, skip',\n            notAString: '%s function: argument is not a string',\n            redrawError: 'Internal error, wrong position in cmd redraw',\n            invalidStrings: 'Command %s have unclosed strings'\n        }\n    };\n    // -------------------------------------------------------------------------\n    // :: All terminal globals\n    // -------------------------------------------------------------------------\n    var requests = []; // for canceling on CTRL+D\n    var terminals = new Cycle(); // list of terminals global in this scope\n    // state for all terminals, terminals can't have own array fo state because\n    // there is only one popstate event\n    var save_state = []; // hold objects returned by export_view by history API\n    var hash_commands;\n    var change_hash = false; // don't change hash on Init\n    var fire_hash_change = true;\n    var first_instance = true; // used by history state\n    $.fn.terminal = function(init_interpreter, options) {\n        function StorageHelper(memory) {\n            if (memory) {\n                this.storage = {};\n            }\n            this.set = function(key, value) {\n                if (memory) {\n                    this.storage[key] = value;\n                } else {\n                    $.Storage.set(key, value);\n                }\n            };\n            this.get = function(key) {\n                if (memory) {\n                    return this.storage[key];\n                } else {\n                    return $.Storage.get(key);\n                }\n            };\n            this.remove = function(key) {\n                if (memory) {\n                    delete this.storage[key];\n                } else {\n                    $.Storage.remove(key);\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: helper function\n        // ---------------------------------------------------------------------\n        function get_processed_command(command) {\n            if ($.terminal.unclosed_strings(command)) {\n                var string = $.terminal.escape_brackets(command);\n                throw new Error(sprintf(strings().invalidStrings, \"`\" + string + \"`\"));\n            } else if ($.isFunction(settings.processArguments)) {\n                return process_command(command, settings.processArguments);\n            } else if (settings.processArguments) {\n                return $.terminal.parse_command(command);\n            } else {\n                return $.terminal.split_command(command);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display object on terminal\n        // ---------------------------------------------------------------------\n        function display_object(object) {\n            if (typeof object === 'string') {\n                self.echo(object);\n            } else if (object instanceof Array) {\n                self.echo($.map(object, function(object) {\n                    return JSON.stringify(object);\n                }).join(' '));\n            } else if (typeof object === 'object') {\n                self.echo(JSON.stringify(object));\n            } else {\n                self.echo(object);\n            }\n        }\n        // Display line code in the file if line numbers are present\n        function print_line(url_spec) {\n            var re = /(.*):([0-9]+):([0-9]+)$/;\n            // google chrome have line and column after filename\n            var m = url_spec.match(re);\n            if (m) {\n                // TODO: do we need to call pause/resume or return promise?\n                self.pause(settings.softPause);\n                $.get(m[1], function(response) {\n                    var prefix = location.href.replace(/[^/]+$/, '');\n                    var file = m[1].replace(prefix, '');\n                    self.echo('[[b;white;]' + file + ']');\n                    var code = response.split('\\n');\n                    var n = +m[2] - 1;\n                    self.echo(code.slice(n - 2, n + 3).map(function(line, i) {\n                        if (i === 2) {\n                            line = '[[;#f00;]' +\n                                $.terminal.escape_brackets(line) + ']';\n                        }\n                        return '[' + (n + i) + ']: ' + line;\n                    }).join('\\n')).resume();\n                }, 'text');\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function\n        // ---------------------------------------------------------------------\n        function display_json_rpc_error(error) {\n            if ($.isFunction(settings.onRPCError)) {\n                settings.onRPCError.call(self, error);\n            } else {\n                self.error('&#91;RPC&#93; ' + error.message);\n                if (error.error && error.error.message) {\n                    error = error.error;\n                    // more detailed error message\n                    var msg = '\\t' + error.message;\n                    if (error.file) {\n                        msg += ' in file \"' + error.file.replace(/.*\\//, '') + '\"';\n                    }\n                    if (error.at) {\n                        msg += ' at line ' + error.at;\n                    }\n                    self.error(msg);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Create interpreter function from url string\n        // ---------------------------------------------------------------------\n        function make_basic_json_rpc(url, auth) {\n            var interpreter = function(method, params) {\n                self.pause(settings.softPause);\n                $.jrpc({\n                    url: url,\n                    method: method,\n                    params: params,\n                    request: function(jxhr, request) {\n                        try {\n                            settings.request.apply(self, jxhr, request, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    response: function(jxhr, response) {\n                        try {\n                            settings.response.apply(self, jxhr, response, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    success: function success(json) {\n                        if (json.error) {\n                            display_json_rpc_error(json.error);\n                        } else if ($.isFunction(settings.processRPCResponse)) {\n                            settings.processRPCResponse.call(self, json.result, self);\n                        } else {\n                            display_object(json.result);\n                        }\n                        self.resume();\n                    },\n                    error: ajax_error\n                });\n            };\n            // this is the interpreter function\n            return function(command, terminal) {\n                if (command === '') {\n                    return;\n                }\n                try {\n                    command = get_processed_command(command);\n                } catch (e) {\n                    // exception can be thrown on invalid regex\n                    display_exception(e, 'TERMINAL (get_processed_command)');\n                    return;\n                    // throw e; // this will show stack in other try..catch\n                }\n                if (!auth || command.name === 'help') {\n                    // allows to call help without a token\n                    interpreter(command.name, command.args);\n                } else {\n                    var token = terminal.token();\n                    if (token) {\n                        interpreter(command.name, [token].concat(command.args));\n                    } else {\n                        // should never happen\n                        terminal.error('&#91;AUTH&#93; ' +\n                                       strings().noTokenError);\n                    }\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: Create interpreter function from Object. If the value is object\n        // :: it will create nested interpreters\n        // ---------------------------------------------------------------------\n        function make_object_interpreter(object, arity, login, fallback) {\n            // function that maps commands to object methods\n            // it keeps terminal context\n            return function(user_command, terminal) {\n                if (user_command === '') {\n                    return;\n                }\n                // command = split_command_line(command);\n                var command;\n                try {\n                    command = get_processed_command(user_command);\n                } catch (e) {\n                    // exception can be thrown on invalid regex\n                    if ($.isFunction(settings.exception)) {\n                        settings.exception(e, self);\n                    } else {\n                        self.error(e.toString());\n                    }\n                    return;\n                    // throw e; // this will show stack in other try..catch\n                }\n                /*\n                if (login) {\n                    var token = self.token(true);\n                    if (token) {\n                        command.args = [token].concat(command.args);\n                    } else {\n                        terminal.error('&#91;AUTH&#93; ' + strings.noTokenError);\n                        return;\n                    }\n                }*/\n                var val = object[command.name];\n                var type = $.type(val);\n                if (type === 'function') {\n                    if (arity && val.length !== command.args.length) {\n                        self.error('&#91;Arity&#93; ' +\n                                   sprintf(strings().wrongArity,\n                                           command.name,\n                                           val.length,\n                                           command.args.length));\n                    } else {\n                        return val.apply(self, command.args);\n                    }\n                } else if (type === 'object' || type === 'string') {\n                    var commands = [];\n                    if (type === 'object') {\n                        commands = Object.keys(val);\n                        val = make_object_interpreter(val,\n                                                      arity,\n                                                      login);\n                    }\n                    terminal.push(val, {\n                        prompt: command.name + '> ',\n                        name: command.name,\n                        completion: type === 'object' ? commands : undefined\n                    });\n                } else if ($.isFunction(fallback)) {\n                    fallback(user_command, self);\n                } else if ($.isFunction(settings.onCommandNotFound)) {\n                    settings.onCommandNotFound.call(self, user_command, self);\n                } else {\n                    terminal.error(sprintf(strings().commandNotFound, command.name));\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        function ajax_error(xhr, status, error) {\n            self.resume(); // onAjaxError can use pause/resume call it first\n            if ($.isFunction(settings.onAjaxError)) {\n                settings.onAjaxError.call(self, xhr, status, error);\n            } else if (status !== 'abort') {\n                self.error('&#91;AJAX&#93; ' + status + ' - ' +\n                           strings().serverResponse + ':\\n' +\n                           $.terminal.escape_brackets(xhr.responseText));\n            }\n        }\n        // ---------------------------------------------------------------------\n        function make_json_rpc_object(url, auth, success) {\n            function jrpc_success(json) {\n                if (json.error) {\n                    display_json_rpc_error(json.error);\n                } else if ($.isFunction(settings.processRPCResponse)) {\n                    settings.processRPCResponse.call(self, json.result, self);\n                } else {\n                    display_object(json.result);\n                }\n                self.resume();\n            }\n            function jrpc_request(jxhr, request) {\n                try {\n                    settings.request.call(self, jxhr, request, self);\n                } catch (e) {\n                    display_exception(e, 'USER');\n                }\n            }\n            function jrpc_response(jxhr, response) {\n                try {\n                    settings.response.call(self, jxhr, response, self);\n                } catch (e) {\n                    display_exception(e, 'USER');\n                }\n            }\n            function response(response) {\n                var procs = response;\n                // we check if it's false before we call this function but\n                // it don't hurt to be explicit here\n                if (settings.describe !== '') {\n                    settings.describe.split('.').forEach(function(field) {\n                        procs = procs[field];\n                    });\n                }\n                if (procs && procs.length) {\n                    var interpreter_object = {};\n                    $.each(procs, function(_, proc) {\n                        interpreter_object[proc.name] = function() {\n                            var append = auth && proc.name !== 'help';\n                            var args = Array.prototype.slice.call(arguments);\n                            var args_len = args.length + (append ? 1 : 0);\n                            if (settings.checkArity && proc.params &&\n                                proc.params.length !== args_len) {\n                                self.error('&#91;Arity&#93; ' +\n                                           sprintf(strings().wrongArity,\n                                                   proc.name,\n                                                   proc.params.length,\n                                                   args_len));\n                            } else {\n                                self.pause(settings.softPause);\n                                if (append) {\n                                    var token = self.token(true);\n                                    if (token) {\n                                        args = [token].concat(args);\n                                    } else {\n                                        self.error('&#91;AUTH&#93; ' +\n                                                   strings().noTokenError);\n                                    }\n                                }\n                                $.jrpc({\n                                    url: url,\n                                    method: proc.name,\n                                    params: args,\n                                    request: jrpc_request,\n                                    response: jrpc_response,\n                                    success: jrpc_success,\n                                    error: ajax_error\n                                });\n                            }\n                        };\n                    });\n                    interpreter_object.help = interpreter_object.help || function(fn) {\n                        if (typeof fn === 'undefined') {\n                            var names = response.procs.map(function(proc) {\n                                return proc.name;\n                            }).join(', ') + ', help';\n                            self.echo('Available commands: ' + names);\n                        } else {\n                            var found = false;\n                            $.each(procs, function(_, proc) {\n                                if (proc.name === fn) {\n                                    found = true;\n                                    var msg = '';\n                                    msg += '[[bu;#fff;]' + proc.name + ']';\n                                    if (proc.params) {\n                                        msg += ' ' + proc.params.join(' ');\n                                    }\n                                    if (proc.help) {\n                                        msg += '\\n' + proc.help;\n                                    }\n                                    self.echo(msg);\n                                    return false;\n                                }\n                            });\n                            if (!found) {\n                                if (fn === 'help') {\n                                    self.echo('[[bu;#fff;]help] [method]\\ndisplay help ' +\n                                              'for the method or list of methods if not' +\n                                              ' specified');\n                                } else {\n                                    var msg = 'Method `' + fn + \"' not found \";\n                                    self.error(msg);\n                                }\n                            }\n                        }\n                    };\n                    success(interpreter_object);\n                } else {\n                    success(null);\n                }\n            }\n            return $.jrpc({\n                url: url,\n                method: 'system.describe',\n                params: [],\n                success: response,\n                request: jrpc_request,\n                response: jrpc_response,\n                error: function error() {\n                    success(null);\n                }\n            });\n        }\n        // ---------------------------------------------------------------------\n        function make_interpreter(user_intrp, login, finalize) {\n            finalize = finalize || $.noop;\n            var type = $.type(user_intrp);\n            var object;\n            var result = {};\n            var rpc_count = 0; // only one rpc can be use for array\n            var fn_interpreter;\n            if (type === 'array') {\n                object = {};\n                // recur will be called when previous acync call is finished\n                (function recur(interpreters, success) {\n                    if (interpreters.length) {\n                        var first = interpreters[0];\n                        var rest = interpreters.slice(1);\n                        var type = $.type(first);\n                        if (type === 'string') {\n                            self.pause(settings.softPause);\n                            if (settings.describe === false) {\n                                if (++rpc_count === 1) {\n                                    fn_interpreter = make_basic_json_rpc(first, login);\n                                } else {\n                                    self.error(strings().oneRPCWithIgnore);\n                                }\n                                recur(rest, success);\n                            } else {\n                                make_json_rpc_object(first, login, function(new_obj) {\n                                    if (new_obj) {\n                                        $.extend(object, new_obj);\n                                    } else if (++rpc_count === 1) {\n                                        fn_interpreter = make_basic_json_rpc(\n                                            first,\n                                            login\n                                        );\n                                    } else {\n                                        self.error(strings().oneRPCWithIgnore);\n                                    }\n                                    self.resume();\n                                    recur(rest, success);\n                                });\n                            }\n                        } else if (type === 'function') {\n                            if (fn_interpreter) {\n                                self.error(strings().oneInterpreterFunction);\n                            } else {\n                                fn_interpreter = first;\n                            }\n                            recur(rest, success);\n                        } else if (type === 'object') {\n                            $.extend(object, first);\n                            recur(rest, success);\n                        }\n                    } else {\n                        success();\n                    }\n                })(user_intrp, function() {\n                    finalize({\n                        interpreter: make_object_interpreter(object,\n                                                             false,\n                                                             login,\n                                                             fn_interpreter.bind(self)),\n                        completion: Object.keys(object)\n                    });\n                });\n            } else if (type === 'string') {\n                if (settings.ignoreSystemDescribe) {\n                    object = {\n                        interpreter: make_basic_json_rpc(user_intrp, login)\n                    };\n                    if ($.isArray(settings.completion)) {\n                        object.completion = settings.completion;\n                    }\n                    finalize(object);\n                } else {\n                    self.pause(settings.softPause);\n                    make_json_rpc_object(user_intrp, login, function(object) {\n                        if (object) {\n                            result.interpreter = make_object_interpreter(object,\n                                                                         false,\n                                                                         login);\n                            result.completion = Object.keys(object);\n                        } else {\n                            // no procs in system.describe\n                            result.interpreter = make_basic_json_rpc(user_intrp, login);\n                        }\n                        finalize(result);\n                        self.resume();\n                    });\n                }\n            } else if (type === 'object') {\n                finalize({\n                    interpreter: make_object_interpreter(user_intrp,\n                                                         settings.checkArity),\n                    completion: Object.keys(user_intrp)\n                });\n            } else {\n                // allow $('<div/>').terminal();\n                if (type === 'undefined') {\n                    user_intrp = $.noop;\n                } else if (type !== 'function') {\n                    throw new Error(type + ' is invalid interpreter value');\n                }\n                // single function don't need bind\n                finalize({\n                    interpreter: user_intrp,\n                    completion: settings.completion\n                });\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Create JSON-RPC authentication function\n        // ---------------------------------------------------------------------\n        function make_json_rpc_login(url, login) {\n            var method = $.type(login) === 'boolean' ? 'login' : login;\n            return function(user, passwd, callback) {\n                self.pause(settings.softPause);\n                $.jrpc({\n                    url: url,\n                    method: method,\n                    params: [user, passwd],\n                    request: function(jxhr, request) {\n                        try {\n                            settings.request.call(self, jxhr, request, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    response: function(jxhr, response) {\n                        try {\n                            settings.response.call(self, jxhr, response, self);\n                        } catch (e) {\n                            display_exception(e, 'USER');\n                        }\n                    },\n                    success: function success(response) {\n                        if (!response.error && response.result) {\n                            callback(response.result);\n                        } else {\n                            // null will trigger message that login fail\n                            callback(null);\n                        }\n                        self.resume();\n                    },\n                    error: ajax_error\n                });\n            };\n            // default name is login so you can pass true\n        }\n        // ---------------------------------------------------------------------\n        // :: Return exception message as string\n        // ---------------------------------------------------------------------\n        function exception_message(e) {\n            if (typeof e === 'string') {\n                return e;\n            } else if (typeof e.fileName === 'string') {\n                return e.fileName + ': ' + e.message;\n            } else {\n                return e.message;\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: display Exception on terminal\n        // ---------------------------------------------------------------------\n        function display_exception(e, label) {\n            if ($.isFunction(settings.exceptionHandler)) {\n                settings.exceptionHandler.call(self, e, label);\n            } else {\n                self.exception(e, label);\n            }\n        }\n        // ---------------------------------------------------------------------\n        function scroll_to_bottom() {\n            var scrollHeight;\n            if (scroll_object.prop) {\n                scrollHeight = scroll_object.prop('scrollHeight');\n            } else {\n                scrollHeight = scroll_object.attr('scrollHeight');\n            }\n            scroll_object.scrollTop(scrollHeight);\n        }\n        // ---------------------------------------------------------------------\n        // :: validating if object is a string or a function, call that function\n        // :: and display the exeption if any\n        // ---------------------------------------------------------------------\n        function validate(label, object) {\n            try {\n                if ($.isFunction(object)) {\n                    object.call(self, $.noop, self);\n                } else if (typeof object !== 'string') {\n                    var msg = label + ' must be string or function';\n                    throw msg;\n                }\n            } catch (e) {\n                display_exception(e, label.toUpperCase());\n                return false;\n            }\n            return true;\n        }\n        // ---------------------------------------------------------------------\n        // :: Draw line - can have line breaks and be longer than the width of\n        // :: the terminal, there are 2 options raw and finalize\n        // :: raw - will not encode the string and finalize if a function that\n        // :: will have div container of the line as first argument\n        // :: NOTE: it formats and appends lines to output_buffer. The actual\n        // :: append to terminal output happens in the flush function\n        // ---------------------------------------------------------------------\n        var output_buffer = [];\n        var NEW_LINE = 1;\n        function buffer_line(string, options) {\n            // urls should always have formatting to keep url if split\n            if (settings.convertLinks && !options.raw) {\n                string = string.replace(email_re, '[[!;;]$1]').\n                    replace(url_nf_re, '[[!;;]$1]');\n            }\n            var i, len;\n            if (!options.raw) {\n                if (options.formatters) {\n                    try {\n                        string = $.terminal.apply_formatters(string);\n                    } catch (e) {\n                        // display_exception(e, 'FORMATTING');\n                        if ($.isFunction(settings.exceptionHandler)) {\n                            settings.exceptionHandler.call(self, e, 'FORMATTERS');\n                        } else {\n                            alert(e.message + '\\n' + (e.stack ? e.stack : e));\n                        }\n                    }\n                }\n                string = $.terminal.encode(string);\n            }\n            output_buffer.push(NEW_LINE);\n            if (!options.raw && (strlen(string) > num_chars ||\n                                 string.match(/\\n/)) &&\n                ((settings.wrap === true && options.wrap === undefined) ||\n                  settings.wrap === false && options.wrap === true)) {\n                var words = options.keepWords;\n                var array = $.terminal.split_equal(string, num_chars, words);\n                for (i = 0, len = array.length; i < len; ++i) {\n                    if (array[i] === '' || array[i] === '\\r') {\n                        output_buffer.push('<span></span>');\n                    } else if (options.raw) {\n                        output_buffer.push(array[i]);\n                    } else {\n                        output_buffer.push($.terminal.format(array[i], {\n                            linksNoReferrer: settings.linksNoReferrer\n                        }));\n                    }\n                }\n            } else if (!options.raw) {\n                string = $.terminal.normalize(string);\n                string = $.terminal.format(string, {\n                    linksNoReferrer: settings.linksNoReferrer\n                });\n                string.split(/\\n/).forEach(function(string) {\n                    output_buffer.push(string);\n                });\n            } else {\n                output_buffer.push(string);\n            }\n            output_buffer.push(options.finalize);\n        }\n        // ---------------------------------------------------------------------\n        function process_line(line, options) {\n            // prevent exception in display exception\n            try {\n                var line_settings = $.extend({\n                    exec: true,\n                    raw: false,\n                    finalize: $.noop\n                }, options || {});\n                var string = $.type(line) === 'function' ? line() : line;\n                string = $.type(string) === 'string' ? string : String(string);\n                if (string !== '') {\n                    string = $.map(string.split(format_exec_re), function(string) {\n                        if (string && string.match(format_exec_re) &&\n                            !$.terminal.is_formatting(string)) {\n                            // redraw should not execute commands and it have\n                            // and lines variable have all extended commands\n                            string = string.replace(/^\\[\\[|\\]\\]$/g, '');\n                            if (line_settings.exec) {\n                                if (prev_command && prev_command.command === string) {\n                                    self.error(strings().recursiveCall);\n                                } else {\n                                    $.terminal.extended_command(self, string);\n                                }\n                            }\n                            return '';\n                        } else {\n                            return string;\n                        }\n                    }).join('');\n                    if (string !== '') {\n                        // string can be empty after removing extended commands\n                        buffer_line(string, line_settings);\n                    }\n                }\n            } catch (e) {\n                output_buffer = [];\n                // don't display exception if exception throw in terminal\n                if ($.isFunction(settings.exceptionHandler)) {\n                    settings.exceptionHandler.call(self, e, 'TERMINAL');\n                } else {\n                    alert('[Internal Exception(process_line)]:' +\n                          exception_message(e) + '\\n' + e.stack);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Redraw all lines\n        // ---------------------------------------------------------------------\n        function redraw() {\n            command_line.resize(num_chars);\n            // we don't want reflow while processing lines\n            var detached_output = output.empty().detach();\n            var lines_to_show = [];\n            // Dead code\n            if (settings.outputLimit >= 0) {\n                // flush will limit lines but if there is lot of\n                // lines we don't need to show them and then remove\n                // them from terminal\n                var limit;\n                if (settings.outputLimit === 0) {\n                    limit = self.rows();\n                } else {\n                    limit = settings.outputLimit;\n                }\n                lines.forEach(function(line) {\n                    var string = $.type(line[0]) === 'function' ? line[0]() : line[0];\n                    string = $.type(string) === 'string' ? string : String(string);\n                    if (strlen(string) > num_chars) {\n                        var options = line[1];\n                        var splitted = $.terminal.split_equal(\n                            string,\n                            num_chars,\n                            options.keepWords\n                        );\n                        lines_to_show = lines_to_show.concat(splitted.map(function(line) {\n                            return [line, options];\n                        }));\n                    } else {\n                        lines_to_show.push(line);\n                    }\n                });\n                lines_to_show = lines_to_show.slice(lines_to_show.length - limit - 1);\n            } else {\n                lines_to_show = lines;\n            }\n            try {\n                output_buffer = [];\n                $.each(lines, function(i, line) {\n                    process_line.apply(null, line); // line is an array\n                });\n                command_line.before(detached_output); // reinsert output\n                self.flush();\n                settings.onAfterRedraw.call(self);\n            } catch (e) {\n                if ($.isFunction(settings.exceptionHandler)) {\n                    settings.exceptionHandler.call(self, e, 'TERMINAL (redraw)');\n                } else {\n                    alert('Exception in redraw\\n' + e.stack);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display user greetings or terminal signature\n        // ---------------------------------------------------------------------\n        function show_greetings() {\n            if (settings.greetings === undefined) {\n                // signature have ascii art so it's not suite for screen readers\n                self.echo(self.signature, {finalize: a11y_hide});\n            } else if (settings.greetings) {\n                var type = typeof settings.greetings;\n                if (type === 'string') {\n                    self.echo(settings.greetings);\n                } else if (type === 'function') {\n                    settings.greetings.call(self, self.echo);\n                } else {\n                    self.error(strings().wrongGreetings);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display prompt and last command\n        // ---------------------------------------------------------------------\n        function echo_command(command) {\n            if (typeof command === 'undefined') {\n                command = self.get_command();\n            }\n            var prompt = command_line.prompt();\n            var mask = command_line.mask();\n            switch (typeof mask) {\n                case 'string':\n                    command = command.replace(/./g, mask);\n                    break;\n                case 'boolean':\n                    if (mask) {\n                        command = command.replace(/./g, settings.maskChar);\n                    } else {\n                        command = $.terminal.escape_formatting(command);\n                    }\n                    break;\n            }\n            var options = {\n                finalize: function finalize(div) {\n                    a11y_hide(div.addClass('command'));\n                    settings.onEchoCommand.call(self, div);\n                }\n            };\n            if ($.isFunction(prompt)) {\n                prompt(function(string) {\n                    self.echo(string + command, options);\n                });\n            } else {\n                self.echo(prompt + command, options);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function that restore state. Call import_view or exec\n        // ---------------------------------------------------------------------\n        function restore_state(spec) {\n            // spec [terminal_id, state_index, command]\n            var terminal = terminals.get()[spec[0]];\n            if (!terminal) {\n                throw new Error(strings().invalidTerminalId);\n            }\n            var command_idx = spec[1];\n            if (save_state[command_idx]) { // state exists\n                terminal.import_view(save_state[command_idx]);\n            } else {\n                // restore state\n                change_hash = false;\n                var command = spec[2];\n                if (command) {\n                    terminal.exec(command).done(function() {\n                        change_hash = true;\n                        save_state[command_idx] = terminal.export_view();\n                    });\n                }\n            }\n            /*if (spec[3].length) {\n                restore_state(spec[3]);\n            }*/\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function\n        // ---------------------------------------------------------------------\n        function maybe_update_hash() {\n            if (change_hash) {\n                fire_hash_change = false;\n                location.hash = '#' + JSON.stringify(hash_commands);\n                setTimeout(function() {\n                    fire_hash_change = true;\n                }, 100);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Wrapper over interpreter, it implements exit and catches all\n        // :: exeptions from user code and displays them on the terminal\n        // ---------------------------------------------------------------------\n        var first_command = true;\n        var resume_callbacks = [];\n        function commands(command, silent, exec) {\n            // first command store state of the terminal before the command get\n            // executed\n            if (first_command) {\n                first_command = false;\n                // execHash need first empty command too\n                if (settings.historyState || settings.execHash && exec) {\n                    if (!save_state.length) {\n                        // first command in first terminal don't have hash\n                        self.save_state();\n                    } else {\n                        self.save_state(null);\n                    }\n                }\n            }\n            function after_exec() {\n                // variables defined later in commands\n                if (!exec) {\n                    change_hash = true;\n                    if (settings.historyState) {\n                        self.save_state(command, false);\n                    }\n                    change_hash = saved_change_hash;\n                }\n                deferred.resolve();\n                if ($.isFunction(settings.onAfterCommand)) {\n                    settings.onAfterCommand.call(self, self, command);\n                }\n            }\n            function show(result) {\n                // don't echo result if user echo something\n                if (result && position === lines.length - 1) {\n                    display_object(result);\n                }\n                after_exec();\n                self.resume();\n            }\n            try {\n                // this callback can disable commands\n                if ($.isFunction(settings.onBeforeCommand)) {\n                    if (settings.onBeforeCommand.call(self, self, command) === false) {\n                        return;\n                    }\n                }\n                if (!exec) {\n                    prev_command = $.terminal.split_command(command);\n                }\n                if (!ghost()) {\n                    // exec execute this function wihout the help of cmd plugin\n                    // that add command to history on enter\n                    if (exec && ($.isFunction(settings.historyFilter) &&\n                                 settings.historyFilter(command) ||\n                                 command.match(settings.historyFilter))) {\n                        command_line.history().append(command);\n                    }\n                }\n                var interpreter = interpreters.top();\n                if (!silent && settings.echoCommand) {\n                    echo_command(command);\n                }\n                // new promise will be returned to exec that will resolve his\n                // returned promise\n                var deferred = new $.Deferred();\n                // we need to save sate before commands is deleyd because\n                // execute_extended_command disable it and it can be executed\n                // after delay\n                var saved_change_hash = change_hash;\n                if (command.match(/^\\s*login\\s*$/) && self.token(true)) {\n                    if (self.level() > 1) {\n                        self.logout(true);\n                    } else {\n                        self.logout();\n                    }\n                    after_exec();\n                } else if (settings.exit && command.match(/^\\s*exit\\s*$/) &&\n                           !in_login) {\n                    var level = self.level();\n                    if (level === 1 && self.get_token() || level > 1) {\n                        if (self.get_token(true)) {\n                            self.set_token(undefined, true);\n                        }\n                        self.pop();\n                    }\n                    after_exec();\n                } else if (settings.clear && command.match(/^\\s*clear\\s*$/) &&\n                           !in_login) {\n                    self.clear();\n                    after_exec();\n                } else {\n                    var position = lines.length - 1;\n                    // Call user interpreter function\n                    var result = interpreter.interpreter.call(self, command, self);\n                    if (result !== undefined) {\n                        // auto pause/resume when user return promises\n                        self.pause(settings.softPause);\n                        // when for native Promise object work only in jQuery 3.x\n                        if (result.then) {\n                            result.then(show);\n                        } else {\n                            return $.when(result).done(show);\n                        }\n                    } else if (paused) {\n                        resume_callbacks.push(function() {\n                            // exec with resume/pause in user code\n                            after_exec();\n                        });\n                    } else {\n                        after_exec();\n                    }\n                }\n                return deferred.promise();\n            } catch (e) {\n                display_exception(e, 'USER');\n                self.resume();\n                if (!settings.exceptionHandler) {\n                    throw e;\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: The logout function removes Storage, disables history and runs\n        // :: the login function. This function is called only when options.login\n        // :: function is defined. The check for this is in the self.pop method\n        // ---------------------------------------------------------------------\n        function global_logout() {\n            if ($.isFunction(settings.onBeforeLogout)) {\n                try {\n                    if (settings.onBeforeLogout.call(self, self) === false) {\n                        return;\n                    }\n                } catch (e) {\n                    display_exception(e, 'onBeforeLogout');\n                }\n            }\n            clear_loging_storage();\n            if ($.isFunction(settings.onAfterLogout)) {\n                try {\n                    settings.onAfterLogout.call(self, self);\n                } catch (e) {\n                    display_exception(e, 'onAfterlogout');\n                }\n            }\n            self.login(settings.login, true, initialize);\n        }\n        // ---------------------------------------------------------------------\n        function clear_loging_storage() {\n            var name = self.prefix_name(true) + '_';\n            storage.remove(name + 'token');\n            storage.remove(name + 'login');\n        }\n        // ---------------------------------------------------------------------\n        // :: Save the interpreter name for use with purge\n        // ---------------------------------------------------------------------\n        function maybe_append_name(interpreter_name) {\n            var storage_key = self.prefix_name() + '_interpreters';\n            var names = storage.get(storage_key);\n            if (names) {\n                names = JSON.parse(names);\n            } else {\n                names = [];\n            }\n            if ($.inArray(interpreter_name, names) === -1) {\n                names.push(interpreter_name);\n                storage.set(storage_key, JSON.stringify(names));\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Function enables history, sets prompt, runs interpreter function\n        // ---------------------------------------------------------------------\n        function prepare_top_interpreter(silent) {\n            var interpreter = interpreters.top();\n            var name = self.prefix_name(true);\n            if (!ghost()) {\n                maybe_append_name(name);\n            }\n            command_line.name(name);\n            if ($.isFunction(interpreter.prompt)) {\n                command_line.prompt(function(command) {\n                    interpreter.prompt.call(self, command, self);\n                });\n            } else {\n                command_line.prompt(interpreter.prompt);\n            }\n            if ($.isPlainObject(interpreter.keymap)) {\n                command_line.keymap($.omap(interpreter.keymap, function(name, fun) {\n                    return function() {\n                        var args = [].slice.call(arguments);\n                        try {\n                            return fun.apply(self, args);\n                        } catch (e) {\n                            display_exception(e, 'USER KEYMAP');\n                            if (!settings.exceptionHandler) {\n                                throw e;\n                            }\n                        }\n                    };\n                }));\n            }\n            command_line.set('');\n            init_queue.resolve();\n            if (!silent && $.isFunction(interpreter.onStart)) {\n                interpreter.onStart.call(self, self);\n            }\n        }\n        // ---------------------------------------------------------------------\n        function hashchange() {\n            if (fire_hash_change && settings.execHash) {\n                try {\n                    if (location.hash) {\n                        var hash = location.hash.replace(/^#/, '');\n                        hash_commands = JSON.parse(decodeURIComponent(hash));\n                    } else {\n                        hash_commands = [];\n                    }\n                    if (hash_commands.length) {\n                        restore_state(hash_commands[hash_commands.length - 1]);\n                    } else if (save_state[0]) {\n                        self.import_view(save_state[0]);\n                    }\n                } catch (e) {\n                    display_exception(e, 'TERMINAL');\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        function initialize() {\n            prepare_top_interpreter();\n            show_greetings();\n            if (lines.length) {\n                redraw(); // for case when showing long error before init\n            }\n            // was_paused flag is workaround for case when user call exec before\n            // login and pause in onInit, 3rd exec will have proper timing (will\n            // execute after onInit resume)\n            var was_paused = false;\n            if ($.isFunction(settings.onInit)) {\n                onPause = function() { // local in terminal\n                    was_paused = true;\n                };\n                try {\n                    settings.onInit.call(self, self);\n                } catch (e) {\n                    display_exception(e, 'OnInit');\n                    // throw e; // it will be catched by terminal\n                } finally {\n                    onPause = $.noop;\n                    if (!was_paused && self.enabled()) {\n                        // resume login if user didn't call pause in onInit\n                        // if user pause in onInit wait with exec until it\n                        // resume\n                        self.resume();\n                    }\n                }\n            }\n            if (first_instance) {\n                first_instance = false;\n                $(window).on('hashchange', hashchange);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: If Ghost don't store anything in localstorage\n        // ---------------------------------------------------------------------\n        function ghost() {\n            return in_login || command_line.mask() !== false;\n        }\n        // ---------------------------------------------------------------------\n        // :: return string that are common in all elements of the array\n        // ---------------------------------------------------------------------\n        function common_string(string, array, matchCase) {\n            if (!array.length) {\n                return '';\n            }\n            var type = string_case(string);\n            var result = [];\n            loop:\n            for (var j = string.length; j < array[0].length; ++j) {\n                for (var i = 1; i < array.length; ++i) {\n                    var a = array[0].charAt(j);\n                    var b = array[i].charAt(j);\n                    if (a !== b) {\n                        if (matchCase || type === 'mixed') {\n                            break loop;\n                        } else if (a.toLowerCase() === b.toLowerCase()) {\n                            if (type === 'lower') {\n                                result.push(a.toLowerCase());\n                            } else {\n                                result.push(a.toUpperCase());\n                            }\n                        }\n                    } else {\n                        result.push(a);\n                    }\n                }\n            }\n            return string + result.join('');\n        }\n        // ---------------------------------------------------------------------\n        // :: Keydown event handler\n        // ---------------------------------------------------------------------\n        function user_key_down(e) {\n            var result, top = interpreters.top();\n            if ($.isFunction(top.keydown)) {\n                result = top.keydown.call(self, e, self);\n                if (result !== undefined) {\n                    return result;\n                }\n            } else if ($.isFunction(settings.keydown)) {\n                result = settings.keydown.call(self, e, self);\n                if (result !== undefined) {\n                    return result;\n                }\n            }\n        }\n        var keymap = {\n            'CTRL+D': function(e, original) {\n                if (!in_login) {\n                    if (command_line.get() === '') {\n                        if (interpreters.size() > 1 ||\n                            settings.login !== undefined) {\n                            self.pop('');\n                        } else {\n                            self.resume();\n                            self.echo('');\n                        }\n                    } else {\n                        original();\n                    }\n                }\n                return false;\n            },\n            'CTRL+L': function() {\n                self.clear();\n            },\n            'TAB': function(e, orignal) {\n                // TODO: move this to cmd plugin\n                //       add completion = array | function\n                //       !!! Problem complete more then one key need terminal\n                var top = interpreters.top(), completion, caseSensitive;\n                if (typeof top.caseSensitiveAutocomplete !== 'undefined') {\n                    caseSensitive = top.caseSensitiveAutocomplete;\n                } else {\n                    caseSensitive = settings.caseSensitiveAutocomplete;\n                }\n                if (settings.completion &&\n                    $.type(settings.completion) !== 'boolean' &&\n                    top.completion === undefined) {\n                    completion = settings.completion;\n                } else {\n                    completion = top.completion;\n                }\n                if (completion === 'settings') {\n                    completion = settings.completion;\n                }\n                if (completion) {\n                    switch ($.type(completion)) {\n                        case 'function':\n                            var string = self.before_cursor(settings.wordAutocomplete);\n                            if (completion.length === 3) {\n                                var error = new Error(strings().comletionParameters);\n                                display_exception(error, 'USER');\n                                return false;\n                            }\n                            completion.call(self, string, function(commands) {\n                                self.complete(commands, {\n                                    echo: true,\n                                    word: settings.wordAutocomplete,\n                                    escape: settings.completionEscape,\n                                    caseSensitive: caseSensitive\n                                });\n                            });\n                            break;\n                        case 'array':\n                            self.complete(completion, {\n                                echo: true,\n                                word: settings.wordAutocomplete,\n                                escape: settings.completionEscape,\n                                caseSensitive: caseSensitive\n                            });\n                            break;\n                        default:\n                            throw new Error(strings().invalidCompletion);\n                    }\n                } else {\n                    orignal();\n                }\n                return false;\n            },\n            'CTRL+V': function(e, original) {\n                original(e);\n                self.oneTime(200, function() {\n                    scroll_to_bottom();\n                });\n                return true;\n            },\n            'CTRL+TAB': function() {\n                if (terminals.length() > 1) {\n                    self.focus(false);\n                    return false;\n                }\n            },\n            'PAGEDOWN': function() {\n                self.scroll(self.height());\n            },\n            'PAGEUP': function() {\n                self.scroll(-self.height());\n            }\n        };\n        function key_down(e) {\n            // Prevent to be executed by cmd: CTRL+D, TAB, CTRL+TAB (if more\n            // then one terminal)\n            var result, i;\n            if (self.enabled()) {\n                if (!self.paused()) {\n                    result = user_key_down(e);\n                    if (result !== undefined) {\n                        return result;\n                    }\n                    if (e.which !== 9) { // not a TAB\n                        tab_count = 0;\n                    }\n                    self.attr({scrollTop: self.attr('scrollHeight')});\n                } else {\n                    if (!settings.pauseEvents) {\n                        result = user_key_down(e);\n                        if (result !== undefined) {\n                            return result;\n                        }\n                    }\n                    if (e.which === 68 && e.ctrlKey) { // CTRL+D (if paused)\n                        if (settings.pauseEvents) {\n                            result = user_key_down(e);\n                            if (result !== undefined) {\n                                return result;\n                            }\n                        }\n                        if (requests.length) {\n                            for (i = requests.length; i--;) {\n                                var r = requests[i];\n                                if (r.readyState !== 4) {\n                                    try {\n                                        r.abort();\n                                    } catch (error) {\n                                        if ($.isFunction(settings.exceptionHandler)) {\n                                            settings.exceptionHandler.call(self,\n                                                                           e,\n                                                                           'AJAX ABORT');\n                                        } else {\n                                            self.error(strings().ajaxAbortError);\n                                        }\n                                    }\n                                }\n                            }\n                            requests = [];\n                        }\n                        self.resume();\n                    }\n                    return false;\n                }\n            }\n        }\n        function ready(queue) {\n            return function(fun) {\n                queue.add(fun);\n            };\n        }\n        function strings() {\n            return $.extend({}, $.terminal.defaults.strings, settings.strings);\n        }\n        // ---------------------------------------------------------------------\n        var self = this;\n        if (this.length > 1) {\n            return this.each(function() {\n                $.fn.terminal.call($(this),\n                                   init_interpreter,\n                                   $.extend({name: self.selector}, options));\n            });\n        }\n        // terminal already exists\n        if (self.data('terminal')) {\n            return self.data('terminal');\n        }\n        if (self.length === 0) {\n            throw new Error(sprintf(strings().invalidSelector, self.selector));\n        }\n        // var names = []; // stack if interpreter names\n        var scroll_object;\n        var prev_command; // used for name on the terminal if not defined\n        var tab_count = 0; // for tab completion\n        // array of line objects:\n        // - function (called whenever necessary, result is printed)\n        // - array (expected form: [line, settings])\n        // - anything else (cast to string when painted)\n        var lines = [];\n        var output; // .terminal-output jquery object\n        var terminal_id = terminals.length();\n        var num_chars; // numer of chars in line\n        var num_rows; // number of lines that fit without scrollbar\n        var command; // for tab completion\n        var logins = new Stack(); // stack of logins\n        var command_queue = new DelayQueue();\n        var init_queue = new DelayQueue();\n        var when_ready = ready(init_queue);\n        var char_size = get_char_size();\n        var cmd_ready = ready(command_queue);\n        var in_login = false;// some Methods should not be called when login\n        // TODO: Try to use mutex like counter for pause/resume\n        var onPause = $.noop;// used to indicate that user call pause onInit\n        var old_width, old_height;\n        var delayed_commands = []; // used when exec commands while paused\n        var settings = $.extend({},\n                                $.terminal.defaults,\n                                {name: self.selector},\n                                options || {});\n        var storage = new StorageHelper(settings.memory);\n        var enabled = settings.enabled, frozen = false;\n        var paused = false;\n        var autologin = true; // set to false if onBeforeLogin return false\n        var interpreters;\n        var command_line;\n        var old_enabled;\n        var visibility_observer;\n        var mutation_observer;\n        // -----------------------------------------------------------------\n        // TERMINAL METHODS\n        // -----------------------------------------------------------------\n        $.extend(self, $.omap({\n            id: function() {\n                return terminal_id;\n            },\n            // -------------------------------------------------------------\n            // :: Clear the output\n            // -------------------------------------------------------------\n            clear: function() {\n                output.html('');\n                lines = [];\n                try {\n                    settings.onClear.call(self, self);\n                } catch (e) {\n                    display_exception(e, 'onClear');\n                }\n                self.attr({scrollTop: 0});\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return an object that can be used with import_view to\n            // :: restore the state\n            // -------------------------------------------------------------\n            export_view: function() {\n                var user_export = {};\n                if ($.isFunction(settings.onExport)) {\n                    try {\n                        user_export = settings.onExport.call(self);\n                    } catch (e) {\n                        display_exception(e, 'onExport');\n                    }\n                }\n                return $.extend({}, {\n                    focus: enabled,\n                    mask: command_line.mask(),\n                    prompt: self.get_prompt(),\n                    command: self.get_command(),\n                    position: command_line.position(),\n                    lines: clone(lines),\n                    interpreters: interpreters.clone(),\n                    history: command_line.history().data\n                }, user_export);\n            },\n            // -------------------------------------------------------------\n            // :: Restore the state of the previous exported view\n            // -------------------------------------------------------------\n            import_view: function(view) {\n                if (in_login) {\n                    throw new Error(sprintf(strings().notWhileLogin, 'import_view'));\n                }\n                if ($.isFunction(settings.onImport)) {\n                    try {\n                        settings.onImport.call(self, view);\n                    } catch (e) {\n                        display_exception(e, 'onImport');\n                    }\n                }\n                when_ready(function ready() {\n                    self.set_prompt(view.prompt);\n                    self.set_command(view.command);\n                    command_line.position(view.position);\n                    command_line.mask(view.mask);\n                    if (view.focus) {\n                        self.focus();\n                    }\n                    lines = clone(view.lines);\n                    interpreters = view.interpreters;\n                    if (settings.importHistory) {\n                        command_line.history().set(view.history);\n                    }\n                    redraw();\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Store current terminal state\n            // -------------------------------------------------------------\n            save_state: function(command, ignore_hash, index) {\n                // save_state.push({view:self.export_view(), join:[]});\n                if (typeof index !== 'undefined') {\n                    save_state[index] = self.export_view();\n                } else {\n                    save_state.push(self.export_view());\n                }\n                if (!$.isArray(hash_commands)) {\n                    hash_commands = [];\n                }\n                if (command !== undefined && !ignore_hash) {\n                    var state = [\n                        terminal_id,\n                        save_state.length - 1,\n                        command\n                    ];\n                    hash_commands.push(state);\n                    maybe_update_hash();\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Execute a command, it will handle commands that do AJAX\n            // :: calls and have delays, if the second argument is set to\n            // :: true it will not echo executed command\n            // -------------------------------------------------------------\n            exec: function(command, silent, deferred) {\n                var d = deferred || new $.Deferred();\n                cmd_ready(function ready() {\n                    if ($.isArray(command)) {\n                        (function recur() {\n                            var cmd = command.shift();\n                            if (cmd) {\n                                self.exec(cmd, silent).done(recur);\n                            } else {\n                                d.resolve();\n                            }\n                        })();\n                    } else if (paused) {\n                        // both commands executed here (resume will call Term::exec)\n                        // delay command multiple time\n                        delayed_commands.push([command, silent, d]);\n                    } else {\n                        // commands may return promise from user code\n                        // it will resolve exec promise when user promise\n                        // is resolved\n                        commands(command, silent, true).done(function() {\n                            d.resolve(self);\n                        });\n                    }\n                });\n                // while testing it didn't executed last exec when using this\n                // for resolved deferred\n                return d.promise();\n            },\n            // -------------------------------------------------------------\n            // :: bypass login function that wait untill you type user/pass\n            // :: it hide implementation detail\n            // -------------------------------------------------------------\n            autologin: function(user, token, silent) {\n                self.trigger('terminal.autologin', [user, token, silent]);\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function changes the prompt of the command line to login\n            // :: with a password and calls the user login function with\n            // :: the callback that expects a token. The login is successful\n            // :: if the user calls it with value that is truthy\n            // -------------------------------------------------------------\n            login: function(auth, infinite, success, error) {\n                logins.push([].slice.call(arguments));\n                if (in_login) {\n                    throw new Error(sprintf(strings().notWhileLogin, 'login'));\n                }\n                if (!$.isFunction(auth)) {\n                    throw new Error(strings().loginIsNotAFunction);\n                }\n                in_login = true;\n                if (self.token() && self.level() === 1 && !autologin) {\n                    in_login = false; // logout will call login\n                    self.logout(true);\n                } else if (self.token(true) && self.login_name(true)) {\n                    in_login = false;\n                    if ($.isFunction(success)) {\n                        success();\n                    }\n                    return self;\n                }\n                // don't store login data in history\n                if (settings.history) {\n                    command_line.history().disable();\n                }\n                // so we know how many times call pop\n                var level = self.level();\n                function login_callback(user, token, silent) {\n                    if (token) {\n                        while (self.level() > level) {\n                            self.pop(undefined, true);\n                        }\n                        if (settings.history) {\n                            command_line.history().enable();\n                        }\n                        var name = self.prefix_name(true) + '_';\n                        storage.set(name + 'token', token);\n                        storage.set(name + 'login', user);\n                        in_login = false;\n                        if ($.isFunction(success)) {\n                            // will be used internaly since users know\n                            // when login success (they decide when\n                            // it happen by calling the callback -\n                            // this funtion)\n                            success();\n                        }\n                    } else {\n                        if (infinite) {\n                            if (!silent) {\n                                self.error(strings().wrongPasswordTryAgain);\n                            }\n                            self.pop(undefined, true).set_mask(false);\n                        } else {\n                            in_login = false;\n                            if (!silent) {\n                                self.error(strings().wrongPassword);\n                            }\n                            self.pop(undefined, true).pop(undefined, true);\n                        }\n                        // used only to call pop in push\n                        if ($.isFunction(error)) {\n                            error();\n                        }\n                    }\n                    self.off('terminal.autologin');\n                }\n                self.on('terminal.autologin', function(event, user, token, silent) {\n                    login_callback(user, token, silent);\n                });\n                self.push(function(user) {\n                    self.set_mask(settings.maskChar).push(function(pass) {\n                        try {\n                            auth.call(self, user, pass, function(token, silent) {\n                                login_callback(user, token, silent);\n                            });\n                        } catch (e) {\n                            display_exception(e, 'AUTH');\n                        }\n                    }, {\n                        prompt: strings().password + ': ',\n                        name: 'password'\n                    });\n                }, {\n                    prompt: strings().login + ': ',\n                    name: 'login'\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: User defined settings and defaults as well\n            // -------------------------------------------------------------\n            settings: function() {\n                return settings;\n            },\n            // -------------------------------------------------------------\n            // :: Get string before cursor\n            // -------------------------------------------------------------\n            before_cursor: function(word) {\n                var pos = command_line.position();\n                var command = command_line.get().substring(0, pos);\n                var cmd_strings = command.split(' ');\n                var string; // string before cursor that will be completed\n                if (word) {\n                    if (cmd_strings.length === 1) {\n                        string = cmd_strings[0];\n                    } else {\n                        var m = command.match(/(\\\\?\")/g);\n                        var double_quotes = m ? m.filter(function(chr) {\n                            return !chr.match(/^\\\\/);\n                        }).length : 0;\n                        m = command.match(/'/g);\n                        var single_quote = m ? m.length : 0;\n                        if (single_quote % 2 === 1) {\n                            string = command.match(/('[^']*)$/)[0];\n                        } else if (double_quotes % 2 === 1) {\n                            string = command.match(/(\"(?:[^\"]|\\\\\")*)$/)[0];\n                        } else {\n                            string = cmd_strings[cmd_strings.length - 1];\n                            for (i = cmd_strings.length - 1; i > 0; i--) {\n                                // treat escape space as part of the string\n                                var prev_string = cmd_strings[i - 1];\n                                if (prev_string[prev_string.length - 1] === '\\\\') {\n                                    string = cmd_strings[i - 1] + ' ' + string;\n                                } else {\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    string = command;\n                }\n                return string;\n            },\n            // -------------------------------------------------------------\n            // :: complete word or command based on array of words\n            // -------------------------------------------------------------\n            complete: function(commands, options) {\n                options = $.extend({\n                    word: true,\n                    echo: false,\n                    escape: true,\n                    caseSensitive: true\n                }, options || {});\n                var sensitive = options.caseSensitive;\n                // cursor can be in the middle of the command\n                // so we need to get the text before the cursor\n                var string = self.before_cursor(options.word).replace(/\\\\\"/g, '\"');\n                var quote = false;\n                if (options.word) {\n                    if (string.match(/^\"/)) {\n                        quote = '\"';\n                    } else if (string.match(/^'/)) {\n                        quote = \"'\";\n                    }\n                    if (quote) {\n                        string = string.replace(/^[\"']/, '');\n                    }\n                }\n                // local copy\n                commands = commands.slice();\n                if (settings.clear && $.inArray('clear', commands) === -1) {\n                    commands.push('clear');\n                }\n                if (settings.exit && $.inArray('exit', commands) === -1) {\n                    commands.push('exit');\n                }\n                if (tab_count % 2 === 0) {\n                    command = self.before_cursor(options.word);\n                } else {\n                    var test = self.before_cursor(options.word);\n                    if (test !== command) {\n                        // command line changed between TABS - ignore\n                        return;\n                    }\n                }\n                var safe = $.terminal.escape_regex(string);\n                if (options.escape) {\n                    safe = safe.replace(/(\\\\+)([\"'() ])/g, function(_, slash, chr) {\n                        if (chr.match(/[()]/)) {\n                            return slash + '\\\\?\\\\' + chr;\n                        } else {\n                            return slash + '?' + chr;\n                        }\n                    });\n                }\n                function matched_strings() {\n                    var matched = [];\n                    for (var i = commands.length; i--;) {\n                        if (regex.test(commands[i])) {\n                            var match = commands[i];\n                            if (quote === '\"') {\n                                match = match.replace(/\"/g, '\\\\\"');\n                            }\n                            if (!quote && options.escape) {\n                                match = match.replace(/([\"'() ])/g, '\\\\$1');\n                            }\n                            if (!sensitive && same_case(match)) {\n                                if (string.toLowerCase() === string) {\n                                    match = match.toLowerCase();\n                                } else if (string.toUpperCase() === string) {\n                                    match = match.toUpperCase();\n                                }\n                            }\n                            matched.push(match);\n                        }\n                    }\n                    return matched;\n                }\n                var flags = sensitive ? '' : 'i';\n                var regex = new RegExp('^' + safe, flags);\n                var matched = matched_strings();\n                function replace(input, replacement) {\n                    var text = self.get_command();\n                    var pos = self.get_position();\n                    var re = new RegExp(input + '$');\n                    var pre = text.substring(0, pos).replace(re, '');\n                    var post = text.substring(pos);\n                    var to_insert = replacement + (quote || '');\n                    self.set_command(pre + to_insert + post);\n                    self.set_position((pre + to_insert).length);\n                }\n                if (matched.length === 1) {\n                    if (options.escape) {\n                        replace(safe, matched[0]);\n                    } else {\n                        self.insert(matched[0].replace(regex, '') + (quote || ''));\n                    }\n                    command = self.before_cursor(options.word);\n                    return true;\n                } else if (matched.length > 1) {\n                    if (++tab_count >= 2) {\n                        tab_count = 0;\n                        if (options.echo) {\n                            echo_command();\n                            var text = matched.reverse().join('\\t');\n                            self.echo($.terminal.escape_brackets(text), {\n                                keepWords: true\n                            });\n                            return true;\n                        }\n                    } else {\n                        var common = common_string(string, matched, sensitive);\n                        if (common) {\n                            replace(string, common);\n                            command = self.before_cursor(options.word);\n                            return true;\n                        }\n                    }\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Return commands function from top interpreter\n            // -------------------------------------------------------------\n            commands: function() {\n                return interpreters.top().interpreter;\n            },\n            // -------------------------------------------------------------\n            // :: Low Level method that overwrites interpreter\n            // -------------------------------------------------------------\n            set_interpreter: function(user_intrp, login) {\n                function overwrite_interpreter() {\n                    self.pause(settings.softPause);\n                    make_interpreter(user_intrp, !!login, function(result) {\n                        self.resume();\n                        var top = interpreters.top();\n                        $.extend(top, result);\n                        prepare_top_interpreter(true);\n                    });\n                }\n                if ($.type(user_intrp) === 'string' && login) {\n                    self.login(make_json_rpc_login(user_intrp, login),\n                               true,\n                               overwrite_interpreter);\n                } else {\n                    overwrite_interpreter();\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Show user greetings or terminal signature\n            // -------------------------------------------------------------\n            greetings: function() {\n                show_greetings();\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return true if terminal is paused false otherwise\n            // -------------------------------------------------------------\n            paused: function() {\n                return paused;\n            },\n            // -------------------------------------------------------------\n            // :: Pause the terminal, it should be used for ajax calls\n            // -------------------------------------------------------------\n            pause: function(visible) {\n                cmd_ready(function ready() {\n                    onPause();\n                    paused = true;\n                    command_line.disable(visible || is_android);\n                    if (!visible) {\n                        command_line.find('.prompt').hidden();\n                    }\n                    if ($.isFunction(settings.onPause)) {\n                        settings.onPause.call(self);\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Resume the previously paused terminal\n            // -------------------------------------------------------------\n            resume: function() {\n                cmd_ready(function ready() {\n                    paused = false;\n                    if (enabled && terminals.front() === self) {\n                        command_line.enable();\n                    }\n                    command_line.find('.prompt').visible();\n                    var original = delayed_commands;\n                    delayed_commands = [];\n                    for (var i = 0; i < original.length; ++i) {\n                        self.exec.apply(self, original[i]);\n                    }\n                    self.trigger('resume');\n                    var fn = resume_callbacks.shift();\n                    if (fn) {\n                        fn();\n                    }\n                    scroll_to_bottom();\n                    if ($.isFunction(settings.onResume)) {\n                        settings.onResume.call(self);\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the number of characters that fit into the width of\n            // :: the terminal\n            // -------------------------------------------------------------\n            cols: function() {\n                if (settings.numChars) {\n                    return settings.numChars;\n                }\n                if (typeof num_chars === 'undefined') {\n                    num_chars = get_num_chars(self, char_size);\n                }\n                return num_chars;\n            },\n            // -------------------------------------------------------------\n            // :: Return the number of lines that fit into the height of the\n            // :: terminal\n            // -------------------------------------------------------------\n            rows: function() {\n                if (settings.numRows) {\n                    return settings.numRows;\n                }\n                if (typeof num_rows === 'undefined') {\n                    num_rows = get_num_rows(self, char_size);\n                }\n                return num_rows;\n            },\n            // -------------------------------------------------------------\n            // :: Return the History object\n            // -------------------------------------------------------------\n            history: function() {\n                return command_line.history();\n            },\n            // -------------------------------------------------------------\n            // :: toggle recording of history state\n            // -------------------------------------------------------------\n            history_state: function(toggle) {\n                function run() {\n                    settings.historyState = true;\n                    if (!save_state.length) {\n                        self.save_state();\n                    } else if (terminals.length() > 1) {\n                        self.save_state(null);\n                    }\n                }\n                if (toggle) {\n                    // if set to true and if set from user command we need\n                    // not to include the command\n                    if (typeof window.setImmediate === 'undefined') {\n                        setTimeout(run, 0);\n                    } else {\n                        setImmediate(run);\n                    }\n                } else {\n                    settings.historyState = false;\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: clear the history state\n            // -------------------------------------------------------------\n            clear_history_state: function() {\n                hash_commands = [];\n                save_state = [];\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Switch to the next terminal\n            // -------------------------------------------------------------\n            next: function() {\n                if (terminals.length() === 1) {\n                    return self;\n                } else {\n                    terminals.front().disable();\n                    var next = terminals.rotate().enable();\n                    // 50 provides buffer in viewport\n                    var x = next.offset().top - 50;\n                    $('html,body').animate({scrollTop: x}, 500);\n                    try {\n                        settings.onTerminalChange.call(next, next);\n                    } catch (e) {\n                        display_exception(e, 'onTerminalChange');\n                    }\n                    return next;\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Make the terminal in focus or blur depending on the first\n            // :: argument. If there is more then one terminal it will\n            // :: switch to next one, if the second argument is set to true\n            // :: the events will be not fired. Used on init\n            // -------------------------------------------------------------\n            focus: function(toggle, silent) {\n                cmd_ready(function ready() {\n                    if (terminals.length() === 1) {\n                        if (toggle === false) {\n                            self.disable(silent);\n                        } else {\n                            self.enable(silent);\n                        }\n                    } else if (toggle === false) {\n                        self.next();\n                    } else {\n                        var front = terminals.front();\n                        if (front !== self) {\n                            // there should be only from terminal enabled but tests\n                            // sometime fail because there where more them one\n                            // where cursor have blink class\n                            terminals.forEach(function(terminal) {\n                                if (terminal !== self && terminal.enabled()) {\n                                    terminal.disable(silent);\n                                }\n                            });\n                            if (!silent) {\n                                try {\n                                    settings.onTerminalChange.call(self, self);\n                                } catch (e) {\n                                    display_exception(e, 'onTerminalChange');\n                                }\n                            }\n                        }\n                        terminals.set(self);\n                    }\n                    self.enable(silent);\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Disable/Enable terminal that can be enabled by click\n            // -------------------------------------------------------------\n            freeze: function(freeze) {\n                when_ready(function ready() {\n                    if (freeze) {\n                        self.disable();\n                        frozen = true;\n                    } else {\n                        frozen = false;\n                        self.enable();\n                    }\n                });\n            },\n            // -------------------------------------------------------------\n            // :: check if terminal is frozen\n            // -------------------------------------------------------------\n            frozen: function() {\n                return frozen;\n            },\n            // -------------------------------------------------------------\n            // :: Enable the terminal\n            // -------------------------------------------------------------\n            enable: function(silent) {\n                if (!enabled && !frozen) {\n                    if (num_chars === undefined) {\n                        // enabling first time\n                        self.resize();\n                    }\n                    cmd_ready(function ready() {\n                        var ret;\n                        if (!silent && !enabled) {\n                            try {\n                                ret = settings.onFocus.call(self, self);\n                            } catch (e) {\n                                display_exception(e, 'onFocus');\n                            }\n                        }\n                        if (!silent && ret === undefined || silent) {\n                            enabled = true;\n                            if (!self.paused()) {\n                                command_line.enable();\n                            }\n                        }\n                    });\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Disable the terminal\n            // -------------------------------------------------------------\n            disable: function(silent) {\n                cmd_ready(function ready() {\n                    var ret;\n                    if (!silent && enabled) {\n                        try {\n                            ret = settings.onBlur.call(self, self);\n                        } catch (e) {\n                            display_exception(e, 'onBlur');\n                        }\n                    }\n                    if (!silent && ret === undefined || silent) {\n                        enabled = false;\n                        command_line.disable();\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: return true if the terminal is enabled\n            // -------------------------------------------------------------\n            enabled: function() {\n                return enabled;\n            },\n            // -------------------------------------------------------------\n            // :: Return the terminal signature depending on the size of the terminal\n            // -------------------------------------------------------------\n            signature: function() {\n                var cols = self.cols();\n                for (var i = signatures.length; i--;) {\n                    var lenghts = signatures[i].map(function(line) {\n                        return line.length;\n                    });\n                    if (Math.max.apply(null, lenghts) <= cols) {\n                        return signatures[i].join('\\n') + '\\n';\n                    }\n                }\n                return '';\n            },\n            // -------------------------------------------------------------\n            // :: Return the version number\n            // -------------------------------------------------------------\n            version: function() {\n                return $.terminal.version;\n            },\n            // -------------------------------------------------------------\n            // :: Return actual command line object (jquery object with cmd\n            // :: methods)\n            // -------------------------------------------------------------\n            cmd: function() {\n                return command_line;\n            },\n            // -------------------------------------------------------------\n            // :: Return the current command entered by terminal\n            // -------------------------------------------------------------\n            get_command: function() {\n                return command_line.get();\n            },\n            // -------------------------------------------------------------\n            // :: Change the command line to the new one\n            // -------------------------------------------------------------\n            set_command: function(command) {\n                when_ready(function ready() {\n                    command_line.set(command);\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Change position of the command line\n            // -------------------------------------------------------------\n            set_position: function(position, relative) {\n                when_ready(function ready() {\n                    command_line.position(position, relative);\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return position of the command line\n            // -------------------------------------------------------------\n            get_position: function() {\n                return command_line.position();\n            },\n            // -------------------------------------------------------------\n            // :: Insert text into the command line after the cursor\n            // -------------------------------------------------------------\n            insert: function(string, stay) {\n                if (typeof string === 'string') {\n                    when_ready(function ready() {\n                        var bottom = self.is_bottom();\n                        command_line.insert(string, stay);\n                        if (settings.scrollOnEcho || bottom) {\n                            scroll_to_bottom();\n                        }\n                    });\n                    return self;\n                } else {\n                    throw new Error(sprintf(strings().notAString, 'insert'));\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Set the prompt of the command line\n            // -------------------------------------------------------------\n            set_prompt: function(prompt) {\n                when_ready(function ready() {\n                    if (validate('prompt', prompt)) {\n                        if ($.isFunction(prompt)) {\n                            command_line.prompt(function(callback) {\n                                prompt(callback, self);\n                            });\n                        } else {\n                            command_line.prompt(prompt);\n                        }\n                        interpreters.top().prompt = prompt;\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the prompt used by the terminal\n            // -------------------------------------------------------------\n            get_prompt: function() {\n                return interpreters.top().prompt;\n                // command_line.prompt(); - can be a wrapper\n                // return command_line.prompt();\n            },\n            // -------------------------------------------------------------\n            // :: Enable or Disable mask depedning on the passed argument\n            // :: the mask can also be character (in fact it will work with\n            // :: strings longer then one)\n            // -------------------------------------------------------------\n            set_mask: function(mask) {\n                when_ready(function ready() {\n                    command_line.mask(mask === true ? settings.maskChar : mask);\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the ouput of the terminal as text\n            // -------------------------------------------------------------\n            get_output: function(raw) {\n                if (raw) {\n                    return lines;\n                } else {\n                    return $.map(lines, function(item) {\n                        return $.isFunction(item[0]) ? item[0]() : item[0];\n                    }).join('\\n');\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Recalculate and redraw everything\n            // -------------------------------------------------------------\n            resize: function(width, height) {\n                if (!self.is(':visible')) {\n                    // delay resize if terminal not visible\n                    self.stopTime('resize');\n                    self.oneTime(500, 'resize', function() {\n                        self.resize(width, height);\n                    });\n                } else {\n                    if (width && height) {\n                        self.width(width);\n                        self.height(height);\n                    }\n                    width = self.width();\n                    height = self.height();\n                    if (typeof settings.numChars !== 'undefined' &&\n                        typeof settings.numRows !== 'undefined') {\n                        return;\n                    }\n                    char_size = get_char_size();\n                    var new_num_chars = get_num_chars(self, char_size);\n                    var new_num_rows = get_num_rows(self, char_size);\n                    // only if number of chars changed\n                    if (new_num_chars !== num_chars ||\n                        new_num_rows !== num_rows) {\n                        num_chars = new_num_chars;\n                        num_rows = new_num_rows;\n                        command_line.resize(num_chars);\n                        redraw();\n                        var top = interpreters.top();\n                        if ($.isFunction(top.resize)) {\n                            top.resize.call(self, self);\n                        } else if ($.isFunction(settings.onResize)) {\n                            settings.onResize.call(self, self);\n                        }\n                        scroll_to_bottom();\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Flush the output to the terminal\n            // -------------------------------------------------------------\n            flush: function() {\n                try {\n                    var bottom = self.is_bottom();\n                    var wrapper;\n                    // print all lines\n                    $.each(output_buffer, function(i, line) {\n                        if (line === NEW_LINE) {\n                            wrapper = $('<div></div>');\n                        } else if ($.isFunction(line)) {\n                            // this is finalize function from echo\n                            wrapper.appendTo(output);\n                            line(wrapper);\n                        } else {\n                            $('<div/>').html(line)\n                                .appendTo(wrapper).width('100%');\n                        }\n                    });\n                    if (settings.outputLimit >= 0) {\n                        var limit;\n                        if (settings.outputLimit === 0) {\n                            limit = self.rows();\n                        } else {\n                            limit = settings.outputLimit;\n                        }\n                        var $lines = output.find('div div');\n                        if ($lines.length + 1 > limit) {\n                            var max = $lines.length - limit + 1;\n                            var for_remove = $lines.slice(0, max);\n                            // you can't get parent if you remove the\n                            // element so we first get the parent\n                            var parents = for_remove.parent();\n                            for_remove.remove();\n                            parents.each(function() {\n                                var $self = $(this);\n                                if ($self.is(':empty')) {\n                                    // there can be divs inside parent that\n                                    // was not removed\n                                    $self.remove();\n                                }\n                            });\n                        }\n                    }\n                    //num_rows = get_num_rows(self, char_size);\n                    if (settings.scrollOnEcho || bottom) {\n                        scroll_to_bottom();\n                    }\n                    output_buffer = [];\n                } catch (e) {\n                    if ($.isFunction(settings.exceptionHandler)) {\n                        settings.exceptionHandler.call(self, e, 'TERMINAL (Flush)');\n                    } else {\n                        alert('[Flush] ' + exception_message(e) + '\\n' +\n                              e.stack);\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Update the output line - line number can be negative\n            // -------------------------------------------------------------\n            update: function(line, string) {\n                when_ready(function ready() {\n                    if (line < 0) {\n                        line = lines.length + line; // yes +\n                    }\n                    if (!lines[line]) {\n                        self.error('Invalid line number ' + line);\n                    } else {\n                        if (string === null) {\n                            lines.splice(line, 1);\n                        } else {\n                            lines[line][0] = string;\n                        }\n                        // it would be hard to figure out which div need to be\n                        // updated so we update everything\n                        redraw();\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: return index of last line in case when you need to update\n            // :: after something is echo on the terminal\n            // -------------------------------------------------------------\n            last_index: function() {\n                return lines.length - 1;\n            },\n            // -------------------------------------------------------------\n            // :: Print data to the terminal output. It can have two options\n            // :: a function that is called with the container div that\n            // :: holds the output (as a jquery object) every time the\n            // :: output is printed (including resize and scrolling)\n            // :: If the line is a function it will be called for every\n            // :: redraw.\n            // :: it use $.when so you can echo a promise\n            // -------------------------------------------------------------\n            echo: function(string, options) {\n                function echo(string) {\n                    try {\n                        var locals = $.extend({\n                            flush: true,\n                            raw: settings.raw,\n                            finalize: $.noop,\n                            keepWords: false,\n                            formatters: true\n                        }, options || {});\n                        if (locals.raw) {\n                            (function(finalize) {\n                                locals.finalize = function(div) {\n                                    div.addClass('raw');\n                                    finalize(div);\n                                };\n                            })(locals.finalize);\n                        }\n                        if (locals.flush) {\n                            // flush buffer if there was no flush after previous echo\n                            if (output_buffer.length) {\n                                self.flush();\n                            }\n                            output_buffer = [];\n                        }\n                        process_line(string, locals);\n                        // extended commands should be processed only\n                        // once in echo and not on redraw\n                        lines.push([string, $.extend(locals, {\n                            exec: false\n                        })]);\n                        if (locals.flush) {\n                            self.flush();\n                        }\n                    } catch (e) {\n                        // if echo throw exception we can't use error to\n                        // display that exception\n                        if ($.isFunction(settings.exceptionHandler)) {\n                            settings.exceptionHandler.call(self, e, 'TERMINAL (echo)');\n                        } else {\n                            alert('[Terminal.echo] ' + exception_message(e) +\n                              '\\n' + e.stack);\n                        }\n                    }\n                }\n                try {\n                    if (options && $.isFunction(options.finalize)) {\n                        options.finalize($('<div/>'));\n                    }\n                    if ($.isFunction(string.then)) {\n                        $.when(string).done(echo);\n                    } else {\n                        echo(string);\n                    }\n                } catch (e) {\n                    display_exception(e, 'USER:echo(finalize)');\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: echo red text\n            // -------------------------------------------------------------\n            error: function(message, options) {\n                options = $.extend({}, options, {raw: false, formatters: false});\n                // quick hack to fix trailing backslash\n                var str = $.terminal.escape_brackets(message).\n                    replace(/\\\\$/, '&#92;').\n                    replace(url_re, ']$1[[;;;error]');\n                return self.echo('[[;;;error]' + str + ']', options);\n            },\n            // -------------------------------------------------------------\n            // :: Display Exception on terminal\n            // -------------------------------------------------------------\n            exception: function(e, label) {\n                var message = exception_message(e);\n                if (label) {\n                    message = '&#91;' + label + '&#93;: ' + message;\n                }\n                if (message) {\n                    self.error(message, {\n                        finalize: function(div) {\n                            div.addClass('exception message');\n                        },\n                        keepWords: true\n                    });\n                }\n                if (typeof e.fileName === 'string') {\n                    // display filename and line which throw exeption\n                    self.pause(settings.softPause);\n                    $.get(e.fileName, function(file) {\n                        var num = e.lineNumber - 1;\n                        var line = file.split('\\n')[num];\n                        if (line) {\n                            self.error('[' + e.lineNumber + ']: ' + line);\n                        }\n                        self.resume();\n                    }, 'text');\n                }\n                if (e.stack) {\n                    var stack = $.terminal.escape_brackets(e.stack);\n                    self.echo(stack.split(/\\n/g).map(function(trace) {\n                        return '[[;;;error]' + trace.replace(url_re, function(url) {\n                            return ']' + url + '[[;;;error]';\n                        }) + ']';\n                    }).join('\\n'), {\n                        finalize: function(div) {\n                            div.addClass('exception stack-trace');\n                        },\n                        formatters: false\n                    });\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Scroll Div that holds the terminal\n            // -------------------------------------------------------------\n            scroll: function(amount) {\n                var pos;\n                amount = Math.round(amount);\n                if (scroll_object.prop) { // work with jQuery > 1.6\n                    if (amount > scroll_object.prop('scrollTop') && amount > 0) {\n                        scroll_object.prop('scrollTop', 0);\n                    }\n                    pos = scroll_object.prop('scrollTop');\n                    scroll_object.scrollTop(pos + amount);\n                } else {\n                    if (amount > scroll_object.attr('scrollTop') && amount > 0) {\n                        scroll_object.attr('scrollTop', 0);\n                    }\n                    pos = scroll_object.attr('scrollTop');\n                    scroll_object.scrollTop(pos + amount);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Exit all interpreters and logout. The function will throw\n            // :: exception if there is no login provided\n            // -------------------------------------------------------------\n            logout: function(local) {\n                if (in_login) {\n                    throw new Error(sprintf(strings().notWhileLogin, 'logout'));\n                }\n                when_ready(function ready() {\n                    if (local) {\n                        var login = logins.pop();\n                        self.set_token(undefined, true);\n                        self.login.apply(self, login);\n                    } else if (interpreters.size() === 1 && self.token()) {\n                        self.logout(true);\n                    } else {\n                        while (interpreters.size() > 1) {\n                            // pop will call global_logout that will call login\n                            // and size will be > 0; this is workaround the problem\n                            if (self.token()) {\n                                self.logout(true).pop().pop();\n                            } else {\n                                self.pop();\n                            }\n                        }\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function returns the token returned by callback function\n            // :: in login function. It does nothing (return undefined) if\n            // :: there is no login\n            // -------------------------------------------------------------\n            token: function(local) {\n                return storage.get(self.prefix_name(local) + '_token');\n            },\n            // -------------------------------------------------------------\n            // :: Function sets the token to the supplied value. This function\n            // :: works regardless of wherer settings.login is supplied\n            // -------------------------------------------------------------\n            set_token: function(token, local) {\n                var name = self.prefix_name(local) + '_token';\n                if (typeof token === 'undefined') {\n                    storage.remove(name, token);\n                } else {\n                    storage.set(name, token);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function get the token either set by the login method or\n            // :: by the set_token method.\n            // -------------------------------------------------------------\n            get_token: function(local) {\n                return self.token(local);\n            },\n            // -------------------------------------------------------------\n            // :: Function return Login name entered by the user\n            // -------------------------------------------------------------\n            login_name: function(local) {\n                return storage.get(self.prefix_name(local) + '_login');\n            },\n            // -------------------------------------------------------------\n            // :: Function returns the name of current interpreter\n            // -------------------------------------------------------------\n            name: function() {\n                return interpreters.top().name;\n            },\n            // -------------------------------------------------------------\n            // :: Function return prefix name for login/token\n            // -------------------------------------------------------------\n            prefix_name: function(local) {\n                var name = (settings.name ? settings.name + '_' : '') +\n                    terminal_id;\n                if (local && interpreters.size() > 1) {\n                    var local_name = interpreters.map(function(intrp) {\n                        return intrp.name || '';\n                    }).slice(1).join('_');\n                    if (local_name) {\n                        name += '_' + local_name;\n                    }\n                }\n                return name;\n            },\n            // -------------------------------------------------------------\n            // :: wrapper for common use case\n            // -------------------------------------------------------------\n            read: function(message, callback) {\n                var d = new $.Deferred();\n                self.push(function(text) {\n                    self.pop();\n                    if ($.isFunction(callback)) {\n                        callback(text);\n                    }\n                    d.resolve(text);\n                }, {\n                    prompt: message\n                });\n                return d.promise();\n            },\n            // -------------------------------------------------------------\n            // :: Push a new interenter on the Stack\n            // -------------------------------------------------------------\n            push: function(interpreter, options) {\n                cmd_ready(function ready() {\n                    options = options || {};\n                    var defaults = {\n                        infiniteLogin: false\n                    };\n                    var push_settings = $.extend({}, defaults, options);\n                    if (!push_settings.name && prev_command) {\n                        // push is called in login\n                        push_settings.name = prev_command.name;\n                    }\n                    if (push_settings.prompt === undefined) {\n                        push_settings.prompt = (push_settings.name || '>') + ' ';\n                    }\n                    // names.push(options.name);\n                    var top = interpreters.top();\n                    if (top) {\n                        top.mask = command_line.mask();\n                    }\n                    var was_paused = paused;\n                    function init() {\n                        settings.onPush.call(self, top, interpreters.top(), self);\n                        prepare_top_interpreter();\n                    }\n                    // self.pause();\n                    make_interpreter(interpreter, !!options.login, function(ret) {\n                        // result is object with interpreter and completion properties\n                        interpreters.push($.extend({}, ret, push_settings));\n                        if (push_settings.completion === true) {\n                            if ($.isArray(ret.completion)) {\n                                interpreters.top().completion = ret.completion;\n                            } else if (!ret.completion) {\n                                interpreters.top().completion = false;\n                            }\n                        }\n                        if (push_settings.login) {\n                            var error;\n                            var type = $.type(push_settings.login);\n                            if (type === 'function') {\n                                error = push_settings.infiniteLogin ? $.noop : self.pop;\n                                self.login(push_settings.login,\n                                           push_settings.infiniteLogin,\n                                           init,\n                                           error);\n                            } else if ($.type(interpreter) === 'string' &&\n                                       type === 'string' || type === 'boolean') {\n                                error = push_settings.infiniteLogin ? $.noop : self.pop;\n                                self.login(make_json_rpc_login(interpreter,\n                                                               push_settings.login),\n                                           push_settings.infiniteLogin,\n                                           init,\n                                           error);\n                            }\n                        } else {\n                            init();\n                        }\n                        if (!was_paused && self.enabled()) {\n                            self.resume();\n                        }\n                    });\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove the last interpreter from the Stack\n            // -------------------------------------------------------------\n            pop: function(string, silent) {\n                if (string !== undefined) {\n                    echo_command(string);\n                }\n                var token = self.token(true);\n                var top;\n                if (interpreters.size() === 1) {\n                    top = interpreters.top();\n                    if (settings.login) {\n                        if (!silent) {\n                            settings.onPop.call(self, top, null, self);\n                        }\n                        global_logout();\n                        if ($.isFunction(settings.onExit)) {\n                            try {\n                                settings.onExit.call(self, self);\n                            } catch (e) {\n                                display_exception(e, 'onExit');\n                            }\n                        }\n                    } else {\n                        self.error(strings().canExitError);\n                    }\n                } else {\n                    if (token) {\n                        clear_loging_storage();\n                    }\n                    var current = interpreters.pop();\n                    top = interpreters.top();\n                    prepare_top_interpreter();\n                    if (!silent) {\n                        settings.onPop.call(self, current, top);\n                    }\n                    // we check in case if you don't pop from password interpreter\n                    if (in_login && self.get_prompt() !== strings().login + ': ') {\n                        in_login = false;\n                    }\n                    if ($.isFunction(current.onExit)) {\n                        try {\n                            current.onExit.call(self, self);\n                        } catch (e) {\n                            display_exception(e, 'onExit');\n                        }\n                    }\n                    // restore mask\n                    self.set_mask(top.mask);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Change terminal option(s) at runtime\n            // -------------------------------------------------------------\n            option: function(object_or_name, value) {\n                if (typeof value === 'undefined') {\n                    if (typeof object_or_name === 'string') {\n                        return settings[object_or_name];\n                    } else if (typeof object_or_name === 'object') {\n                        $.each(object_or_name, function(key, value) {\n                            settings[key] = value;\n                        });\n                    }\n                } else {\n                    settings[object_or_name] = value;\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return how deep you are in nested interpreters\n            // -------------------------------------------------------------\n            level: function() {\n                return interpreters.size();\n            },\n            // -------------------------------------------------------------\n            // :: Reinitialize the terminal\n            // -------------------------------------------------------------\n            reset: function() {\n                when_ready(function ready() {\n                    self.clear();\n                    while (interpreters.size() > 1) {\n                        interpreters.pop();\n                    }\n                    initialize();\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove all local storage left by terminal, it will not\n            // :: logout you until you refresh the browser\n            // -------------------------------------------------------------\n            purge: function() {\n                when_ready(function ready() {\n                    var prefix = self.prefix_name() + '_';\n                    var names = storage.get(prefix + 'interpreters');\n                    if (names) {\n                        $.each(JSON.parse(names), function(_, name) {\n                            storage.remove(name + '_commands');\n                            storage.remove(name + '_token');\n                            storage.remove(name + '_login');\n                        });\n                    }\n                    command_line.purge();\n                    storage.remove(prefix + 'interpreters');\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove all events and DOM nodes left by terminal, it will\n            // :: not purge the terminal so you will have the same state\n            // :: when you refresh the browser\n            // -------------------------------------------------------------\n            destroy: function() {\n                when_ready(function ready() {\n                    command_line.destroy().remove();\n                    output.remove();\n                    wrapper.remove();\n                    $(document).unbind('.terminal_' + self.id());\n                    $(window).unbind('.terminal_' + self.id());\n                    self.unbind('click wheel mousewheel mousedown mouseup');\n                    self.removeData('terminal').removeClass('terminal').\n                        unbind('.terminal');\n                    if (settings.width) {\n                        self.css('width', '');\n                    }\n                    if (settings.height) {\n                        self.css('height', '');\n                    }\n                    $(window).off('blur', blur_terminal).\n                        off('focus', focus_terminal);\n                    self.find('.terminal-fill').remove();\n                    terminals.remove(terminal_id);\n                    if (visibility_observer) {\n                        visibility_observer.unobserve(self[0]);\n                    }\n                    if (mutation_observer) {\n                        mutation_observer.disconnect();\n                    }\n                    self.resizer('unbind');\n                    if (!terminals.length()) {\n                        $(window).off('hashchange');\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            scroll_to_bottom: scroll_to_bottom,\n            // -------------------------------------------------------------\n            // :: return true if terminal div or body is at the bottom\n            // :: is use scrollBottomOffset option as margin for the check\n            // -------------------------------------------------------------\n            is_bottom: function() {\n                if (settings.scrollBottomOffset === -1) {\n                    return false;\n                } else {\n                    var scroll_height, scroll_top, height;\n                    if (self.is('body')) {\n                        scroll_height = $(document).height();\n                        scroll_top = $(window).scrollTop();\n                        height = window.innerHeight;\n                    } else {\n                        scroll_height = scroll_object[0].scrollHeight;\n                        scroll_top = scroll_object.scrollTop();\n                        height = scroll_object.outerHeight();\n                    }\n                    var limit = scroll_height - settings.scrollBottomOffset;\n                    return scroll_top + height > limit;\n                }\n            }\n        }, function(name, fun) {\n            // wrap all functions and display execptions\n            return function() {\n                try {\n                    return fun.apply(self, [].slice.apply(arguments));\n                } catch (e) {\n                    // exec catch by command (resume call exec)\n                    if (name !== 'exec' && name !== 'resume') {\n                        display_exception(e, 'TERMINAL');\n                    }\n                    if (!settings.exceptionHandler) {\n                        throw e;\n                    }\n                }\n            };\n        }));\n\n        // -----------------------------------------------------------------\n        // INIT CODE\n        // -----------------------------------------------------------------\n        // backward compatibility\n        if (settings.ignoreSystemDescribe === true) {\n            settings.describe = false;\n        }\n        if (settings.width) {\n            self.width(settings.width);\n        }\n        if (settings.height) {\n            self.height(settings.height);\n        }\n        scroll_object = self.scroll_element();\n        // register ajaxSend for cancel requests on CTRL+D\n        $(document).bind('ajaxSend.terminal_' + self.id(), function(e, xhr) {\n            requests.push(xhr);\n        });\n        var wrapper = $('<div class=\"terminal-wrapper\"/>').appendTo(self);\n        $('<div class=\"terminal-fill\"/>').appendTo(self);\n        output = $('<div>').addClass('terminal-output').attr('role', 'log')\n            .appendTo(wrapper);\n        self.addClass('terminal');\n        // before login event\n        if (settings.login && $.isFunction(settings.onBeforeLogin)) {\n            try {\n                if (settings.onBeforeLogin.call(self, self) === false) {\n                    autologin = false;\n                }\n            } catch (e) {\n                display_exception(e, 'onBeforeLogin');\n                if (!settings.exceptionHandler) {\n                    throw e;\n                }\n            }\n        }\n        // create json-rpc authentication function\n        var base_interpreter;\n        if (typeof init_interpreter === 'string') {\n            base_interpreter = init_interpreter;\n        } else if (init_interpreter instanceof Array) {\n            // first JSON-RPC\n            for (var i = 0, len = init_interpreter.length; i < len; ++i) {\n                if (typeof init_interpreter[i] === 'string') {\n                    base_interpreter = init_interpreter[i];\n                    break;\n                }\n            }\n        }\n        if (base_interpreter &&\n            (typeof settings.login === 'string' || settings.login === true)) {\n            settings.login = make_json_rpc_login(base_interpreter,\n                                                 settings.login);\n        }\n        terminals.append(self);\n        self.on('focus.terminal', 'textarea', function(e) {\n            // for cases when user press tab to focus terminal\n            if (!self.enabled() && e.originalEvent !== undefined) {\n                self.focus(true);\n            }\n        });\n        function focus_terminal() {\n            if (old_enabled) {\n                self.focus();\n            }\n        }\n        function blur_terminal() {\n            old_enabled = enabled;\n            self.disable().find('textarea').trigger('blur', [true]);\n        }\n        function paste_event(e) {\n            e = e.originalEvent;\n            // we don't care about browser that don't support clipboard data\n            // those browser simple will not have this feature normal paste\n            // is cross-browser and it's handled by cmd plugin\n            if (e.clipboardData) {\n                if (self.enabled()) {\n                    var items = e.clipboardData.items;\n                    if (items) {\n                        for (var i = 0; i < items.length; i++) {\n                            if (items[i].type.indexOf('image') !== -1) {\n                                var blob = items[i].getAsFile();\n                                var URL = window.URL || window.webkitURL;\n                                var source = URL.createObjectURL(blob);\n                                self.echo('<img src=\"' + source + '\"/>', {raw: true});\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        $(document).on('paste.terminal_' + self.id(), paste_event);\n        make_interpreter(init_interpreter, !!settings.login, function(itrp) {\n            if (settings.completion && typeof settings.completion !== 'boolean' ||\n                !settings.completion) {\n                // overwrite interpreter completion by global setting #224\n                // we use string to indicate that it need to be taken from settings\n                // so we are able to change it using option API method\n                itrp.completion = 'settings';\n            }\n            var new_keymap = $.extend({}, keymap, settings.keymap || {});\n            interpreters = new Stack($.extend({}, settings.extra, {\n                name: settings.name,\n                prompt: settings.prompt,\n                keypress: settings.keypress,\n                keydown: settings.keydown,\n                resize: settings.onResize,\n                greetings: settings.greetings,\n                mousewheel: settings.mousewheel,\n                keymap: new_keymap\n            }, itrp));\n            // CREATE COMMAND LINE\n            command_line = $('<div/>').appendTo(wrapper).cmd({\n                prompt: settings.prompt,\n                history: settings.memory ? 'memory' : settings.history,\n                historyFilter: settings.historyFilter,\n                historySize: settings.historySize,\n                width: '100%',\n                enabled: false,\n                keydown: key_down,\n                keymap: new_keymap,\n                clickTimeout: settings.clickTimeout,\n                keypress: function(e) {\n                    var top = interpreters.top();\n                    if (enabled && (!paused || !settings.pauseEvents)) {\n                        if ($.isFunction(top.keypress)) {\n                            return top.keypress.call(self, e, self);\n                        } else if ($.isFunction(settings.keypress)) {\n                            return settings.keypress.call(self, e, self);\n                        }\n                    }\n                },\n                onCommandChange: function(command) {\n                    if ($.isFunction(settings.onCommandChange)) {\n                        try {\n                            settings.onCommandChange.call(self, command, self);\n                        } catch (e) {\n                            display_exception(e, 'onCommandChange');\n                            if (!settings.exceptionHandler) {\n                                throw e;\n                            }\n                        }\n                    }\n                    scroll_to_bottom();\n                },\n                commands: commands\n            });\n            // touch devices need touch event to get virtual keyboard\n            if (enabled && self.is(':visible') && !is_mobile) {\n                self.focus(undefined, true);\n            } else {\n                self.disable();\n            }\n            function disable(e) {\n                var sender = $(e.target);\n                if (!sender.closest('.terminal').length && self.enabled()) {\n                    self.disable();\n                }\n            }\n            self.oneTime(100, function() {\n                $(document).bind('click.terminal_' + self.id(), disable).\n                    bind('contextmenu.terminal_' + self.id(), disable);\n            });\n            var $win = $(window);\n            // cordova application, if keyboard was open and we resume it will be\n            // closed so we need to disable terminal so you can enable it with tap\n            document.addEventListener(\"resume\", function() {\n                self.disable();\n            });\n            if (is_mobile) {\n                self.click(function() {\n                    if (!frozen) {\n                        if (!self.enabled()) {\n                            self.focus();\n                            command_line.enable();\n                        } else {\n                            self.disable();\n                        }\n                    }\n                });\n            } else {\n                // work weird on mobile\n                $win.on('focus.terminal_' + self.id(), focus_terminal).\n                    on('blur.terminal_' + self.id(), blur_terminal);\n                // detect mouse drag\n                (function() {\n                    var count = 0;\n                    var $target;\n                    var name = 'click_' + self.id();\n                    function position() {\n                        if ($target.is('.terminal') ||\n                            $target.is('.terminal-wrapper')) {\n                            var len = self.get_command().length;\n                            self.set_position(len);\n                        } else if ($target.closest('.prompt').length) {\n                            self.set_position(0);\n                        }\n                        count = 0;\n                    }\n                    self.mousedown(function(e) {\n                        $target = $(e.target);\n                    }).mouseup(function() {\n                        if (get_selected_text() === '') {\n                            if (++count === 1) {\n                                if (!frozen) {\n                                    if (!enabled) {\n                                        self.focus();\n                                        command_line.enable();\n                                        count = 0;\n                                    } else {\n                                        var timeout = settings.clickTimeout;\n                                        self.oneTime(timeout, name, position);\n                                    }\n                                }\n                            } else {\n                                self.stopTime(name);\n                                count = 0;\n                            }\n                        }\n                    }).dblclick(function() {\n                        count = 0;\n                        self.stopTime(name);\n                    });\n                })();\n                (function() {\n                    var clip = self.find('textarea');\n                    self.on('mousedown.terminal', function(e) {\n                        if (e.originalEvent.button === 2) {\n                            if (!self.enabled()) {\n                                self.enable();\n                            }\n                            e.preventDefault();\n                            var offset = command_line.offset();\n                            clip.css({\n                                left: e.pageX - offset.left - 5,\n                                top: e.pageY - offset.top - 5\n                            });\n                        }\n                    });\n                    // contextmenu is fired after mousedown\n                    self.bind('contextmenu', function() {\n                        self.oneTime(100, function() {\n                            clip.css({left: '', top: ''});\n                        });\n                    });\n                })();\n            }\n            self.delegate('.exception a', 'click', function(e) {\n                // .on('click', '.exception a', function(e) {\n                // in new jquery .delegate just call .on\n                var href = $(this).attr('href');\n                if (href.match(/:[0-9]+$/)) { // display line if specified\n                    e.preventDefault();\n                    print_line(href);\n                }\n            });\n            if (self.is(':visible')) {\n                num_chars = self.cols();\n                command_line.resize(num_chars);\n                if (!char_size) {\n                    char_size = get_char_size();\n                }\n                num_rows = get_num_rows(self, char_size);\n            }\n            // -------------------------------------------------------------\n            // Run Login\n            command_queue.resolve();\n            if (settings.login) {\n                self.login(settings.login, true, initialize);\n            } else {\n                initialize();\n            }\n            function resize() {\n                if (self.is(':visible')) {\n                    var width = self.width();\n                    var height = self.height();\n                    // prevent too many calculations in IE\n                    if (old_height !== height || old_width !== width) {\n                        self.resize();\n                    }\n                    old_height = height;\n                    old_width = width;\n                }\n            }\n            if (self.is(':visible')) {\n                self.resizer(resize);\n            }\n            function observe_visibility() {\n                if (visibility_observer) {\n                    visibility_observer.unobserve(self[0]);\n                }\n                var was_enabled;\n                visibility_observer = new IntersectionObserver(function() {\n                    if (self.is(':visible')) {\n                        self.resizer('unbind').resizer(resize);\n                        resize();\n                        if (was_enabled) {\n                            self.enabled();\n                        }\n                    } else {\n                        was_enabled = $.terminal.active() === self && self.enabled();\n                        self.disable();\n                    }\n                }, {\n                    root: document.body\n                });\n                visibility_observer.observe(self[0]);\n            }\n            var in_dom = !!self.closest('body').length;\n            var MutationObsrv = window.MutationObserver || window.WebKitMutationObserver;\n            if (window.IntersectionObserver) {\n                if (MutationObsrv) {\n                    mutation_observer = new MutationObsrv(function() {\n                        if (self.closest('body').length) {\n                            if (!in_dom) {\n                                self.scroll_to_bottom();\n                                observe_visibility();\n                            }\n                            in_dom = true;\n                        } else if (in_dom) {\n                            in_dom = false;\n                        }\n                    });\n                    mutation_observer.observe(document.body, {childList: true});\n                }\n                // check if element is in the DOM if not running IntersectionObserver\n                // don't make sense\n                if (in_dom) {\n                    observe_visibility();\n                }\n\n            }\n            // -------------------------------------------------------------\n            // :: helper\n            function exec_spec(spec) {\n                var terminal = terminals.get()[spec[0]];\n                // execute if belong to this terminal\n                if (terminal && terminal_id === terminal.id()) {\n                    if (spec[2]) {\n                        try {\n                            if (paused) {\n                                var defer = $.Deferred();\n                                resume_callbacks.push(function() {\n                                    return terminal.exec(spec[2]).done(function() {\n                                        terminal.save_state(spec[2], true, spec[1]);\n                                        defer.resolve();\n                                    });\n                                });\n                                return defer.promise();\n                            } else {\n                                return terminal.exec(spec[2]).done(function() {\n                                    terminal.save_state(spec[2], true, spec[1]);\n                                });\n                            }\n                        } catch (e) {\n                            var settings = terminal.settings();\n                            if ($.isFunction(settings.exceptionHandler)) {\n                                settings.exceptionHandler.call(self, e, 'EXEC HASH');\n                            } else {\n                                var cmd = $.terminal.escape_brackets(command);\n                                var msg = 'Error while exec with command ' + cmd;\n                                terminal.error(msg).exception(e);\n                            }\n                        }\n                    }\n                }\n            }\n            // exec from hash called in each terminal instance\n            if (settings.execHash) {\n                if (location.hash) {\n                    // wait until login is initialized\n                    setTimeout(function() {\n                        try {\n                            var hash = location.hash.replace(/^#/, '');\n                            // yes no var - local inside terminal\n                            hash_commands = JSON.parse(decodeURIComponent(hash));\n                            var i = 0;\n                            (function recur() {\n                                var spec = hash_commands[i++];\n                                if (spec) {\n                                    exec_spec(spec).done(recur);\n                                } else {\n                                    change_hash = true;\n                                }\n                            })();// */\n                        } catch (e) {\n                            // invalid json - ignore\n                        }\n                    });\n                } else {\n                    change_hash = true;\n                }\n            } else {\n                change_hash = true; // if enabled later\n            }\n            // change_hash = true; // exec can now change hash\n            // -------------------------------------------------------------\n            var shift = false;\n            $(document).bind('keydown.terminal_' + self.id(), function(e) {\n                if (e.shiftKey) {\n                    shift = true;\n                }\n            }).bind('keyup.terminal_' + self.id(), function(e) {\n                // in Google Chromium/Linux shiftKey is false\n                if (e.shiftKey || e.which === 16) {\n                    shift = false;\n                }\n            });\n            // this could work without calling scroll on wheel event but we\n            // need to for cases where you have mouse wheel work differently\n            // like with less command that scroll text\n            function mousewheel(event, delta) {\n                if (!shift) {\n                    var interpreter = interpreters.top();\n                    var ret;\n                    if ($.isFunction(interpreter.mousewheel)) {\n                        ret = interpreter.mousewheel(event, delta, self);\n                        if (ret === false) {\n                            return;\n                        }\n                    } else if ($.isFunction(settings.mousewheel)) {\n                        ret = settings.mousewheel(event, delta, self);\n                        if (ret === false) {\n                            return;\n                        }\n                    }\n                    if (delta > 0) {\n                        self.scroll(-40);\n                    } else {\n                        self.scroll(40);\n                    }\n                }\n            }\n            if ($.event.special.mousewheel) {\n                // we keep mousewheel plugin just in case\n                self.on('mousewheel', function(event, delta) {\n                    mousewheel(event, delta);\n                    event.preventDefault();\n                });\n            } else {\n                // detection take from:\n                // https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n                var event;\n                if (\"onwheel\" in document.createElement(\"div\")) {\n                    event = \"wheel\"; // Modern browsers support \"wheel\"\n                } else if (document.onmousewheel !== undefined) {\n                    event = \"mousewheel\"; // Webkit and IE support at least \"mousewheel\"\n                } else {\n                    // let's assume that remaining browsers are older Firefox\n                    event = \"DOMMouseScroll\";\n                }\n                self.on(event, function(e) {\n                    var delta;\n                    if (event === 'mousewheel') {\n                        delta = - 1 / 40 * e.originalEvent.wheelDelta;\n                    } else {\n                        delta = e.originalEvent.deltaY || e.originalEvent.detail;\n                    }\n                    mousewheel(e, -delta);\n                    return false;\n                });\n            }\n        }); // make_interpreter\n        self.data('terminal', self);\n        return self;\n    }; // terminal plugin\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jquery.terminal/js/jquery.terminal.js\n// module id = 39\n// module chunks = 0","/**@license\n *       __ _____                     ________                              __\n *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /\n *  __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /\n * /  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__\n * \\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/\n *           \\/              /____/\n * http://terminal.jcubic.pl\n *\n * This is example of how to create custom formatter for jQuery Terminal\n *\n * Copyright (c) 2014-2016 Jakub Jankiewicz <http://jcubic.pl/me>\n * Released under the MIT license\n *\n */\n/* global jQuery */\n(function($) {\n    if (!$.terminal) {\n        throw new Error('$.terminal is not defined');\n    }\n    // ---------------------------------------------------------------------\n    // :: Replace overtyping (from man) formatting with terminal formatting\n    // ---------------------------------------------------------------------\n    $.terminal.overtyping = function overtyping(string) {\n        return string.replace(/((?:_\\x08.|.\\x08_)+)/g, function(full) {\n            var striped = full.replace(/_x08|\\x08_|_\\u0008|\\u0008_/g, '');\n            return '[[u;;]' + striped + ']';\n        }).replace(/((?:.\\x08.)+)/g, function(full) {\n            return '[[b;#fff;]' + full.replace(/(.)(?:\\x08|\\u0008)\\1/g,\n                                               function(full, g) {\n                                                   return g;\n                                               }) + ']';\n        });\n    };\n    // ---------------------------------------------------------------------\n    // :: Html colors taken from ANSI formatting in Linux Terminal\n    // ---------------------------------------------------------------------\n    $.terminal.ansi_colors = {\n        normal: {\n            black: '#000',\n            red: '#A00',\n            green: '#008400',\n            yellow: '#A50',\n            blue: '#00A',\n            magenta: '#A0A',\n            cyan: '#0AA',\n            white: '#AAA'\n        },\n        faited: {\n            black: '#000',\n            red: '#640000',\n            green: '#006100',\n            yellow: '#737300',\n            blue: '#000087',\n            magenta: '#650065',\n            cyan: '#008787',\n            white: '#818181'\n        },\n        bold: {\n            black: '#000',\n            red: '#F55',\n            green: '#44D544',\n            yellow: '#FF5',\n            blue: '#55F',\n            magenta: '#F5F',\n            cyan: '#5FF',\n            white: '#FFF'\n        },\n        // XTerm 8-bit pallete\n        palette: [\n            '#000000', '#AA0000', '#00AA00', '#AA5500', '#0000AA', '#AA00AA',\n            '#00AAAA', '#AAAAAA', '#555555', '#FF5555', '#55FF55', '#FFFF55',\n            '#5555FF', '#FF55FF', '#55FFFF', '#FFFFFF', '#000000', '#00005F',\n            '#000087', '#0000AF', '#0000D7', '#0000FF', '#005F00', '#005F5F',\n            '#005F87', '#005FAF', '#005FD7', '#005FFF', '#008700', '#00875F',\n            '#008787', '#0087AF', '#0087D7', '#0087FF', '#00AF00', '#00AF5F',\n            '#00AF87', '#00AFAF', '#00AFD7', '#00AFFF', '#00D700', '#00D75F',\n            '#00D787', '#00D7AF', '#00D7D7', '#00D7FF', '#00FF00', '#00FF5F',\n            '#00FF87', '#00FFAF', '#00FFD7', '#00FFFF', '#5F0000', '#5F005F',\n            '#5F0087', '#5F00AF', '#5F00D7', '#5F00FF', '#5F5F00', '#5F5F5F',\n            '#5F5F87', '#5F5FAF', '#5F5FD7', '#5F5FFF', '#5F8700', '#5F875F',\n            '#5F8787', '#5F87AF', '#5F87D7', '#5F87FF', '#5FAF00', '#5FAF5F',\n            '#5FAF87', '#5FAFAF', '#5FAFD7', '#5FAFFF', '#5FD700', '#5FD75F',\n            '#5FD787', '#5FD7AF', '#5FD7D7', '#5FD7FF', '#5FFF00', '#5FFF5F',\n            '#5FFF87', '#5FFFAF', '#5FFFD7', '#5FFFFF', '#870000', '#87005F',\n            '#870087', '#8700AF', '#8700D7', '#8700FF', '#875F00', '#875F5F',\n            '#875F87', '#875FAF', '#875FD7', '#875FFF', '#878700', '#87875F',\n            '#878787', '#8787AF', '#8787D7', '#8787FF', '#87AF00', '#87AF5F',\n            '#87AF87', '#87AFAF', '#87AFD7', '#87AFFF', '#87D700', '#87D75F',\n            '#87D787', '#87D7AF', '#87D7D7', '#87D7FF', '#87FF00', '#87FF5F',\n            '#87FF87', '#87FFAF', '#87FFD7', '#87FFFF', '#AF0000', '#AF005F',\n            '#AF0087', '#AF00AF', '#AF00D7', '#AF00FF', '#AF5F00', '#AF5F5F',\n            '#AF5F87', '#AF5FAF', '#AF5FD7', '#AF5FFF', '#AF8700', '#AF875F',\n            '#AF8787', '#AF87AF', '#AF87D7', '#AF87FF', '#AFAF00', '#AFAF5F',\n            '#AFAF87', '#AFAFAF', '#AFAFD7', '#AFAFFF', '#AFD700', '#AFD75F',\n            '#AFD787', '#AFD7AF', '#AFD7D7', '#AFD7FF', '#AFFF00', '#AFFF5F',\n            '#AFFF87', '#AFFFAF', '#AFFFD7', '#AFFFFF', '#D70000', '#D7005F',\n            '#D70087', '#D700AF', '#D700D7', '#D700FF', '#D75F00', '#D75F5F',\n            '#D75F87', '#D75FAF', '#D75FD7', '#D75FFF', '#D78700', '#D7875F',\n            '#D78787', '#D787AF', '#D787D7', '#D787FF', '#D7AF00', '#D7AF5F',\n            '#D7AF87', '#D7AFAF', '#D7AFD7', '#D7AFFF', '#D7D700', '#D7D75F',\n            '#D7D787', '#D7D7AF', '#D7D7D7', '#D7D7FF', '#D7FF00', '#D7FF5F',\n            '#D7FF87', '#D7FFAF', '#D7FFD7', '#D7FFFF', '#FF0000', '#FF005F',\n            '#FF0087', '#FF00AF', '#FF00D7', '#FF00FF', '#FF5F00', '#FF5F5F',\n            '#FF5F87', '#FF5FAF', '#FF5FD7', '#FF5FFF', '#FF8700', '#FF875F',\n            '#FF8787', '#FF87AF', '#FF87D7', '#FF87FF', '#FFAF00', '#FFAF5F',\n            '#FFAF87', '#FFAFAF', '#FFAFD7', '#FFAFFF', '#FFD700', '#FFD75F',\n            '#FFD787', '#FFD7AF', '#FFD7D7', '#FFD7FF', '#FFFF00', '#FFFF5F',\n            '#FFFF87', '#FFFFAF', '#FFFFD7', '#FFFFFF', '#080808', '#121212',\n            '#1C1C1C', '#262626', '#303030', '#3A3A3A', '#444444', '#4E4E4E',\n            '#585858', '#626262', '#6C6C6C', '#767676', '#808080', '#8A8A8A',\n            '#949494', '#9E9E9E', '#A8A8A8', '#B2B2B2', '#BCBCBC', '#C6C6C6',\n            '#D0D0D0', '#DADADA', '#E4E4E4', '#EEEEEE'\n        ]\n    };\n    // ---------------------------------------------------------------------\n    // :: Replace ANSI formatting with terminal formatting\n    // ---------------------------------------------------------------------\n    $.terminal.from_ansi = (function() {\n        var color_list = {\n            30: 'black',\n            31: 'red',\n            32: 'green',\n            33: 'yellow',\n            34: 'blue',\n            35: 'magenta',\n            36: 'cyan',\n            37: 'white',\n\n            39: 'inherit' // default color\n        };\n        var background_list = {\n            40: 'black',\n            41: 'red',\n            42: 'green',\n            43: 'yellow',\n            44: 'blue',\n            45: 'magenta',\n            46: 'cyan',\n            47: 'white',\n\n            49: 'transparent' // default background\n        };\n        function format_ansi(code) {\n            var controls = code.split(';');\n            var num;\n            var faited = false;\n            var reverse = false;\n            var bold = false;\n            var styles = [];\n            var output_color = '';\n            var output_background = '';\n            var _8bit_color = false;\n            var _8bit_background = false;\n            var process_8bit = false;\n            var palette = $.terminal.ansi_colors.palette;\n            function set_styles(num) {\n                switch (num) {\n                    case 1:\n                        styles.push('b');\n                        bold = true;\n                        faited = false;\n                        break;\n                    case 4:\n                        styles.push('u');\n                        break;\n                    case 3:\n                        styles.push('i');\n                        break;\n                    case 5:\n                        process_8bit = true;\n                        break;\n                    case 38:\n                        _8bit_color = true;\n                        break;\n                    case 48:\n                        _8bit_background = true;\n                        break;\n                    case 2:\n                        faited = true;\n                        bold = false;\n                        break;\n                    case 7:\n                        reverse = true;\n                        break;\n                    default:\n                        if (controls.indexOf('5') === -1) {\n                            if (color_list[num]) {\n                                output_color = color_list[num];\n                            }\n                            if (background_list[num]) {\n                                output_background = background_list[num];\n                            }\n                        }\n                }\n            }\n            for (var i in controls) {\n                if (controls.hasOwnProperty(i)) {\n                    num = parseInt(controls[i], 10);\n                    if (process_8bit && (_8bit_background || _8bit_color)) {\n                        if (_8bit_color && palette[num]) {\n                            output_color = palette[num];\n                        }\n                        if (_8bit_background && palette[num]) {\n                            output_background = palette[num];\n                        }\n                    } else {\n                        set_styles(num);\n                    }\n                }\n            }\n            if (reverse) {\n                if (output_color || output_background) {\n                    var tmp = output_background;\n                    output_background = output_color;\n                    output_color = tmp;\n                } else {\n                    output_color = 'black';\n                    output_background = 'white';\n                }\n            }\n            var colors, color, background, backgrounds;\n            if (bold) {\n                colors = backgrounds = $.terminal.ansi_colors.bold;\n            } else if (faited) {\n                colors = backgrounds = $.terminal.ansi_colors.faited;\n            } else {\n                colors = backgrounds = $.terminal.ansi_colors.normal;\n            }\n            if (_8bit_color) {\n                color = output_color;\n            } else if (output_color === 'inherit') {\n                color = output_color;\n            } else {\n                color = colors[output_color];\n            }\n            if (_8bit_background) {\n                background = output_background;\n            } else if (output_background === 'transparent') {\n                background = output_background;\n            } else {\n                background = backgrounds[output_background];\n            }\n            return [styles.join(''), color, background];\n        }\n        return function from_ansi(input) {\n            //merge multiple codes\n            /*input = input.replace(/((?:\\x1B\\[[0-9;]*[A-Za-z])*)/g, function(group) {\n              return group.replace(/m\\x1B\\[/g, ';');\n              });*/\n            var splitted = input.split(/(\\x1B\\[[0-9;]*[A-Za-z])/g);\n            if (splitted.length === 1) {\n                return input;\n            }\n            var output = [];\n            //skip closing at the begining\n            if (splitted.length > 3) {\n                var str = splitted.slice(0, 3).join('');\n                if (str.match(/^\\[0*m$/)) {\n                    splitted = splitted.slice(3);\n                }\n            }\n            var prev_color, prev_background, code, match;\n            var inside = false;\n            for (var i = 0; i < splitted.length; ++i) {\n                match = splitted[i].match(/^\\x1B\\[([0-9;]*)([A-Za-z])$/);\n                if (match) {\n                    switch (match[2]) {\n                        case 'm':\n                            if (+match[1] !== 0) {\n                                code = format_ansi(match[1]);\n                            }\n                            if (inside) {\n                                output.push(']');\n                                if (+match[1] === 0) {\n                                    //just closing\n                                    inside = false;\n                                    prev_color = prev_background = '';\n                                } else {\n                                    // someone forget to close - move to next\n                                    code[1] = code[1] || prev_color;\n                                    code[2] = code[2] || prev_background;\n                                    output.push('[[' + code.join(';') + ']');\n                                    // store colors to next use\n                                    if (code[1]) {\n                                        prev_color = code[1];\n                                    }\n                                    if (code[2]) {\n                                        prev_background = code[2];\n                                    }\n                                }\n                            } else if (+match[1] !== 0) {\n                                inside = true;\n                                code[1] = code[1] || prev_color;\n                                code[2] = code[2] || prev_background;\n                                output.push('[[' + code.join(';') + ']');\n                                // store colors to next use\n                                if (code[1]) {\n                                    prev_color = code[1];\n                                }\n                                if (code[2]) {\n                                    prev_background = code[2];\n                                }\n                            }\n                            break;\n                    }\n                } else {\n                    output.push(splitted[i]);\n                }\n            }\n            if (inside) {\n                output.push(']');\n            }\n            return output.join(''); //.replace(/\\[\\[[^\\]]+\\]\\]/g, '');\n        };\n    })();\n    $.terminal.defaults.formatters.unshift($.terminal.overtyping);\n    $.terminal.defaults.formatters.unshift($.terminal.from_ansi);\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jquery.terminal/js/unix_formatting.js\n// module id = 40\n// module chunks = 0","/* global define, KeyboardEvent, module */\n\n(function () {\n\n  var keyboardeventKeyPolyfill = {\n    polyfill: polyfill,\n    keys: {\n      3: 'Cancel',\n      6: 'Help',\n      8: 'Backspace',\n      9: 'Tab',\n      12: 'Clear',\n      13: 'Enter',\n      16: 'Shift',\n      17: 'Control',\n      18: 'Alt',\n      19: 'Pause',\n      20: 'CapsLock',\n      27: 'Escape',\n      28: 'Convert',\n      29: 'NonConvert',\n      30: 'Accept',\n      31: 'ModeChange',\n      32: ' ',\n      33: 'PageUp',\n      34: 'PageDown',\n      35: 'End',\n      36: 'Home',\n      37: 'ArrowLeft',\n      38: 'ArrowUp',\n      39: 'ArrowRight',\n      40: 'ArrowDown',\n      41: 'Select',\n      42: 'Print',\n      43: 'Execute',\n      44: 'PrintScreen',\n      45: 'Insert',\n      46: 'Delete',\n      48: ['0', ')'],\n      49: ['1', '!'],\n      50: ['2', '@'],\n      51: ['3', '#'],\n      52: ['4', '$'],\n      53: ['5', '%'],\n      54: ['6', '^'],\n      55: ['7', '&'],\n      56: ['8', '*'],\n      57: ['9', '('],\n      91: 'OS',\n      93: 'ContextMenu',\n      144: 'NumLock',\n      145: 'ScrollLock',\n      181: 'VolumeMute',\n      182: 'VolumeDown',\n      183: 'VolumeUp',\n      186: [';', ':'],\n      187: ['=', '+'],\n      188: [',', '<'],\n      189: ['-', '_'],\n      190: ['.', '>'],\n      191: ['/', '?'],\n      192: ['`', '~'],\n      219: ['[', '{'],\n      220: ['\\\\', '|'],\n      221: [']', '}'],\n      222: [\"'\", '\"'],\n      224: 'Meta',\n      225: 'AltGraph',\n      246: 'Attn',\n      247: 'CrSel',\n      248: 'ExSel',\n      249: 'EraseEof',\n      250: 'Play',\n      251: 'ZoomOut'\n    }\n  };\n\n  // Function keys (F1-24).\n  var i;\n  for (i = 1; i < 25; i++) {\n    keyboardeventKeyPolyfill.keys[111 + i] = 'F' + i;\n  }\n\n  // Printable ASCII characters.\n  var letter = '';\n  for (i = 65; i < 91; i++) {\n    letter = String.fromCharCode(i);\n    keyboardeventKeyPolyfill.keys[i] = [letter.toLowerCase(), letter.toUpperCase()];\n  }\n\n  function polyfill () {\n    if (!('KeyboardEvent' in window) ||\n        'key' in KeyboardEvent.prototype) {\n      return false;\n    }\n\n    // Polyfill `key` on `KeyboardEvent`.\n    var proto = {\n      get: function (x) {\n        var key = keyboardeventKeyPolyfill.keys[this.which || this.keyCode];\n\n        if (Array.isArray(key)) {\n          key = key[+this.shiftKey];\n        }\n\n        return key;\n      }\n    };\n    Object.defineProperty(KeyboardEvent.prototype, 'key', proto);\n    return proto;\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define('keyboardevent-key-polyfill', keyboardeventKeyPolyfill);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    module.exports = keyboardeventKeyPolyfill;\n  } else if (window) {\n    window.keyboardeventKeyPolyfill = keyboardeventKeyPolyfill;\n  }\n\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/keyboardevent-key-polyfill/index.js\n// module id = 41\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 42\n// module chunks = 0","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/setimmediate/setImmediate.js\n// module id = 43\n// module chunks = 0","/*! tether-drop 1.4.1 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([\"tether\"], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('tether'));\n  } else {\n    root.Drop = factory(root.Tether);\n  }\n}(this, function(Tether) {\n\n/* global Tether */\n'use strict';\n\nvar _bind = Function.prototype.bind;\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _Tether$Utils = Tether.Utils;\nvar extend = _Tether$Utils.extend;\nvar addClass = _Tether$Utils.addClass;\nvar removeClass = _Tether$Utils.removeClass;\nvar hasClass = _Tether$Utils.hasClass;\nvar Evented = _Tether$Utils.Evented;\n\nfunction sortAttach(str) {\n  var _str$split = str.split(' ');\n\n  var _str$split2 = _slicedToArray(_str$split, 2);\n\n  var first = _str$split2[0];\n  var second = _str$split2[1];\n\n  if (['left', 'right'].indexOf(first) >= 0) {\n    var _ref = [second, first];\n    first = _ref[0];\n    second = _ref[1];\n  }\n  return [first, second].join(' ');\n}\n\nfunction removeFromArray(arr, item) {\n  var index = undefined;\n  var results = [];\n  while ((index = arr.indexOf(item)) !== -1) {\n    results.push(arr.splice(index, 1));\n  }\n  return results;\n}\n\nvar clickEvents = ['click'];\nif ('ontouchstart' in document.documentElement) {\n  clickEvents.push('touchstart');\n}\n\nvar transitionEndEvents = {\n  'WebkitTransition': 'webkitTransitionEnd',\n  'MozTransition': 'transitionend',\n  'OTransition': 'otransitionend',\n  'transition': 'transitionend'\n};\n\nvar transitionEndEvent = '';\nfor (var _name in transitionEndEvents) {\n  if (({}).hasOwnProperty.call(transitionEndEvents, _name)) {\n    var tempEl = document.createElement('p');\n    if (typeof tempEl.style[_name] !== 'undefined') {\n      transitionEndEvent = transitionEndEvents[_name];\n    }\n  }\n}\n\nvar MIRROR_ATTACH = {\n  left: 'right',\n  right: 'left',\n  top: 'bottom',\n  bottom: 'top',\n  middle: 'middle',\n  center: 'center'\n};\n\nvar allDrops = {};\n\n// Drop can be included in external libraries.  Calling createContext gives you a fresh\n// copy of drop which won't interact with other copies on the page (beyond calling the document events).\n\nfunction createContext() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var drop = function drop() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new (_bind.apply(DropInstance, [null].concat(args)))();\n  };\n\n  extend(drop, {\n    createContext: createContext,\n    drops: [],\n    defaults: {}\n  });\n\n  var defaultOptions = {\n    classPrefix: 'drop',\n    defaults: {\n      position: 'bottom left',\n      openOn: 'click',\n      beforeClose: null,\n      constrainToScrollParent: true,\n      constrainToWindow: true,\n      classes: '',\n      remove: false,\n      openDelay: 0,\n      closeDelay: 50,\n      // inherited from openDelay and closeDelay if not explicitly defined\n      focusDelay: null,\n      blurDelay: null,\n      hoverOpenDelay: null,\n      hoverCloseDelay: null,\n      tetherOptions: {}\n    }\n  };\n\n  extend(drop, defaultOptions, options);\n  extend(drop.defaults, defaultOptions.defaults, options.defaults);\n\n  if (typeof allDrops[drop.classPrefix] === 'undefined') {\n    allDrops[drop.classPrefix] = [];\n  }\n\n  drop.updateBodyClasses = function () {\n    // There is only one body, so despite the context concept, we still iterate through all\n    // drops which share our classPrefix.\n\n    var anyOpen = false;\n    var drops = allDrops[drop.classPrefix];\n    var len = drops.length;\n    for (var i = 0; i < len; ++i) {\n      if (drops[i].isOpened()) {\n        anyOpen = true;\n        break;\n      }\n    }\n\n    if (anyOpen) {\n      addClass(document.body, drop.classPrefix + '-open');\n    } else {\n      removeClass(document.body, drop.classPrefix + '-open');\n    }\n  };\n\n  var DropInstance = (function (_Evented) {\n    _inherits(DropInstance, _Evented);\n\n    function DropInstance(opts) {\n      _classCallCheck(this, DropInstance);\n\n      _get(Object.getPrototypeOf(DropInstance.prototype), 'constructor', this).call(this);\n      this.options = extend({}, drop.defaults, opts);\n      this.target = this.options.target;\n\n      if (typeof this.target === 'undefined') {\n        throw new Error('Drop Error: You must provide a target.');\n      }\n\n      var dataPrefix = 'data-' + drop.classPrefix;\n\n      var contentAttr = this.target.getAttribute(dataPrefix);\n      if (contentAttr && this.options.content == null) {\n        this.options.content = contentAttr;\n      }\n\n      var attrsOverride = ['position', 'openOn'];\n      for (var i = 0; i < attrsOverride.length; ++i) {\n\n        var override = this.target.getAttribute(dataPrefix + '-' + attrsOverride[i]);\n        if (override && this.options[attrsOverride[i]] == null) {\n          this.options[attrsOverride[i]] = override;\n        }\n      }\n\n      if (this.options.classes && this.options.addTargetClasses !== false) {\n        addClass(this.target, this.options.classes);\n      }\n\n      drop.drops.push(this);\n      allDrops[drop.classPrefix].push(this);\n\n      this._boundEvents = [];\n      this.bindMethods();\n      this.setupElements();\n      this.setupEvents();\n      this.setupTether();\n    }\n\n    _createClass(DropInstance, [{\n      key: '_on',\n      value: function _on(element, event, handler) {\n        this._boundEvents.push({ element: element, event: event, handler: handler });\n        element.addEventListener(event, handler);\n      }\n    }, {\n      key: 'bindMethods',\n      value: function bindMethods() {\n        this.transitionEndHandler = this._transitionEndHandler.bind(this);\n      }\n    }, {\n      key: 'setupElements',\n      value: function setupElements() {\n        var _this = this;\n\n        this.drop = document.createElement('div');\n        addClass(this.drop, drop.classPrefix);\n\n        if (this.options.classes) {\n          addClass(this.drop, this.options.classes);\n        }\n\n        this.content = document.createElement('div');\n        addClass(this.content, drop.classPrefix + '-content');\n\n        if (typeof this.options.content === 'function') {\n          var generateAndSetContent = function generateAndSetContent() {\n            // content function might return a string or an element\n            var contentElementOrHTML = _this.options.content.call(_this, _this);\n\n            if (typeof contentElementOrHTML === 'string') {\n              _this.content.innerHTML = contentElementOrHTML;\n            } else if (typeof contentElementOrHTML === 'object') {\n              _this.content.innerHTML = '';\n              _this.content.appendChild(contentElementOrHTML);\n            } else {\n              throw new Error('Drop Error: Content function should return a string or HTMLElement.');\n            }\n          };\n\n          generateAndSetContent();\n          this.on('open', generateAndSetContent.bind(this));\n        } else if (typeof this.options.content === 'object') {\n          this.content.appendChild(this.options.content);\n        } else {\n          this.content.innerHTML = this.options.content;\n        }\n\n        this.drop.appendChild(this.content);\n      }\n    }, {\n      key: 'setupTether',\n      value: function setupTether() {\n        // Tether expects two attachment points, one in the target element, one in the\n        // drop.  We use a single one, and use the order as well, to allow us to put\n        // the drop on either side of any of the four corners.  This magic converts between\n        // the two:\n        var dropAttach = this.options.position.split(' ');\n        dropAttach[0] = MIRROR_ATTACH[dropAttach[0]];\n        dropAttach = dropAttach.join(' ');\n\n        var constraints = [];\n        if (this.options.constrainToScrollParent) {\n          constraints.push({\n            to: 'scrollParent',\n            pin: 'top, bottom',\n            attachment: 'together none'\n          });\n        } else {\n          // To get 'out of bounds' classes\n          constraints.push({\n            to: 'scrollParent'\n          });\n        }\n\n        if (this.options.constrainToWindow !== false) {\n          constraints.push({\n            to: 'window',\n            attachment: 'together'\n          });\n        } else {\n          // To get 'out of bounds' classes\n          constraints.push({\n            to: 'window'\n          });\n        }\n\n        var opts = {\n          element: this.drop,\n          target: this.target,\n          attachment: sortAttach(dropAttach),\n          targetAttachment: sortAttach(this.options.position),\n          classPrefix: drop.classPrefix,\n          offset: '0 0',\n          targetOffset: '0 0',\n          enabled: false,\n          constraints: constraints,\n          addTargetClasses: this.options.addTargetClasses\n        };\n\n        if (this.options.tetherOptions !== false) {\n          this.tether = new Tether(extend({}, opts, this.options.tetherOptions));\n        }\n      }\n    }, {\n      key: 'setupEvents',\n      value: function setupEvents() {\n        var _this2 = this;\n\n        if (!this.options.openOn) {\n          return;\n        }\n\n        if (this.options.openOn === 'always') {\n          setTimeout(this.open.bind(this));\n          return;\n        }\n\n        var events = this.options.openOn.split(' ');\n\n        if (events.indexOf('click') >= 0) {\n          var openHandler = function openHandler(event) {\n            _this2.toggle(event);\n            event.preventDefault();\n          };\n\n          var closeHandler = function closeHandler(event) {\n            if (!_this2.isOpened()) {\n              return;\n            }\n\n            // Clicking inside dropdown\n            if (event.target === _this2.drop || _this2.drop.contains(event.target)) {\n              return;\n            }\n\n            // Clicking target\n            if (event.target === _this2.target || _this2.target.contains(event.target)) {\n              return;\n            }\n\n            _this2.close(event);\n          };\n\n          for (var i = 0; i < clickEvents.length; ++i) {\n            var clickEvent = clickEvents[i];\n            this._on(this.target, clickEvent, openHandler);\n            this._on(document, clickEvent, closeHandler);\n          }\n        }\n\n        var inTimeout = null;\n        var outTimeout = null;\n\n        var inHandler = function inHandler(event) {\n          if (outTimeout !== null) {\n            clearTimeout(outTimeout);\n          } else {\n            inTimeout = setTimeout(function () {\n              _this2.open(event);\n              inTimeout = null;\n            }, (event.type === 'focus' ? _this2.options.focusDelay : _this2.options.hoverOpenDelay) || _this2.options.openDelay);\n          }\n        };\n\n        var outHandler = function outHandler(event) {\n          if (inTimeout !== null) {\n            clearTimeout(inTimeout);\n          } else {\n            outTimeout = setTimeout(function () {\n              _this2.close(event);\n              outTimeout = null;\n            }, (event.type === 'blur' ? _this2.options.blurDelay : _this2.options.hoverCloseDelay) || _this2.options.closeDelay);\n          }\n        };\n\n        if (events.indexOf('hover') >= 0) {\n          this._on(this.target, 'mouseover', inHandler);\n          this._on(this.drop, 'mouseover', inHandler);\n          this._on(this.target, 'mouseout', outHandler);\n          this._on(this.drop, 'mouseout', outHandler);\n        }\n\n        if (events.indexOf('focus') >= 0) {\n          this._on(this.target, 'focus', inHandler);\n          this._on(this.drop, 'focus', inHandler);\n          this._on(this.target, 'blur', outHandler);\n          this._on(this.drop, 'blur', outHandler);\n        }\n      }\n    }, {\n      key: 'isOpened',\n      value: function isOpened() {\n        if (this.drop) {\n          return hasClass(this.drop, drop.classPrefix + '-open');\n        }\n      }\n    }, {\n      key: 'toggle',\n      value: function toggle(event) {\n        if (this.isOpened()) {\n          this.close(event);\n        } else {\n          this.open(event);\n        }\n      }\n    }, {\n      key: 'open',\n      value: function open(event) {\n        var _this3 = this;\n\n        /* eslint no-unused-vars: 0 */\n        if (this.isOpened()) {\n          return;\n        }\n\n        if (!this.drop.parentNode) {\n          document.body.appendChild(this.drop);\n        }\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.enable();\n        }\n\n        addClass(this.drop, drop.classPrefix + '-open');\n        addClass(this.drop, drop.classPrefix + '-open-transitionend');\n\n        setTimeout(function () {\n          if (_this3.drop) {\n            addClass(_this3.drop, drop.classPrefix + '-after-open');\n          }\n        });\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.position();\n        }\n\n        this.trigger('open');\n\n        drop.updateBodyClasses();\n      }\n    }, {\n      key: '_transitionEndHandler',\n      value: function _transitionEndHandler(e) {\n        if (e.target !== e.currentTarget) {\n          return;\n        }\n\n        if (!hasClass(this.drop, drop.classPrefix + '-open')) {\n          removeClass(this.drop, drop.classPrefix + '-open-transitionend');\n        }\n        this.drop.removeEventListener(transitionEndEvent, this.transitionEndHandler);\n      }\n    }, {\n      key: 'beforeCloseHandler',\n      value: function beforeCloseHandler(event) {\n        var shouldClose = true;\n\n        if (!this.isClosing && typeof this.options.beforeClose === 'function') {\n          this.isClosing = true;\n          shouldClose = this.options.beforeClose(event, this) !== false;\n        }\n\n        this.isClosing = false;\n\n        return shouldClose;\n      }\n    }, {\n      key: 'close',\n      value: function close(event) {\n        if (!this.isOpened()) {\n          return;\n        }\n\n        if (!this.beforeCloseHandler(event)) {\n          return;\n        }\n\n        removeClass(this.drop, drop.classPrefix + '-open');\n        removeClass(this.drop, drop.classPrefix + '-after-open');\n\n        this.drop.addEventListener(transitionEndEvent, this.transitionEndHandler);\n\n        this.trigger('close');\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.disable();\n        }\n\n        drop.updateBodyClasses();\n\n        if (this.options.remove) {\n          this.remove(event);\n        }\n      }\n    }, {\n      key: 'remove',\n      value: function remove(event) {\n        this.close(event);\n        if (this.drop.parentNode) {\n          this.drop.parentNode.removeChild(this.drop);\n        }\n      }\n    }, {\n      key: 'position',\n      value: function position() {\n        if (this.isOpened() && typeof this.tether !== 'undefined') {\n          this.tether.position();\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.remove();\n\n        if (typeof this.tether !== 'undefined') {\n          this.tether.destroy();\n        }\n\n        for (var i = 0; i < this._boundEvents.length; ++i) {\n          var _boundEvents$i = this._boundEvents[i];\n          var element = _boundEvents$i.element;\n          var _event = _boundEvents$i.event;\n          var handler = _boundEvents$i.handler;\n\n          element.removeEventListener(_event, handler);\n        }\n\n        this._boundEvents = [];\n\n        this.tether = null;\n        this.drop = null;\n        this.content = null;\n        this.target = null;\n\n        removeFromArray(allDrops[drop.classPrefix], this);\n        removeFromArray(drop.drops, this);\n      }\n    }]);\n\n    return DropInstance;\n  })(Evented);\n\n  return drop;\n}\n\nvar Drop = createContext();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  Drop.updateBodyClasses();\n});\nreturn Drop;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tether-drop/dist/js/drop.js\n// module id = 44\n// module chunks = 0","/*! tether 1.4.0 */\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require, exports, module);\n  } else {\n    root.Tether = factory();\n  }\n}(this, function(require, exports, module) {\n\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar TetherBase = undefined;\nif (typeof TetherBase === 'undefined') {\n  TetherBase = { modules: [] };\n}\n\nvar zeroElement = null;\n\n// Same as native getBoundingClientRect, except it takes into account parent <frame> offsets\n// if the element lies within a nested document (<frame> or <iframe>-like).\nfunction getActualBoundingClientRect(node) {\n  var boundingRect = node.getBoundingClientRect();\n\n  // The original object returned by getBoundingClientRect is immutable, so we clone it\n  // We can't use extend because the properties are not considered part of the object by hasOwnProperty in IE9\n  var rect = {};\n  for (var k in boundingRect) {\n    rect[k] = boundingRect[k];\n  }\n\n  if (node.ownerDocument !== document) {\n    var _frameElement = node.ownerDocument.defaultView.frameElement;\n    if (_frameElement) {\n      var frameRect = getActualBoundingClientRect(_frameElement);\n      rect.top += frameRect.top;\n      rect.bottom += frameRect.top;\n      rect.left += frameRect.left;\n      rect.right += frameRect.left;\n    }\n  }\n\n  return rect;\n}\n\nfunction getScrollParents(el) {\n  // In firefox if the el is inside an iframe with display: none; window.getComputedStyle() will return null;\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  var computedStyle = getComputedStyle(el) || {};\n  var position = computedStyle.position;\n  var parents = [];\n\n  if (position === 'fixed') {\n    return [el];\n  }\n\n  var parent = el;\n  while ((parent = parent.parentNode) && parent && parent.nodeType === 1) {\n    var style = undefined;\n    try {\n      style = getComputedStyle(parent);\n    } catch (err) {}\n\n    if (typeof style === 'undefined' || style === null) {\n      parents.push(parent);\n      return parents;\n    }\n\n    var _style = style;\n    var overflow = _style.overflow;\n    var overflowX = _style.overflowX;\n    var overflowY = _style.overflowY;\n\n    if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {\n      if (position !== 'absolute' || ['relative', 'absolute', 'fixed'].indexOf(style.position) >= 0) {\n        parents.push(parent);\n      }\n    }\n  }\n\n  parents.push(el.ownerDocument.body);\n\n  // If the node is within a frame, account for the parent window scroll\n  if (el.ownerDocument !== document) {\n    parents.push(el.ownerDocument.defaultView);\n  }\n\n  return parents;\n}\n\nvar uniqueId = (function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n})();\n\nvar zeroPosCache = {};\nvar getOrigin = function getOrigin() {\n  // getBoundingClientRect is unfortunately too accurate.  It introduces a pixel or two of\n  // jitter as the user scrolls that messes with our ability to detect if two positions\n  // are equivilant or not.  We place an element at the top left of the page that will\n  // get the same jitter, so we can cancel the two out.\n  var node = zeroElement;\n  if (!node || !document.body.contains(node)) {\n    node = document.createElement('div');\n    node.setAttribute('data-tether-id', uniqueId());\n    extend(node.style, {\n      top: 0,\n      left: 0,\n      position: 'absolute'\n    });\n\n    document.body.appendChild(node);\n\n    zeroElement = node;\n  }\n\n  var id = node.getAttribute('data-tether-id');\n  if (typeof zeroPosCache[id] === 'undefined') {\n    zeroPosCache[id] = getActualBoundingClientRect(node);\n\n    // Clear the cache when this position call is done\n    defer(function () {\n      delete zeroPosCache[id];\n    });\n  }\n\n  return zeroPosCache[id];\n};\n\nfunction removeUtilElements() {\n  if (zeroElement) {\n    document.body.removeChild(zeroElement);\n  }\n  zeroElement = null;\n};\n\nfunction getBounds(el) {\n  var doc = undefined;\n  if (el === document) {\n    doc = document;\n    el = document.documentElement;\n  } else {\n    doc = el.ownerDocument;\n  }\n\n  var docEl = doc.documentElement;\n\n  var box = getActualBoundingClientRect(el);\n\n  var origin = getOrigin();\n\n  box.top -= origin.top;\n  box.left -= origin.left;\n\n  if (typeof box.width === 'undefined') {\n    box.width = document.body.scrollWidth - box.left - box.right;\n  }\n  if (typeof box.height === 'undefined') {\n    box.height = document.body.scrollHeight - box.top - box.bottom;\n  }\n\n  box.top = box.top - docEl.clientTop;\n  box.left = box.left - docEl.clientLeft;\n  box.right = doc.body.clientWidth - box.width - box.left;\n  box.bottom = doc.body.clientHeight - box.height - box.top;\n\n  return box;\n}\n\nfunction getOffsetParent(el) {\n  return el.offsetParent || document.documentElement;\n}\n\nvar _scrollBarSize = null;\nfunction getScrollBarSize() {\n  if (_scrollBarSize) {\n    return _scrollBarSize;\n  }\n  var inner = document.createElement('div');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  var outer = document.createElement('div');\n  extend(outer.style, {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    pointerEvents: 'none',\n    visibility: 'hidden',\n    width: '200px',\n    height: '150px',\n    overflow: 'hidden'\n  });\n\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n\n  var widthContained = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  var widthScroll = inner.offsetWidth;\n\n  if (widthContained === widthScroll) {\n    widthScroll = outer.clientWidth;\n  }\n\n  document.body.removeChild(outer);\n\n  var width = widthContained - widthScroll;\n\n  _scrollBarSize = { width: width, height: width };\n  return _scrollBarSize;\n}\n\nfunction extend() {\n  var out = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var args = [];\n\n  Array.prototype.push.apply(args, arguments);\n\n  args.slice(1).forEach(function (obj) {\n    if (obj) {\n      for (var key in obj) {\n        if (({}).hasOwnProperty.call(obj, key)) {\n          out[key] = obj[key];\n        }\n      }\n    }\n  });\n\n  return out;\n}\n\nfunction removeClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.remove(cls);\n      }\n    });\n  } else {\n    var regex = new RegExp('(^| )' + name.split(' ').join('|') + '( |$)', 'gi');\n    var className = getClassName(el).replace(regex, ' ');\n    setClassName(el, className);\n  }\n}\n\nfunction addClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    name.split(' ').forEach(function (cls) {\n      if (cls.trim()) {\n        el.classList.add(cls);\n      }\n    });\n  } else {\n    removeClass(el, name);\n    var cls = getClassName(el) + (' ' + name);\n    setClassName(el, cls);\n  }\n}\n\nfunction hasClass(el, name) {\n  if (typeof el.classList !== 'undefined') {\n    return el.classList.contains(name);\n  }\n  var className = getClassName(el);\n  return new RegExp('(^| )' + name + '( |$)', 'gi').test(className);\n}\n\nfunction getClassName(el) {\n  // Can't use just SVGAnimatedString here since nodes within a Frame in IE have\n  // completely separately SVGAnimatedString base classes\n  if (el.className instanceof el.ownerDocument.defaultView.SVGAnimatedString) {\n    return el.className.baseVal;\n  }\n  return el.className;\n}\n\nfunction setClassName(el, className) {\n  el.setAttribute('class', className);\n}\n\nfunction updateClasses(el, add, all) {\n  // Of the set of 'all' classes, we need the 'add' classes, and only the\n  // 'add' classes to be set.\n  all.forEach(function (cls) {\n    if (add.indexOf(cls) === -1 && hasClass(el, cls)) {\n      removeClass(el, cls);\n    }\n  });\n\n  add.forEach(function (cls) {\n    if (!hasClass(el, cls)) {\n      addClass(el, cls);\n    }\n  });\n}\n\nvar deferred = [];\n\nvar defer = function defer(fn) {\n  deferred.push(fn);\n};\n\nvar flush = function flush() {\n  var fn = undefined;\n  while (fn = deferred.pop()) {\n    fn();\n  }\n};\n\nvar Evented = (function () {\n  function Evented() {\n    _classCallCheck(this, Evented);\n  }\n\n  _createClass(Evented, [{\n    key: 'on',\n    value: function on(event, handler, ctx) {\n      var once = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n      if (typeof this.bindings === 'undefined') {\n        this.bindings = {};\n      }\n      if (typeof this.bindings[event] === 'undefined') {\n        this.bindings[event] = [];\n      }\n      this.bindings[event].push({ handler: handler, ctx: ctx, once: once });\n    }\n  }, {\n    key: 'once',\n    value: function once(event, handler, ctx) {\n      this.on(event, handler, ctx, true);\n    }\n  }, {\n    key: 'off',\n    value: function off(event, handler) {\n      if (typeof this.bindings === 'undefined' || typeof this.bindings[event] === 'undefined') {\n        return;\n      }\n\n      if (typeof handler === 'undefined') {\n        delete this.bindings[event];\n      } else {\n        var i = 0;\n        while (i < this.bindings[event].length) {\n          if (this.bindings[event][i].handler === handler) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(event) {\n      if (typeof this.bindings !== 'undefined' && this.bindings[event]) {\n        var i = 0;\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        while (i < this.bindings[event].length) {\n          var _bindings$event$i = this.bindings[event][i];\n          var handler = _bindings$event$i.handler;\n          var ctx = _bindings$event$i.ctx;\n          var once = _bindings$event$i.once;\n\n          var context = ctx;\n          if (typeof context === 'undefined') {\n            context = this;\n          }\n\n          handler.apply(context, args);\n\n          if (once) {\n            this.bindings[event].splice(i, 1);\n          } else {\n            ++i;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Evented;\n})();\n\nTetherBase.Utils = {\n  getActualBoundingClientRect: getActualBoundingClientRect,\n  getScrollParents: getScrollParents,\n  getBounds: getBounds,\n  getOffsetParent: getOffsetParent,\n  extend: extend,\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  updateClasses: updateClasses,\n  defer: defer,\n  flush: flush,\n  uniqueId: uniqueId,\n  Evented: Evented,\n  getScrollBarSize: getScrollBarSize,\n  removeUtilElements: removeUtilElements\n};\n/* globals TetherBase, performance */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (typeof TetherBase === 'undefined') {\n  throw new Error('You must include the utils.js file before tether.js');\n}\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getScrollParents = _TetherBase$Utils.getScrollParents;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar getOffsetParent = _TetherBase$Utils.getOffsetParent;\nvar extend = _TetherBase$Utils.extend;\nvar addClass = _TetherBase$Utils.addClass;\nvar removeClass = _TetherBase$Utils.removeClass;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\nvar flush = _TetherBase$Utils.flush;\nvar getScrollBarSize = _TetherBase$Utils.getScrollBarSize;\nvar removeUtilElements = _TetherBase$Utils.removeUtilElements;\n\nfunction within(a, b) {\n  var diff = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\n  return a + diff >= b && b >= a - diff;\n}\n\nvar transformKey = (function () {\n  if (typeof document === 'undefined') {\n    return '';\n  }\n  var el = document.createElement('div');\n\n  var transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (var i = 0; i < transforms.length; ++i) {\n    var key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nvar tethers = [];\n\nvar position = function position() {\n  tethers.forEach(function (tether) {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  if (typeof performance !== 'undefined' && typeof performance.now !== 'undefined') {\n    return performance.now();\n  }\n  return +new Date();\n}\n\n(function () {\n  var lastCall = null;\n  var lastDuration = null;\n  var pendingTimeout = null;\n\n  var tick = function tick() {\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (typeof lastCall !== 'undefined' && now() - lastCall < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (pendingTimeout != null) {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    ['resize', 'scroll', 'touchmove'].forEach(function (event) {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nvar MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nvar MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nvar OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nvar autoToFixedAttachment = function autoToFixedAttachment(attachment, relativeToAttachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nvar attachmentToOffset = function attachmentToOffset(attachment) {\n  var left = attachment.left;\n  var top = attachment.top;\n\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return { left: left, top: top };\n};\n\nfunction addOffset() {\n  var out = { top: 0, left: 0 };\n\n  for (var _len = arguments.length, offsets = Array(_len), _key = 0; _key < _len; _key++) {\n    offsets[_key] = arguments[_key];\n  }\n\n  offsets.forEach(function (_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (typeof top === 'string') {\n      top = parseFloat(top, 10);\n    }\n    if (typeof left === 'string') {\n      left = parseFloat(left, 10);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nfunction offsetToPx(offset, size) {\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n  }\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nvar parseOffset = function parseOffset(value) {\n  var _value$split = value.split(' ');\n\n  var _value$split2 = _slicedToArray(_value$split, 2);\n\n  var top = _value$split2[0];\n  var left = _value$split2[1];\n\n  return { top: top, left: left };\n};\nvar parseAttachment = parseOffset;\n\nvar TetherClass = (function (_Evented) {\n  _inherits(TetherClass, _Evented);\n\n  function TetherClass(options) {\n    var _this = this;\n\n    _classCallCheck(this, TetherClass);\n\n    _get(Object.getPrototypeOf(TetherClass.prototype), 'constructor', this).call(this);\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach(function (module) {\n      if (typeof module.initialize !== 'undefined') {\n        module.initialize.call(_this);\n      }\n    });\n\n    this.position();\n  }\n\n  _createClass(TetherClass, [{\n    key: 'getClass',\n    value: function getClass() {\n      var key = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n      var classes = this.options.classes;\n\n      if (typeof classes !== 'undefined' && classes[key]) {\n        return this.options.classes[key];\n      } else if (this.options.classPrefix) {\n        return this.options.classPrefix + '-' + key;\n      } else {\n        return key;\n      }\n    }\n  }, {\n    key: 'setOptions',\n    value: function setOptions(options) {\n      var _this2 = this;\n\n      var pos = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n      var defaults = {\n        offset: '0 0',\n        targetOffset: '0 0',\n        targetAttachment: 'auto auto',\n        classPrefix: 'tether'\n      };\n\n      this.options = extend(defaults, options);\n\n      var _options = this.options;\n      var element = _options.element;\n      var target = _options.target;\n      var targetModifier = _options.targetModifier;\n\n      this.element = element;\n      this.target = target;\n      this.targetModifier = targetModifier;\n\n      if (this.target === 'viewport') {\n        this.target = document.body;\n        this.targetModifier = 'visible';\n      } else if (this.target === 'scroll-handle') {\n        this.target = document.body;\n        this.targetModifier = 'scroll-handle';\n      }\n\n      ['element', 'target'].forEach(function (key) {\n        if (typeof _this2[key] === 'undefined') {\n          throw new Error('Tether Error: Both element and target must be defined');\n        }\n\n        if (typeof _this2[key].jquery !== 'undefined') {\n          _this2[key] = _this2[key][0];\n        } else if (typeof _this2[key] === 'string') {\n          _this2[key] = document.querySelector(_this2[key]);\n        }\n      });\n\n      addClass(this.element, this.getClass('element'));\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('target'));\n      }\n\n      if (!this.options.attachment) {\n        throw new Error('Tether Error: You must provide an attachment');\n      }\n\n      this.targetAttachment = parseAttachment(this.options.targetAttachment);\n      this.attachment = parseAttachment(this.options.attachment);\n      this.offset = parseOffset(this.options.offset);\n      this.targetOffset = parseOffset(this.options.targetOffset);\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.disable();\n      }\n\n      if (this.targetModifier === 'scroll-handle') {\n        this.scrollParents = [this.target];\n      } else {\n        this.scrollParents = getScrollParents(this.target);\n      }\n\n      if (!(this.options.enabled === false)) {\n        this.enable(pos);\n      }\n    }\n  }, {\n    key: 'getTargetBounds',\n    value: function getTargetBounds() {\n      if (typeof this.targetModifier !== 'undefined') {\n        if (this.targetModifier === 'visible') {\n          if (this.target === document.body) {\n            return { top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth };\n          } else {\n            var bounds = getBounds(this.target);\n\n            var out = {\n              height: bounds.height,\n              width: bounds.width,\n              top: bounds.top,\n              left: bounds.left\n            };\n\n            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n            out.height = Math.min(out.height, bounds.height - (bounds.top + bounds.height - (pageYOffset + innerHeight)));\n            out.height = Math.min(innerHeight, out.height);\n            out.height -= 2;\n\n            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n            out.width = Math.min(out.width, bounds.width - (bounds.left + bounds.width - (pageXOffset + innerWidth)));\n            out.width = Math.min(innerWidth, out.width);\n            out.width -= 2;\n\n            if (out.top < pageYOffset) {\n              out.top = pageYOffset;\n            }\n            if (out.left < pageXOffset) {\n              out.left = pageXOffset;\n            }\n\n            return out;\n          }\n        } else if (this.targetModifier === 'scroll-handle') {\n          var bounds = undefined;\n          var target = this.target;\n          if (target === document.body) {\n            target = document.documentElement;\n\n            bounds = {\n              left: pageXOffset,\n              top: pageYOffset,\n              height: innerHeight,\n              width: innerWidth\n            };\n          } else {\n            bounds = getBounds(target);\n          }\n\n          var style = getComputedStyle(target);\n\n          var hasBottomScroll = target.scrollWidth > target.clientWidth || [style.overflow, style.overflowX].indexOf('scroll') >= 0 || this.target !== document.body;\n\n          var scrollBottom = 0;\n          if (hasBottomScroll) {\n            scrollBottom = 15;\n          }\n\n          var height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n          var out = {\n            width: 15,\n            height: height * 0.975 * (height / target.scrollHeight),\n            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n          };\n\n          var fitAdj = 0;\n          if (height < 408 && this.target === document.body) {\n            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n          }\n\n          if (this.target !== document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          var scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n          out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n          if (this.target === document.body) {\n            out.height = Math.max(out.height, 24);\n          }\n\n          return out;\n        }\n      } else {\n        return getBounds(this.target);\n      }\n    }\n  }, {\n    key: 'clearCache',\n    value: function clearCache() {\n      this._cache = {};\n    }\n  }, {\n    key: 'cache',\n    value: function cache(k, getter) {\n      // More than one module will often need the same DOM info, so\n      // we keep a cache which is cleared on each position call\n      if (typeof this._cache === 'undefined') {\n        this._cache = {};\n      }\n\n      if (typeof this._cache[k] === 'undefined') {\n        this._cache[k] = getter.call(this);\n      }\n\n      return this._cache[k];\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var _this3 = this;\n\n      var pos = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      if (!(this.options.addTargetClasses === false)) {\n        addClass(this.target, this.getClass('enabled'));\n      }\n      addClass(this.element, this.getClass('enabled'));\n      this.enabled = true;\n\n      this.scrollParents.forEach(function (parent) {\n        if (parent !== _this3.target.ownerDocument) {\n          parent.addEventListener('scroll', _this3.position);\n        }\n      });\n\n      if (pos) {\n        this.position();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var _this4 = this;\n\n      removeClass(this.target, this.getClass('enabled'));\n      removeClass(this.element, this.getClass('enabled'));\n      this.enabled = false;\n\n      if (typeof this.scrollParents !== 'undefined') {\n        this.scrollParents.forEach(function (parent) {\n          parent.removeEventListener('scroll', _this4.position);\n        });\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var _this5 = this;\n\n      this.disable();\n\n      tethers.forEach(function (tether, i) {\n        if (tether === _this5) {\n          tethers.splice(i, 1);\n        }\n      });\n\n      // Remove any elements we were using for convenience from the DOM\n      if (tethers.length === 0) {\n        removeUtilElements();\n      }\n    }\n  }, {\n    key: 'updateAttachClasses',\n    value: function updateAttachClasses(elementAttach, targetAttach) {\n      var _this6 = this;\n\n      elementAttach = elementAttach || this.attachment;\n      targetAttach = targetAttach || this.targetAttachment;\n      var sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n      if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n        // updateAttachClasses can be called more than once in a position call, so\n        // we need to clean up after ourselves such that when the last defer gets\n        // ran it doesn't add any extra classes from previous calls.\n        this._addAttachClasses.splice(0, this._addAttachClasses.length);\n      }\n\n      if (typeof this._addAttachClasses === 'undefined') {\n        this._addAttachClasses = [];\n      }\n      var add = this._addAttachClasses;\n\n      if (elementAttach.top) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.top);\n      }\n      if (elementAttach.left) {\n        add.push(this.getClass('element-attached') + '-' + elementAttach.left);\n      }\n      if (targetAttach.top) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.top);\n      }\n      if (targetAttach.left) {\n        add.push(this.getClass('target-attached') + '-' + targetAttach.left);\n      }\n\n      var all = [];\n      sides.forEach(function (side) {\n        all.push(_this6.getClass('element-attached') + '-' + side);\n        all.push(_this6.getClass('target-attached') + '-' + side);\n      });\n\n      defer(function () {\n        if (!(typeof _this6._addAttachClasses !== 'undefined')) {\n          return;\n        }\n\n        updateClasses(_this6.element, _this6._addAttachClasses, all);\n        if (!(_this6.options.addTargetClasses === false)) {\n          updateClasses(_this6.target, _this6._addAttachClasses, all);\n        }\n\n        delete _this6._addAttachClasses;\n      });\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      var _this7 = this;\n\n      var flushChanges = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n      // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n      // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n      if (!this.enabled) {\n        return;\n      }\n\n      this.clearCache();\n\n      // Turn 'auto' attachments into the appropriate corner or edge\n      var targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n      this.updateAttachClasses(this.attachment, targetAttachment);\n\n      var elementPos = this.cache('element-bounds', function () {\n        return getBounds(_this7.element);\n      });\n\n      var width = elementPos.width;\n      var height = elementPos.height;\n\n      if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n        var _lastSize = this.lastSize;\n\n        // We cache the height and width to make it possible to position elements that are\n        // getting hidden.\n        width = _lastSize.width;\n        height = _lastSize.height;\n      } else {\n        this.lastSize = { width: width, height: height };\n      }\n\n      var targetPos = this.cache('target-bounds', function () {\n        return _this7.getTargetBounds();\n      });\n      var targetSize = targetPos;\n\n      // Get an actual px offset from the attachment\n      var offset = offsetToPx(attachmentToOffset(this.attachment), { width: width, height: height });\n      var targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n      var manualOffset = offsetToPx(this.offset, { width: width, height: height });\n      var manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n      // Add the manually provided offset\n      offset = addOffset(offset, manualOffset);\n      targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n      // It's now our goal to make (element position + offset) == (target position + target offset)\n      var left = targetPos.left + targetOffset.left - offset.left;\n      var top = targetPos.top + targetOffset.top - offset.top;\n\n      for (var i = 0; i < TetherBase.modules.length; ++i) {\n        var _module2 = TetherBase.modules[i];\n        var ret = _module2.position.call(this, {\n          left: left,\n          top: top,\n          targetAttachment: targetAttachment,\n          targetPos: targetPos,\n          elementPos: elementPos,\n          offset: offset,\n          targetOffset: targetOffset,\n          manualOffset: manualOffset,\n          manualTargetOffset: manualTargetOffset,\n          scrollbarSize: scrollbarSize,\n          attachment: this.attachment\n        });\n\n        if (ret === false) {\n          return false;\n        } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n          continue;\n        } else {\n          top = ret.top;\n          left = ret.left;\n        }\n      }\n\n      // We describe the position three different ways to give the optimizer\n      // a chance to decide the best possible way to position the element\n      // with the fewest repaints.\n      var next = {\n        // It's position relative to the page (absolute positioning when\n        // the element is a child of the body)\n        page: {\n          top: top,\n          left: left\n        },\n\n        // It's position relative to the viewport (fixed positioning)\n        viewport: {\n          top: top - pageYOffset,\n          bottom: pageYOffset - top - height + innerHeight,\n          left: left - pageXOffset,\n          right: pageXOffset - left - width + innerWidth\n        }\n      };\n\n      var doc = this.target.ownerDocument;\n      var win = doc.defaultView;\n\n      var scrollbarSize = undefined;\n      if (win.innerHeight > doc.documentElement.clientHeight) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.bottom -= scrollbarSize.height;\n      }\n\n      if (win.innerWidth > doc.documentElement.clientWidth) {\n        scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n        next.viewport.right -= scrollbarSize.width;\n      }\n\n      if (['', 'static'].indexOf(doc.body.style.position) === -1 || ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n        // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n        next.page.bottom = doc.body.scrollHeight - top - height;\n        next.page.right = doc.body.scrollWidth - left - width;\n      }\n\n      if (typeof this.options.optimizations !== 'undefined' && this.options.optimizations.moveElement !== false && !(typeof this.targetModifier !== 'undefined')) {\n        (function () {\n          var offsetParent = _this7.cache('target-offsetparent', function () {\n            return getOffsetParent(_this7.target);\n          });\n          var offsetPosition = _this7.cache('target-offsetparent-bounds', function () {\n            return getBounds(offsetParent);\n          });\n          var offsetParentStyle = getComputedStyle(offsetParent);\n          var offsetParentSize = offsetPosition;\n\n          var offsetBorder = {};\n          ['Top', 'Left', 'Bottom', 'Right'].forEach(function (side) {\n            offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle['border' + side + 'Width']);\n          });\n\n          offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n          offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n          if (next.page.top >= offsetPosition.top + offsetBorder.top && next.page.bottom >= offsetPosition.bottom) {\n            if (next.page.left >= offsetPosition.left + offsetBorder.left && next.page.right >= offsetPosition.right) {\n              // We're within the visible part of the target's scroll parent\n              var scrollTop = offsetParent.scrollTop;\n              var scrollLeft = offsetParent.scrollLeft;\n\n              // It's position relative to the target's offset parent (absolute positioning when\n              // the element is moved to be a child of the target's offset parent).\n              next.offset = {\n                top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n              };\n            }\n          }\n        })();\n      }\n\n      // We could also travel up the DOM and try each containing context, rather than only\n      // looking at the body, but we're gonna get diminishing returns.\n\n      this.move(next);\n\n      this.history.unshift(next);\n\n      if (this.history.length > 3) {\n        this.history.pop();\n      }\n\n      if (flushChanges) {\n        flush();\n      }\n\n      return true;\n    }\n\n    // THE ISSUE\n  }, {\n    key: 'move',\n    value: function move(pos) {\n      var _this8 = this;\n\n      if (!(typeof this.element.parentNode !== 'undefined')) {\n        return;\n      }\n\n      var same = {};\n\n      for (var type in pos) {\n        same[type] = {};\n\n        for (var key in pos[type]) {\n          var found = false;\n\n          for (var i = 0; i < this.history.length; ++i) {\n            var point = this.history[i];\n            if (typeof point[type] !== 'undefined' && !within(point[type][key], pos[type][key])) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            same[type][key] = true;\n          }\n        }\n      }\n\n      var css = { top: '', left: '', right: '', bottom: '' };\n\n      var transcribe = function transcribe(_same, _pos) {\n        var hasOptimizations = typeof _this8.options.optimizations !== 'undefined';\n        var gpu = hasOptimizations ? _this8.options.optimizations.gpu : null;\n        if (gpu !== false) {\n          var yPos = undefined,\n              xPos = undefined;\n          if (_same.top) {\n            css.top = 0;\n            yPos = _pos.top;\n          } else {\n            css.bottom = 0;\n            yPos = -_pos.bottom;\n          }\n\n          if (_same.left) {\n            css.left = 0;\n            xPos = _pos.left;\n          } else {\n            css.right = 0;\n            xPos = -_pos.right;\n          }\n\n          if (window.matchMedia) {\n            // HubSpot/tether#207\n            var retina = window.matchMedia('only screen and (min-resolution: 1.3dppx)').matches || window.matchMedia('only screen and (-webkit-min-device-pixel-ratio: 1.3)').matches;\n            if (!retina) {\n              xPos = Math.round(xPos);\n              yPos = Math.round(yPos);\n            }\n          }\n\n          css[transformKey] = 'translateX(' + xPos + 'px) translateY(' + yPos + 'px)';\n\n          if (transformKey !== 'msTransform') {\n            // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n            // but IE9 doesn't support 3d transforms and will choke.\n            css[transformKey] += \" translateZ(0)\";\n          }\n        } else {\n          if (_same.top) {\n            css.top = _pos.top + 'px';\n          } else {\n            css.bottom = _pos.bottom + 'px';\n          }\n\n          if (_same.left) {\n            css.left = _pos.left + 'px';\n          } else {\n            css.right = _pos.right + 'px';\n          }\n        }\n      };\n\n      var moved = false;\n      if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n        css.position = 'absolute';\n        transcribe(same.page, pos.page);\n      } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n        css.position = 'fixed';\n        transcribe(same.viewport, pos.viewport);\n      } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n        (function () {\n          css.position = 'absolute';\n          var offsetParent = _this8.cache('target-offsetparent', function () {\n            return getOffsetParent(_this8.target);\n          });\n\n          if (getOffsetParent(_this8.element) !== offsetParent) {\n            defer(function () {\n              _this8.element.parentNode.removeChild(_this8.element);\n              offsetParent.appendChild(_this8.element);\n            });\n          }\n\n          transcribe(same.offset, pos.offset);\n          moved = true;\n        })();\n      } else {\n        css.position = 'absolute';\n        transcribe({ top: true, left: true }, pos.page);\n      }\n\n      if (!moved) {\n        if (this.options.bodyElement) {\n          this.options.bodyElement.appendChild(this.element);\n        } else {\n          var offsetParentIsBody = true;\n          var currentNode = this.element.parentNode;\n          while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY') {\n            if (getComputedStyle(currentNode).position !== 'static') {\n              offsetParentIsBody = false;\n              break;\n            }\n\n            currentNode = currentNode.parentNode;\n          }\n\n          if (!offsetParentIsBody) {\n            this.element.parentNode.removeChild(this.element);\n            this.element.ownerDocument.body.appendChild(this.element);\n          }\n        }\n      }\n\n      // Any css change will trigger a repaint, so let's avoid one if nothing changed\n      var writeCSS = {};\n      var write = false;\n      for (var key in css) {\n        var val = css[key];\n        var elVal = this.element.style[key];\n\n        if (elVal !== val) {\n          write = true;\n          writeCSS[key] = val;\n        }\n      }\n\n      if (write) {\n        defer(function () {\n          extend(_this8.element.style, writeCSS);\n          _this8.trigger('repositioned');\n        });\n      }\n    }\n  }]);\n\n  return TetherClass;\n})(Evented);\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nvar Tether = extend(TetherClass, TetherBase);\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar extend = _TetherBase$Utils.extend;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nvar BOUNDS_FORMAT = ['left', 'top', 'right', 'bottom'];\n\nfunction getBoundingRect(tether, to) {\n  if (to === 'scrollParent') {\n    to = tether.scrollParents[0];\n  } else if (to === 'window') {\n    to = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset];\n  }\n\n  if (to === document) {\n    to = to.documentElement;\n  }\n\n  if (typeof to.nodeType !== 'undefined') {\n    (function () {\n      var node = to;\n      var size = getBounds(to);\n      var pos = size;\n      var style = getComputedStyle(to);\n\n      to = [pos.left, pos.top, size.width + pos.left, size.height + pos.top];\n\n      // Account any parent Frames scroll offset\n      if (node.ownerDocument !== document) {\n        var win = node.ownerDocument.defaultView;\n        to[0] += win.pageXOffset;\n        to[1] += win.pageYOffset;\n        to[2] += win.pageXOffset;\n        to[3] += win.pageYOffset;\n      }\n\n      BOUNDS_FORMAT.forEach(function (side, i) {\n        side = side[0].toUpperCase() + side.substr(1);\n        if (side === 'Top' || side === 'Left') {\n          to[i] += parseFloat(style['border' + side + 'Width']);\n        } else {\n          to[i] -= parseFloat(style['border' + side + 'Width']);\n        }\n      });\n    })();\n  }\n\n  return to;\n}\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n    var targetAttachment = _ref.targetAttachment;\n\n    if (!this.options.constraints) {\n      return true;\n    }\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n      var _lastSize = this.lastSize;\n\n      // Handle the item getting hidden as a result of our positioning without glitching\n      // the classes in and out\n      width = _lastSize.width;\n      height = _lastSize.height;\n    }\n\n    var targetSize = this.cache('target-bounds', function () {\n      return _this.getTargetBounds();\n    });\n\n    var targetHeight = targetSize.height;\n    var targetWidth = targetSize.width;\n\n    var allClasses = [this.getClass('pinned'), this.getClass('out-of-bounds')];\n\n    this.options.constraints.forEach(function (constraint) {\n      var outOfBoundsClass = constraint.outOfBoundsClass;\n      var pinnedClass = constraint.pinnedClass;\n\n      if (outOfBoundsClass) {\n        allClasses.push(outOfBoundsClass);\n      }\n      if (pinnedClass) {\n        allClasses.push(pinnedClass);\n      }\n    });\n\n    allClasses.forEach(function (cls) {\n      ['left', 'top', 'right', 'bottom'].forEach(function (side) {\n        allClasses.push(cls + '-' + side);\n      });\n    });\n\n    var addClasses = [];\n\n    var tAttachment = extend({}, targetAttachment);\n    var eAttachment = extend({}, this.attachment);\n\n    this.options.constraints.forEach(function (constraint) {\n      var to = constraint.to;\n      var attachment = constraint.attachment;\n      var pin = constraint.pin;\n\n      if (typeof attachment === 'undefined') {\n        attachment = '';\n      }\n\n      var changeAttachX = undefined,\n          changeAttachY = undefined;\n      if (attachment.indexOf(' ') >= 0) {\n        var _attachment$split = attachment.split(' ');\n\n        var _attachment$split2 = _slicedToArray(_attachment$split, 2);\n\n        changeAttachY = _attachment$split2[0];\n        changeAttachX = _attachment$split2[1];\n      } else {\n        changeAttachX = changeAttachY = attachment;\n      }\n\n      var bounds = getBoundingRect(_this, to);\n\n      if (changeAttachY === 'target' || changeAttachY === 'both') {\n        if (top < bounds[1] && tAttachment.top === 'top') {\n          top += targetHeight;\n          tAttachment.top = 'bottom';\n        }\n\n        if (top + height > bounds[3] && tAttachment.top === 'bottom') {\n          top -= targetHeight;\n          tAttachment.top = 'top';\n        }\n      }\n\n      if (changeAttachY === 'together') {\n        if (tAttachment.top === 'top') {\n          if (eAttachment.top === 'bottom' && top < bounds[1]) {\n            top += targetHeight;\n            tAttachment.top = 'bottom';\n\n            top += height;\n            eAttachment.top = 'top';\n          } else if (eAttachment.top === 'top' && top + height > bounds[3] && top - (height - targetHeight) >= bounds[1]) {\n            top -= height - targetHeight;\n            tAttachment.top = 'bottom';\n\n            eAttachment.top = 'bottom';\n          }\n        }\n\n        if (tAttachment.top === 'bottom') {\n          if (eAttachment.top === 'top' && top + height > bounds[3]) {\n            top -= targetHeight;\n            tAttachment.top = 'top';\n\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (eAttachment.top === 'bottom' && top < bounds[1] && top + (height * 2 - targetHeight) <= bounds[3]) {\n            top += height - targetHeight;\n            tAttachment.top = 'top';\n\n            eAttachment.top = 'top';\n          }\n        }\n\n        if (tAttachment.top === 'middle') {\n          if (top + height > bounds[3] && eAttachment.top === 'top') {\n            top -= height;\n            eAttachment.top = 'bottom';\n          } else if (top < bounds[1] && eAttachment.top === 'bottom') {\n            top += height;\n            eAttachment.top = 'top';\n          }\n        }\n      }\n\n      if (changeAttachX === 'target' || changeAttachX === 'both') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          left += targetWidth;\n          tAttachment.left = 'right';\n        }\n\n        if (left + width > bounds[2] && tAttachment.left === 'right') {\n          left -= targetWidth;\n          tAttachment.left = 'left';\n        }\n      }\n\n      if (changeAttachX === 'together') {\n        if (left < bounds[0] && tAttachment.left === 'left') {\n          if (eAttachment.left === 'right') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'left') {\n            left += targetWidth;\n            tAttachment.left = 'right';\n\n            left -= width;\n            eAttachment.left = 'right';\n          }\n        } else if (left + width > bounds[2] && tAttachment.left === 'right') {\n          if (eAttachment.left === 'left') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'right') {\n            left -= targetWidth;\n            tAttachment.left = 'left';\n\n            left += width;\n            eAttachment.left = 'left';\n          }\n        } else if (tAttachment.left === 'center') {\n          if (left + width > bounds[2] && eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (left < bounds[0] && eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          }\n        }\n      }\n\n      if (changeAttachY === 'element' || changeAttachY === 'both') {\n        if (top < bounds[1] && eAttachment.top === 'bottom') {\n          top += height;\n          eAttachment.top = 'top';\n        }\n\n        if (top + height > bounds[3] && eAttachment.top === 'top') {\n          top -= height;\n          eAttachment.top = 'bottom';\n        }\n      }\n\n      if (changeAttachX === 'element' || changeAttachX === 'both') {\n        if (left < bounds[0]) {\n          if (eAttachment.left === 'right') {\n            left += width;\n            eAttachment.left = 'left';\n          } else if (eAttachment.left === 'center') {\n            left += width / 2;\n            eAttachment.left = 'left';\n          }\n        }\n\n        if (left + width > bounds[2]) {\n          if (eAttachment.left === 'left') {\n            left -= width;\n            eAttachment.left = 'right';\n          } else if (eAttachment.left === 'center') {\n            left -= width / 2;\n            eAttachment.left = 'right';\n          }\n        }\n      }\n\n      if (typeof pin === 'string') {\n        pin = pin.split(',').map(function (p) {\n          return p.trim();\n        });\n      } else if (pin === true) {\n        pin = ['top', 'left', 'right', 'bottom'];\n      }\n\n      pin = pin || [];\n\n      var pinned = [];\n      var oob = [];\n\n      if (top < bounds[1]) {\n        if (pin.indexOf('top') >= 0) {\n          top = bounds[1];\n          pinned.push('top');\n        } else {\n          oob.push('top');\n        }\n      }\n\n      if (top + height > bounds[3]) {\n        if (pin.indexOf('bottom') >= 0) {\n          top = bounds[3] - height;\n          pinned.push('bottom');\n        } else {\n          oob.push('bottom');\n        }\n      }\n\n      if (left < bounds[0]) {\n        if (pin.indexOf('left') >= 0) {\n          left = bounds[0];\n          pinned.push('left');\n        } else {\n          oob.push('left');\n        }\n      }\n\n      if (left + width > bounds[2]) {\n        if (pin.indexOf('right') >= 0) {\n          left = bounds[2] - width;\n          pinned.push('right');\n        } else {\n          oob.push('right');\n        }\n      }\n\n      if (pinned.length) {\n        (function () {\n          var pinnedClass = undefined;\n          if (typeof _this.options.pinnedClass !== 'undefined') {\n            pinnedClass = _this.options.pinnedClass;\n          } else {\n            pinnedClass = _this.getClass('pinned');\n          }\n\n          addClasses.push(pinnedClass);\n          pinned.forEach(function (side) {\n            addClasses.push(pinnedClass + '-' + side);\n          });\n        })();\n      }\n\n      if (oob.length) {\n        (function () {\n          var oobClass = undefined;\n          if (typeof _this.options.outOfBoundsClass !== 'undefined') {\n            oobClass = _this.options.outOfBoundsClass;\n          } else {\n            oobClass = _this.getClass('out-of-bounds');\n          }\n\n          addClasses.push(oobClass);\n          oob.forEach(function (side) {\n            addClasses.push(oobClass + '-' + side);\n          });\n        })();\n      }\n\n      if (pinned.indexOf('left') >= 0 || pinned.indexOf('right') >= 0) {\n        eAttachment.left = tAttachment.left = false;\n      }\n      if (pinned.indexOf('top') >= 0 || pinned.indexOf('bottom') >= 0) {\n        eAttachment.top = tAttachment.top = false;\n      }\n\n      if (tAttachment.top !== targetAttachment.top || tAttachment.left !== targetAttachment.left || eAttachment.top !== _this.attachment.top || eAttachment.left !== _this.attachment.left) {\n        _this.updateAttachClasses(eAttachment, tAttachment);\n        _this.trigger('update', {\n          attachment: eAttachment,\n          targetAttachment: tAttachment\n        });\n      }\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return { top: top, left: left };\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _TetherBase$Utils = TetherBase.Utils;\nvar getBounds = _TetherBase$Utils.getBounds;\nvar updateClasses = _TetherBase$Utils.updateClasses;\nvar defer = _TetherBase$Utils.defer;\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var _this = this;\n\n    var top = _ref.top;\n    var left = _ref.left;\n\n    var _cache = this.cache('element-bounds', function () {\n      return getBounds(_this.element);\n    });\n\n    var height = _cache.height;\n    var width = _cache.width;\n\n    var targetPos = this.getTargetBounds();\n\n    var bottom = top + height;\n    var right = left + width;\n\n    var abutted = [];\n    if (top <= targetPos.bottom && bottom >= targetPos.top) {\n      ['left', 'right'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === left || targetPosSide === right) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    if (left <= targetPos.right && right >= targetPos.left) {\n      ['top', 'bottom'].forEach(function (side) {\n        var targetPosSide = targetPos[side];\n        if (targetPosSide === top || targetPosSide === bottom) {\n          abutted.push(side);\n        }\n      });\n    }\n\n    var allClasses = [];\n    var addClasses = [];\n\n    var sides = ['left', 'top', 'right', 'bottom'];\n    allClasses.push(this.getClass('abutted'));\n    sides.forEach(function (side) {\n      allClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    if (abutted.length) {\n      addClasses.push(this.getClass('abutted'));\n    }\n\n    abutted.forEach(function (side) {\n      addClasses.push(_this.getClass('abutted') + '-' + side);\n    });\n\n    defer(function () {\n      if (!(_this.options.addTargetClasses === false)) {\n        updateClasses(_this.target, addClasses, allClasses);\n      }\n      updateClasses(_this.element, addClasses, allClasses);\n    });\n\n    return true;\n  }\n});\n/* globals TetherBase */\n\n'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nTetherBase.modules.push({\n  position: function position(_ref) {\n    var top = _ref.top;\n    var left = _ref.left;\n\n    if (!this.options.shift) {\n      return;\n    }\n\n    var shift = this.options.shift;\n    if (typeof this.options.shift === 'function') {\n      shift = this.options.shift.call(this, { top: top, left: left });\n    }\n\n    var shiftTop = undefined,\n        shiftLeft = undefined;\n    if (typeof shift === 'string') {\n      shift = shift.split(' ');\n      shift[1] = shift[1] || shift[0];\n\n      var _shift = shift;\n\n      var _shift2 = _slicedToArray(_shift, 2);\n\n      shiftTop = _shift2[0];\n      shiftLeft = _shift2[1];\n\n      shiftTop = parseFloat(shiftTop, 10);\n      shiftLeft = parseFloat(shiftLeft, 10);\n    } else {\n      shiftTop = shift.top;\n      shiftLeft = shift.left;\n    }\n\n    top += shiftTop;\n    left += shiftLeft;\n\n    return { top: top, left: left };\n  }\n});\nreturn Tether;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tether/dist/js/tether.js\n// module id = 45\n// module chunks = 0","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/timers-browserify/main.js\n// module id = 46\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/whatwg-fetch/fetch.js\n// module id = 47\n// module chunks = 0"],"sourceRoot":""}